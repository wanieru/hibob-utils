// ==UserScript==
// @name        HiBob Time Utilities
// @version     1.1.7
// @author      Funday Factory
// @description Utilities to make it easier to log time in HiBob
// @match       https://app.hibob.com/*
// @namespace   http://tampermonkey.net/
// @icon        https://www.google.com/s2/favicons?sz=64&domain=hibob.com
// @grant       none
// ==/UserScript==

(()=>{"use strict";class e{static xhr(e,t,n){return new Promise((a=>{let s=new XMLHttpRequest;s.open(e,t),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-Type","application/json"),s.onreadystatechange=()=>{if(4===s.readyState){let e;try{e=JSON.parse(s.responseText)}catch(t){e={result:s.responseText}}if(200!==s.status){if(e.hasOwnProperty("error")){const t=e.hasOwnProperty("key")?e.key:s.status.toString();alert(`HiBob Utils: Error ${t} - ${e.error}`)}else alert(`HiBob Utils: Error ${s.status} - check the developer console for more information.`);console.log(`HiBob Utils: Error ${s.status}.`),console.log(s)}a({status:s.status,body:e})}},s.send(JSON.stringify(n))}))}}class t{static parse(e){if(!e)return null;const t=e.split("T");return t.length<2&&t.push("00:00"),new Date(t.join("T")).getTime()}static format(e,t){if(!e)return"";const n=new Date(e);return`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}-${n.getDate().toString().padStart(2,"0")}${t?`T${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`:""}`}static formatHour(e){const t=Math.floor(e%24),n=Math.round(60*(e-t));return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}static getWeekNumberFromDate(e){var t=new Date(e);t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)}static parseTimeTohours(e){const t=e.split(":");return parseInt(t[0])+parseInt(t[1])/60}}class n{static async submit(n,a){if(a.some((e=>!e.reasonId)))return console.log("WARNING: SOME ENTRIES HAVE NO REASON SET - NOT SUBMITTING!!",n,a),!1;const s=a.map((e=>{var a;return{start:t.format(n+3600*e.startHour*1e3,!0),end:e.lengthHours?t.format(n+3600*(e.startHour+e.lengthHours)*1e3,!0):void 0,reason:e.reasonId,comment:null!==(a=e.comment)&&void 0!==a?a:void 0}})),o=t.format(n,!1),i=await this.getUserId();return 200===(await e.xhr("POST",`https://app.hibob.com/api/attendance/employees/${i}/attendance/entries?forDate=${o}`,s)).status}static async timelogReasons(){return(await this.metadata()).timeLogEntryReason.values.map((e=>({id:e.serverId,name:e.value})))}static async attendance(t){return(await e.xhr("GET",`https://app.hibob.com/api/employees/attendance/my/sheets/${t}`,{})).body}static async sheets(){const t=await this.getUserId();return(await e.xhr("GET",`https://app.hibob.com/api/employees/${t}/timelog/attendance/sheets`,{})).body}static async metadata(){return(await e.xhr("GET","https://app.hibob.com/api/company/metadata/lists/?includeArchived=true",{})).body}static async getUserId(){var e;return"string"!=typeof this.userId&&await this.userInfo(),null!==(e=this.userId)&&void 0!==e?e:""}static async userInfo(){const t=await e.xhr("GET","https://app.hibob.com/api/user",{});return this.userId=t.body.id,t.body}}class a{static for(e){return new Promise((t=>{window.setTimeout((()=>t()),e)}))}static until(e){return new Promise((t=>{const n=window.setInterval((()=>{e()&&(t(),window.clearInterval(n))}),1)}))}}var s,o;!function(e){e[e.FixAll=0]="FixAll",e[e.FixLatest=1]="FixLatest"}(s||(s={}));class i{constructor(){this.handlers=[]}on(e,t){this.handlers.push({handler:e,context:t})}off(e,t){this.handlers=this.handlers.filter((n=>n.handler!==e||n.context!==t))}fire(e){this.handlers.forEach((t=>t.handler.call(t.context,e)))}}class r{static initialize(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200",e.rel="stylesheet",document.head.appendChild(e)}static get(e,t=!1){const n=document.createElement("span");return n.className="material-symbols-outlined",n.innerText=e,n.style.verticalAlign="middle",n.style.fontSize="1.5em",n.style.fontVariationSettings="'FILL' "+(t?1:0),n}}class l{static round(e,t){return Math.round(e*10**t)/10**t}static floor(e,t){return Math.floor(e*10**t)/10**t}static ceil(e,t){return Math.ceil(e*10**t)/10**t}static sum(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}}!function(e){e[e.Waiting=0]="Waiting",e[e.Saving=1]="Saving",e[e.Saved=2]="Saved",e[e.Error=3]="Error"}(o||(o={}));class d{constructor(){this.sheets=[],this.onDateUpdated=new i,this.onReasonsUpdated=new i,this.onSheetUpdated=new i,this.onSheetsUpdated=new i,this.onSaveStatusUpdated=new i,this.saveHandle=-1,this.saving=!1,this.calculatingFlex=!1,this.fetchingSheets=!1,this.reasons=[]}async initialize(){await this.fetchSheets(),await this.fetchReasons(),this.onSaveStatusUpdated.fire(o.Saved)}async fetchSheets(){var e,s;await a.until((()=>!this.fetchingSheets)),this.fetchingSheets=!0,this.sheets=[];const o=await n.sheets();for(const n of o.employeeSheets){const a=null!==(e=t.parse(n.cycleStartDate))&&void 0!==e?e:0,o=null!==(s=t.parse(n.cycleEndDate))&&void 0!==s?s:0,i={id:n.id,status:n.status,start:a,end:o,dates:[],locked:n.locked,hoursPerDay:0};this.sheets.push(i)}this.sheets.sort(((e,t)=>t.start-e.start)),this.onSheetsUpdated.fire(this.sheets),this.fetchingSheets=!1}async fetchReasons(){this.reasons=(await n.metadata()).timeLogEntryReason.values,this.onReasonsUpdated.fire(this.reasons)}async fetchSheet(e){var a;const s=this.sheets.find((t=>t.id===e));if(!s)return;const o=await n.attendance(e);s.hoursPerDay=o.summary.potentialWorkingHours/o.summary.potentialWorkingDays,s.dates=[];for(const e of o.attendance){const n={dirty:!1,date:null!==(a=t.parse(e.date))&&void 0!==a?a:Date.now(),nonWorkingDay:"WeekendEvent"===e.status||"ApproveTimeoffRequest"===e.status,hoursToWork:s.hoursPerDay,favorited:!1,dateDescription:e.note.description,entries:e.entries.map((n=>{var a,s,o,i,r;return{startHour:l.floor(((null!==(a=t.parse(n.start))&&void 0!==a?a:Date.now())-(null!==(s=t.parse(e.date))&&void 0!==s?s:Date.now()))/36e5,2),lengthHours:l.ceil(((null!==(o=t.parse(n.end))&&void 0!==o?o:Date.now())-(null!==(i=t.parse(n.start))&&void 0!==i?i:Date.now()))/36e5,2),reasonId:n.reason,comment:null!==(r=n.comment)&&void 0!==r?r:null,hasComment:!!n.comment}})).sort(((e,t)=>e.startHour-t.startHour))};"number"==typeof e.paidTimeoffSeconds&&e.paidTimeoffSeconds>0?n.hoursToWork-=e.paidTimeoffSeconds/3600:n.nonWorkingDay&&(n.hoursToWork=0),s.dates.push(n)}s.dates.sort(((e,t)=>t.date-e.date));const i=await this.getFavoritedDate();i&&i.sheet===s&&(i.date.favorited=!0),this.onSheetUpdated.fire(s)}changeStartHour(e,t,n){const a=this.sheets.find((t=>t.dates.some((t=>t===e))));a&&(e.entries[t].startHour=n,e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:a,date:e}))}changeLengthHours(e,t,n){const a=this.sheets.find((t=>t.dates.some((t=>t===e))));a&&(e.entries[t].lengthHours=n,e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:a,date:e}))}changeReason(e,t,n){const a=this.sheets.find((t=>t.dates.some((t=>t===e))));a&&(e.entries[t].reasonId=n,e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:a,date:e}))}changeComment(e,t,n){const a=this.sheets.find((t=>t.dates.some((t=>t===e))));a&&(e.entries[t].comment=n,e.entries[t].hasComment=!0,e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:a,date:e}))}toggleComment(e,t){const n=this.sheets.find((t=>t.dates.some((t=>t===e))));n&&(e.entries[t].hasComment=!e.entries[t].hasComment,e.entries[t].comment=e.entries[t].hasComment?"":null,e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:n,date:e}))}async setFavoritedDate(e){const n=this.sheets.find((t=>t.dates.some((t=>t===e))));if(!n)return;const a=await this.getFavoritedDate();a&&(a.date.favorited=!1,this.onDateUpdated.fire(a)),e.favorited=!0,this.onDateUpdated.fire({sheet:n,date:e}),window.localStorage.setItem("tl_favorite",JSON.stringify({date:t.format(e.date,!1)}))}async getFavoritedDate(){const e=window.localStorage.getItem("tl_favorite");if(!e)return null;const n=JSON.parse(e),a=t.parse(n.date);if("number"==typeof a){const e=this.sheets.find((e=>e.start<=a&&e.end>=a));if(e){e.dates.length<1&&await this.fetchSheet(e.id);const t=e.dates.find((e=>e.date===a));if(t)return{sheet:e,date:t}}}return null}deleteEntry(e,t){const n=this.sheets.find((t=>t.dates.some((t=>t===e))));n&&(e.entries.splice(t,1),e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:n,date:e}))}async findLastEntry(e){const t=this.sheets.find((t=>t.dates.some((t=>t===e))));if(!t)return;let n=t.dates.indexOf(e),a=-1;for(let e=this.sheets.indexOf(t);e<this.sheets.length;e++){const t=this.sheets[e];for(t.dates.length<1&&await this.fetchSheet(t.id);n<t.dates.length;n++){const e=t.dates[n];if(e.entries.length>0)return a<0?e.entries[e.entries.length-1]:e.entries[a];a=0}n=0}}async newEntry(e){const t=this.sheets.find((t=>t.dates.some((t=>t===e))));if(!t)return;const n=await this.findLastEntry(e);let a=8.5,s=l.round(t.hoursPerDay,2),o="";n&&(e.entries.includes(n)&&(a=n.startHour+n.lengthHours,s=1),o=n.reasonId),e.entries.push({startHour:a,lengthHours:s,reasonId:o,comment:null,hasComment:!1}),e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:t,date:e})}async pasteFromStarred(e){if(e.entries.length>0)return;const t=this.sheets.find((t=>t.dates.some((t=>t===e))));if(!t)return;const n=await this.getFavoritedDate();if(n&&n.date!==e){for(const t of n.date.entries)e.entries.push({startHour:t.startHour,lengthHours:t.lengthHours,reasonId:t.reasonId,comment:t.comment,hasComment:t.hasComment});e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:t,date:e})}}queueSave(){window.clearTimeout(this.saveHandle),this.saveHandle=window.setTimeout((()=>this.save()),500),this.onSaveStatusUpdated.fire(o.Waiting)}async save(){await a.until((()=>!this.saving)),this.saving=!0,this.onSaveStatusUpdated.fire(o.Saving);const e=a.for(100);let t=!1;for(const e of this.sheets)for(const a of e.dates)a.dirty&&(await n.submit(a.date,a.entries)?a.dirty=!1:t=!0);await e,this.onSaveStatusUpdated.fire(t?o.Error:o.Saved),this.saving=!1}getFlexPolicy(){return{previousDaysIncluded:28,flexWarningThreshold:21}}async clearSheetBalanceCache(){if(this.sheets)for(let e=0;e<this.sheets.length;e++){const t=this.sheets[e];if(!t)continue;const n=`tl_cached_hour_balances_${t.id}`;t.locked&&null!==window.localStorage.getItem(n)&&window.localStorage.removeItem(n)}}async getCachedBalances(){var e;const n={};for(let a=this.sheets.length-1;a>=0;a--){const s=this.sheets[a];if(!s)continue;let o=[];const i=`tl_cached_hour_balances_${s.id}`;if(s.locked&&null!==window.localStorage.getItem(i))o=JSON.parse(null!==(e=window.localStorage.getItem(i))&&void 0!==e?e:"[]");else{if(s.dates.length<1&&await this.fetchSheet(s.id),s.dates.some((e=>e.entries.length>0&&e.entries.some((e=>e.lengthHours>0)))))for(const e of s.dates){const t=l.sum(e.entries.map((e=>e.lengthHours)))-e.hoursToWork;o.push({date:e.date,balance:t})}s.locked&&s.id>0&&window.localStorage.setItem(i,JSON.stringify(o))}n[s.id.toString()]=o.map((e=>({date:e.date,dateString:t.format(e.date,!1),realBalance:e.balance,reallocatedBalance:l.round(e.balance,3)}))).sort(((e,t)=>e.date-t.date))}return n}async getFlexStatus(){var e,n,s;const o=this.getFlexPolicy(),i=null!==(e=t.parse(t.format(Date.now(),!1)))&&void 0!==e?e:0,r=null!==(n=t.parse(t.format(i-864e5*(o.previousDaysIncluded-1),!1)))&&void 0!==n?n:0,d=null!==(s=t.parse(t.format(i-864e5*(o.flexWarningThreshold-1),!1)))&&void 0!==s?s:0,c=[];let h=0;if(this.sheets){await a.until((()=>!this.calculatingFlex)),this.calculatingFlex=!0;const e=await this.getCachedBalances();for(let t=this.sheets.length-1;t>=0;t--){const n=e[this.sheets[t].id];n&&c.push(...n)}for(let e=0;e<c.length;e++){const t=c[e];for(let n=0;n<e&&0!==t.reallocatedBalance;n++){const e=c[n],a=Math.min(Math.abs(t.reallocatedBalance),Math.abs(e.reallocatedBalance));t.reallocatedBalance<0&&e.reallocatedBalance>0?(e.reallocatedBalance-=a,t.reallocatedBalance+=a):t.reallocatedBalance>0&&e.reallocatedBalance<0&&(e.reallocatedBalance+=a,t.reallocatedBalance-=a),e.reallocatedBalance=l.round(e.reallocatedBalance,3)}t.reallocatedBalance=l.round(t.reallocatedBalance,3)}h=l.sum(c.map((e=>l.round(e.reallocatedBalance,3)))),this.calculatingFlex=!1}return{balance:h,unbalancedDates:c.filter((e=>0!==e.reallocatedBalance)),overdueDates:c.filter((e=>0!==e.reallocatedBalance&&e.date<=r)),warningDates:c.filter((e=>0!==e.reallocatedBalance&&e.date<=d&&e.date>r))}}}r.initialize(),new class{constructor(){this.sheetDropdownOptions=[],this.sheetDates=[],this.weekSums=[],this.reasons=[],this.onDarkModeChange=new i,window.timelog=this,this.addButton()}async addButton(){for(;;){const e=document.querySelector("div.app-content > app-top-bar.app-top-bar > div.actions");if(e){this.toggleButton=document.createElement("button"),this.toggleButton.className="tl-toggle-btn",this.toggleButton.appendChild(r.get("sentiment_very_satisfied")),this.toggleButton.title="HiBob Utilities",this.toggleButton.onclick=()=>this.toggleVisible(),e.appendChild(this.toggleButton),this.createUI(),await this.createModel(),"#tl-ui"===location.hash&&this.toggleVisible(),this.onDarkModeChange.fire(this.isDarkMode());break}await a.for(1)}}toggleVisible(){var e;this.timelogUIOuter&&("none"===this.timelogUIOuter.style.display?(this.timelogUIOuter.style.display="block",location.hash="#tl-ui",document.body.style.overflow="hidden",this.sheetContainer&&(this.sheetContainer.innerHTML=""),null===(e=this.model)||void 0===e||e.fetchSheets()):(this.timelogUIOuter.style.display="none",location.hash="",document.body.style.overflow="initial"))}isDarkMode(){return"true"===localStorage.getItem("tl_dark_mode")}toggleDarkMode(){this.isDarkMode()?localStorage.setItem("tl_dark_mode","false"):localStorage.setItem("tl_dark_mode","true"),this.onDarkModeChange.fire(this.isDarkMode())}createUI(){const e=document.createElement("style");e.innerHTML="\n.tl-toggle-btn\n{\n    border: none;\n    background: none;\n    font-size: 2em;\n}\n.tl-close-btn\n{\n    font-size: 2em;\n    position: absolute;\n    right: 5px;\n}\n.tl-ui\n{\n    position: fixed;\n    z-index: 1000;\n    inset: 0px;\n    background-color: white;\n    overflow-y: scroll;\n    padding: 10px;\n}        \n.tl-date\n{\n    margin-top: 10px;\n    padding: 10px;\n    border: 1px solid gray;\n    border-radius: 5px;\n}\n.tl-save-status, .tl-add-entry-btn\n{\n    margin-left: 10px;\n}\n.tl-entry\n{\n    margin-top: 5px;\n}\n.tl-entry > *\n{\n    margin-left: 5px;\n}\n.tl-entry > input[type=number]\n{\n    width: 50px;\n}\n.tl-entry > input[type=time]\n{\n    width: 75px;\n}\n.tl-save-status\n{\n    font-weight: bold;\n}\n.tl-sheet-select\n{\n    margin-left: 5px;\n}\n.tl-date-label\n{\n    font-weight: bold;\n}\n.tl-date-label.tl-date-label-weekend\n{\n    font-weight: initial;\n    font-style: italic;\n    color: gray;\n}\n.tl-entry-reason \n{\n    padding: 3px;\n}\n.tl-remove-entry-btn\n{\n    float: right;\n}\n.tl-week-seperator\n{\n    margin-top: 57px;\n}\n.tl-balance-label\n{\n    margin: 5px;\n    display: inline-block;\n}\n.tl-balance-help\n{\n    display: inline-block;\n    cursor: help;\n}\n\n.tl-ui-inner\n{\n    display: table;\n    margin-left: auto;\n    margin-right: auto;\n}\n.tl-ui-inner, .tl-week-seperator, .tl-date\n{\n    min-width: 650px;\n}\n.tl-entry-comment {\n    margin-top: 5px;\n    margin-bottom: 15px;\n    width: 100%;\n    display: none;\n}\n.tl-has-comment .tl-entry-comment\n{\n    display: block;\n}\n.tl-success\n{\n    color: #02B875;\n}\n.tl-warning\n{\n    color: #F0AF52;\n}\n.tl-danger\n{\n    color: #DA5652;\n}\n.tl-sum-hours\n{\n    position: absolute;\n    margin-top: -23px;\n}\n.tl-week-sum\n{\n    position: absolute;\n    margin-top: -57px;\n    text-decoration: underline;\n}\n.tl-ui button.tl-star-button, .tl-ui.tl-dark button.tl-star-button\n{\n    background: none;\n    border: none;\n    margin: 0;\n    padding: 0;\n}\n.tl-ui button.tl-star-button.tl-favorite, .tl-ui.tl-dark button.tl-star-button.tl-favorite\n{\n    color: #f1a00b;\n    opacity: 1;\n}\n.tl-paste-btn {\n    margin-left: 5px;\n    display: none;\n}\n.tl-has-favorite .tl-paste-btn:not(.tl-hide-favorite-button)\n{\n    display: inline-block;\n}\n.tl-show-on-hover\n{\n    opacity: 0;\n}\n.tl-date:hover .tl-show-on-hover\n{\n    opacity: 1;\n}\n.tl-no-reason-warning {\n    margin-left: 180px;\n    position: absolute;\n    margin-top: -22px;\n    font-weight: bold;\n    background-color: white;\n    user-select: none;\n    pointer-events: none;\n}\n.tl-no-reason-warning.tl-has-reason\n{\n    display: none;\n}\n.tl-clickable\n{\n    cursor: pointer;\n}\n.tl-dark-mode-btn {\n    position: fixed;\n    bottom: 5px;\n    right: 20px;\n}\n.tl-ui button\n{\n    background-color: #d9d9d9;\n    border: 1px solid gray;\n    border-radius: 5px;\n}\n.tl-ui button:hover\n{\n    background-color: #efebeb;\n}\n\n.tl-ui.tl-dark\n{\n    background-color: #1E1E1E;\n    color: white;\n}\n.tl-ui.tl-dark select, .tl-ui.tl-dark input {\n    color: white;\n    background-color: #252526;\n    border: 1px gray solid;\n    color-scheme: dark;\n}\n.tl-ui.tl-dark button\n{\n    background-color: #333333;\n    border: 1px solid #282828;\n    color: white;\n}\n.tl-ui.tl-dark button:hover\n{\n    background-color: #525252;\n}\n.tl-ui.tl-dark .tl-no-reason-warning\n{\n    background-color: #252526;\n}\n.tl-weekend-description {\n    color: gray;\n    font-style: italic;\n    float: right;\n    margin-top: 2px;\n    display: inline-block;\n    max-width: 400px;\n    overflow: hidden;\n    max-height: 35px;\n}\n.tl-weekend-description.tl-weekend-description-hidden\n{\n    display: none;\n}\n.tl-version-number {\n    position: fixed;\n    bottom: 5px;\n    left: 5px;\n}\n\n.tl-settings {\n    position: fixed;\n    inset: 0;\n    z-index: 100;\n}\n.tl-settings-back {\n    inset: 0;\n    position: absolute;\n    background-color: black;\n    opacity: 0.5;\n    cursor: pointer;\n}\n\n.tl-settings.tl-settings-hidden {\n    display: none;\n}\n\n.tl-settings-version {\n    margin: 5px 10px;\n    border-bottom: 1px solid gray;\n}\n\n.tl-settings-version:last-child {\n    border-bottom: 0;\n}\n\n.tl-settings-title {\n    font-weight: bold;\n    font-size: 1.25em;\n}\n.tl-settings-inner {\n    position: absolute;\n    background-color: white;\n    height: 70vh;\n    width: 90vw;\n    left: 5vw;\n    top: 15vh;\n    border: 1px solid gray;\n    border-radius: 10px;\n    padding: 10px;\n    overflow: auto;\n}\n.tl-settings-version button\n{\n    margin-left: 5px;\n    margin-bottom: 15px;\n}\n\n.tl-dark .tl-settings-inner\n{\n    background-color: #1a1a1a;\n}\n\n.tl-balance-warning\n{\n    font-size: 0.8em;\n    display: inline-block;\n    text-decoration: underline;\n    cursor: help;\n}\n.tl-hidden\n{\n    display: none;\n}\n\n",document.body.appendChild(e),this.timelogUIOuter=document.createElement("div"),this.timelogUIOuter.className="tl-ui",this.timelogUIOuter.style.display="none",document.body.append(this.timelogUIOuter),this.timelogUIInner=document.createElement("div"),this.timelogUIInner.className="tl-ui-inner",this.timelogUIOuter.append(this.timelogUIInner);const t=document.createElement("button");t.className="tl-close-btn",t.appendChild(r.get("close")),t.onclick=()=>this.toggleVisible(),this.timelogUIInner.appendChild(t),this.darkModeButton=document.createElement("button"),this.darkModeButton.className="tl-dark-mode-btn",this.darkModeButton.onclick=()=>this.toggleDarkMode(),this.timelogUIInner.appendChild(this.darkModeButton),this.onDarkModeChange.on((e=>{var t,n;e?null===(t=this.timelogUIOuter)||void 0===t||t.classList.add("tl-dark"):null===(n=this.timelogUIOuter)||void 0===n||n.classList.remove("tl-dark"),this.darkModeButton&&(this.darkModeButton.innerHTML="",this.darkModeButton.append(e?r.get("light_mode"):r.get("dark_mode")))}),this);const n=this.createSettingsWindow();this.timelogUIInner.appendChild(n);const a=document.createElement("div");a.append(r.get("settings",!0)),a.append(" 1.1.7"),a.className="tl-version-number",a.onclick=()=>n.classList.remove("tl-settings-hidden"),a.style.cursor="pointer",a.style.textDecoration="underline",this.timelogUIInner.appendChild(a);const s=document.createElement("span");s.innerText="Sheet:",this.timelogUIInner.appendChild(s),this.sheetDropdown=document.createElement("select"),this.sheetDropdown.className="tl-sheet-select",this.sheetDropdown.onchange=()=>this.onSelectedSheetChange(),this.timelogUIInner.appendChild(this.sheetDropdown),this.saveStatus=document.createElement("span"),this.saveStatus.className="tl-save-status",this.saveStatus.onclick=()=>this.onSaveStatusClick(),this.timelogUIInner.append(this.saveStatus);const o=document.createElement("div");o.className="tl-balance",this.timelogUIInner.append(o),this.balanceLabel=document.createElement("div"),this.balanceLabel.innerText="Balance: ",this.balanceLabel.className="tl-balance-label",o.append(this.balanceLabel),this.balanceWarning=document.createElement("div"),this.balanceWarning.className="tl-balance-warning tl-warning tl-hidden",o.append(this.balanceWarning),this.sheetContainer=document.createElement("div"),this.sheetContainer.className="tl-sheet",this.timelogUIInner.appendChild(this.sheetContainer)}createSettingsWindow(){const e=document.createElement("div");e.className="tl-settings tl-settings-hidden";const t=document.createElement("div");t.className="tl-settings-back",e.append(t),t.onclick=()=>e.classList.add("tl-settings-hidden");const n=document.createElement("div");n.className="tl-settings-inner",e.append(n);const a=document.createElement("div");a.className="tl-settings-version",n.append(a);const s=document.createElement("button");s.className="tl-settings-reload-locked-sheets-button",s.append(r.get("cached")),s.append(" Reload Locked Sheets"),s.style.cursor="help",s.title="Recalculates flex balance for all locked sheets.",s.onclick=()=>{var e;return null===(e=this.model)||void 0===e?void 0:e.clearSheetBalanceCache().then((()=>this.updateBalance()))},a.appendChild(s);const o=[{version:"1.1.7 - 02/11/2022",text:['Remove the option to "fix" old flex, as this solution would break when switching devices.',"Please talk to HR if you need to clear time logged before october.","To fix old flex hours without taking time off, please talk to HR or Finance about a solution."]},{version:"1.1.6 - 26/10/2022",text:["Holidays are now shown in the alternative timelog UI","Holidays are considered in the flex time calculation."]},{version:"1.1.4 - 03/10/2022",text:["Add a warning when unbalanced flex days are close to expiring.","Add button to cancel old unbalanced flex for extraordinary situations","Add buttons to delete cached data in the settings menu."]},{version:"1.1.3 - 03/10/2022",text:["Fixed how flex hours is calculated.","A warning is showed if you have unbalanced flex days that are older than 28 days."]},{version:"1.1.2 - 03/10/2022",text:["Fixed problem where you couldn't log time on some days, where you were supposed to."]},{version:"1.1.1 - 30/09/2022",text:["Added changelog","Show descriptions on non-working days"]}];for(const e of o){const t=document.createElement("div");t.className="tl-settings-version",n.append(t);const a=document.createElement("div");a.className="tl-settings-title",a.innerText=e.version,t.append(a);const s=document.createElement("ul");s.className="tl-settings-list",t.append(s);for(const t of e.text){const e=document.createElement("li");e.innerText=t,s.append(e)}}return e}async createModel(){this.model&&(this.model.onDateUpdated.off(this.onDateUpdated,this),this.model.onReasonsUpdated.off(this.onReasonsUpdated,this),this.model.onSaveStatusUpdated.off(this.onSaveStatusUpdated,this),this.model.onSheetUpdated.off(this.onSheetUpdated,this),this.model.onSheetsUpdated.off(this.onSheetsUpdated,this)),this.model=new d,this.model.onDateUpdated.on(this.onDateUpdated,this),this.model.onReasonsUpdated.on(this.onReasonsUpdated,this),this.model.onSaveStatusUpdated.on(this.onSaveStatusUpdated,this),this.model.onSheetUpdated.on(this.onSheetUpdated,this),this.model.onSheetsUpdated.on(this.onSheetsUpdated,this),await this.model.initialize()}getDateContainer(e){if(this.selectedSheet===e.sheet&&this.sheetContainer){let t=this.sheetDates.find((t=>t.date===e.date));if(!t){if(t={date:e.date,parent:document.createElement("div"),title:document.createElement("span"),entries:[],starButton:document.createElement("button"),pasteButton:document.createElement("button"),weekendDescription:document.createElement("div")},this.sheetDates.push(t),t.parent.className="tl-date",this.sheetContainer.appendChild(t.parent),1===new Date(e.date.date).getDay()){const e=document.createElement("div");e.className="tl-week-seperator",this.sheetContainer.appendChild(e)}if(t.parent.append(t.starButton),t.starButton.onclick=()=>{var t;return null===(t=this.model)||void 0===t?void 0:t.setFavoritedDate(e.date)},t.starButton.className="tl-star-button tl-show-on-hover",t.starButton.title="Favorite Day",t.title.className="tl-date-label",t.title.innerText=new Date(e.date.date).toDateString(),e.date.nonWorkingDay&&t.title.classList.add("tl-date-label-weekend"),t.parent.append(t.title),t.weekendDescription.className="tl-weekend-description",t.parent.append(t.weekendDescription),!e.sheet.locked){const n=document.createElement("button");n.appendChild(r.get("add")),n.className="tl-add-entry-btn tl-show-on-hover",n.onclick=()=>{var t;return null===(t=this.model)||void 0===t?void 0:t.newEntry(e.date)},t.parent.append(n),t.pasteButton=document.createElement("button"),t.pasteButton.appendChild(r.get("switch_access_shortcut_add")),t.pasteButton.title="Paste from Favorite Day",t.pasteButton.className="tl-paste-btn tl-show-on-hover",t.pasteButton.onclick=()=>{var t;return null===(t=this.model)||void 0===t?void 0:t.pasteFromStarred(e.date)},t.parent.append(t.pasteButton)}this.addToWeekSum(t)}return t}return null}getEntryContainer(e,n,a){let s=n.entries.find((e=>e.entry===a));if(!s){s={entry:a,parent:document.createElement("div"),startHour:document.createElement("input"),endHour:document.createElement("input"),length:document.createElement("input"),reason:document.createElement("select"),comment:document.createElement("input"),commentButton:document.createElement("button"),noReasonWarning:document.createElement("div")},n.entries.push(s),s.parent.className="tl-entry",n.parent.appendChild(s.parent),s.startHour.type="time",s.startHour.className="tl-entry-start",e.sheet.locked&&(s.startHour.disabled=!0),s.startHour.onchange=()=>{var n,o,i;const r=a.startHour+a.lengthHours;null===(n=this.model)||void 0===n||n.changeStartHour(e.date,e.date.entries.indexOf(a),t.parseTimeTohours(null!==(o=null==s?void 0:s.startHour.value)&&void 0!==o?o:"08:00"));const d=l.round(r-a.startHour,2);null===(i=this.model)||void 0===i||i.changeLengthHours(e.date,e.date.entries.indexOf(a),d)},s.parent.appendChild(s.startHour);const o=document.createElement("span");o.className="tl-end-label",o.innerText="-",s.parent.appendChild(o),s.endHour.type="time",s.endHour.className="tl-entry-end",e.sheet.locked&&(s.endHour.disabled=!0),s.endHour.onchange=()=>{var n;if(null==s?void 0:s.endHour){const o=l.round(t.parseTimeTohours(s.endHour.value)-a.startHour,2);null===(n=this.model)||void 0===n||n.changeLengthHours(e.date,e.date.entries.indexOf(a),o)}},s.parent.appendChild(s.endHour),s.reason.onchange=()=>{var t,n;return null===(t=this.model)||void 0===t?void 0:t.changeReason(e.date,e.date.entries.indexOf(a),null!==(n=null==s?void 0:s.reason.value)&&void 0!==n?n:"")},e.sheet.locked&&(s.reason.disabled=!0),s.reason.className="tl-entry-reason",s.parent.appendChild(s.reason),this.updateReasonsDropdown(s.reason),1===n.entries.length&&(n.sumHours=document.createElement("span"),n.sumHours.className="tl-sum-hours",s.parent.append(n.sumHours)),s.length.type="number",s.length.className="tl-entry-length",s.length.step="0.01",e.sheet.locked&&(s.length.disabled=!0),s.length.onchange=()=>{var t;null===(t=this.model)||void 0===t||t.changeLengthHours(e.date,e.date.entries.indexOf(a),parseFloat((null==s?void 0:s.length.value)||"0"))},s.parent.appendChild(s.length);const i=document.createElement("span");if(i.className="tl-duration-label",i.innerText="hour(s)",s.parent.appendChild(i),!e.sheet.locked){s.commentButton.className="tl-add-comment-btn tl-show-on-hover",s.commentButton.onclick=()=>{var t;return null===(t=this.model)||void 0===t?void 0:t.toggleComment(e.date,e.date.entries.indexOf(a))},s.parent.appendChild(s.commentButton);const t=document.createElement("button");t.appendChild(r.get("delete")),t.className="tl-remove-entry-btn tl-show-on-hover",t.onclick=()=>{var t;return null===(t=this.model)||void 0===t?void 0:t.deleteEntry(e.date,e.date.entries.indexOf(a))},s.parent.appendChild(t)}s.noReasonWarning.append(r.get("warning",!0)),s.noReasonWarning.append(" No reason selected!"),s.noReasonWarning.className="tl-no-reason-warning tl-warning tl-has-reason",s.parent.appendChild(s.noReasonWarning),s.comment.type="text",s.comment.placeholder="Write a note...",s.comment.title="Write a note...",s.comment.className="tl-entry-comment",e.sheet.locked&&(s.comment.disabled=!0),s.comment.onchange=()=>{var t,n;null===(t=this.model)||void 0===t||t.changeComment(e.date,e.date.entries.indexOf(a),null!==(n=null==s?void 0:s.comment.value)&&void 0!==n?n:"")},s.parent.appendChild(s.comment)}return s}addToWeekSum(e){if(this.weekSums.length<1||0===new Date(e.date.date).getDay()){const t={dates:[e],element:document.createElement("div")};t.element.className="tl-week-sum",this.weekSums.push(t),e.parent.appendChild(t.element),e.parent.style.marginTop="38px"}else this.weekSums[this.weekSums.length-1].dates.push(e)}onDateUpdated(e){var n,a,s;if(this.selectedSheet===e.sheet&&this.sheetContainer){let o=this.getDateContainer(e);if(o){for(const a of e.date.entries){let s=this.getEntryContainer(e,o,a);s.startHour.value=t.formatHour(a.startHour),s.length.value=a.lengthHours.toString(),s.endHour.value=t.formatHour(a.startHour+a.lengthHours),s.reason.value=a.reasonId,s.comment.value=null!==(n=a.comment)&&void 0!==n?n:"",a.reasonId?s.noReasonWarning.classList.add("tl-has-reason"):s.noReasonWarning.classList.remove("tl-has-reason"),s.commentButton.title=a.hasComment?"Remove note":"Add note",s.commentButton.innerHTML="",s.commentButton.appendChild(r.get(a.hasComment?"speaker_notes_off":"speaker_notes")),a.hasComment?s.parent.classList.add("tl-has-comment"):s.parent.classList.remove("tl-has-comment")}const i=o.entries.filter((t=>!e.date.entries.find((e=>e===t.entry))));if(o.entries=o.entries.filter((e=>!i.includes(e))),i.forEach((e=>e.parent.remove())),o.sumHours){const t=l.sum(e.date.entries.map((e=>e.lengthHours)));o.sumHours.innerText=`${l.round(t,2)} hour${1===t?"":"s"}`}o.starButton.innerHTML="",o.starButton.disabled=e.date.favorited,o.starButton.classList.remove("tl-favorite"),o.starButton.appendChild(r.get("star",e.date.favorited)),e.date.favorited&&o.starButton.classList.add("tl-favorite"),o.entries.length>0||o.date.favorited?o.pasteButton.classList.add("tl-hide-favorite-button"):o.pasteButton.classList.remove("tl-hide-favorite-button"),o.title.title=null!==(a=e.date.dateDescription)&&void 0!==a?a:"",e.date.nonWorkingDay&&e.date.entries.length<1?(o.weekendDescription.classList.remove("tl-weekend-description-hidden"),o.weekendDescription.innerText=null!==(s=e.date.dateDescription)&&void 0!==s?s:""):o.weekendDescription.classList.add("tl-weekend-description-hidden")}const i=this.weekSums.find((t=>t.dates.some((t=>t.date===e.date))));if(i){const e=l.sum(i.dates.map((e=>l.sum(e.entries.map((e=>e.entry.lengthHours)))))),n=l.sum(i.dates.map((e=>e.date.hoursToWork))),a=t.getWeekNumberFromDate(i.dates[0].date.date);i.element.innerHTML=`<b>Week ${a}</b>: ${l.round(e,2)} / ${l.round(n,2)} hours`}}this.updateBalance()}updateReasonsDropdown(e){e.innerHTML="";for(const t of this.reasons){const n=document.createElement("option");n.value=t.serverId,n.innerText=t.value,e.appendChild(n)}}onReasonsUpdated(e){this.reasons=e;for(const e of this.sheetDates)for(const t of e.entries)this.updateReasonsDropdown(t.reason)}onSaveStatusUpdated(e){this.saveStatus&&(this.saveStatus.innerHTML="",this.saveStatus.classList.remove("tl-success"),this.saveStatus.classList.remove("tl-warning"),this.saveStatus.classList.remove("tl-clickable"),e===o.Saved&&(this.saveStatus.appendChild(r.get("cloud_done",!0)),this.saveStatus.append(" Saved"),this.saveStatus.classList.add("tl-success")),e===o.Waiting&&(this.saveStatus.appendChild(r.get("pending")),this.saveStatus.append(" Pending...")),e===o.Saving&&(this.saveStatus.appendChild(r.get("cloud_upload")),this.saveStatus.append(" Saving...")),e===o.Error&&(this.saveStatus.appendChild(r.get("cloud_off")),this.saveStatus.append(" Failed!"),this.saveStatus.classList.add("tl-warning"),this.saveStatus.classList.add("tl-clickable")))}onSaveStatusClick(){var e,t;(null===(e=this.saveStatus)||void 0===e?void 0:e.classList.contains("tl-clickable"))&&(null===(t=this.model)||void 0===t||t.save())}onSheetUpdated(e){if(this.sheetDropdown&&!this.sheetDropdownOptions.find((t=>t.sheet===e))){const t=document.createElement("option");t.value=e.id.toString(),t.innerText=`${new Date(e.start).toDateString()} - ${new Date(e.end).toDateString()}${e.locked?" (locked)":""}`,this.sheetDropdownOptions.push({sheet:e,element:t}),this.sheetDropdown.appendChild(t)}this.selectedSheet===e&&(this.sheetContainer&&(this.sheetContainer.innerHTML=""),this.sheetDates=[],this.weekSums=[]);for(const t of e.dates)this.onDateUpdated({sheet:e,date:t});this.updateBalance()}onSheetsUpdated(e){this.sheetDropdown&&(this.sheetDropdown.innerHTML=""),this.sheetDropdownOptions=[];for(const t of e)this.onSheetUpdated(t);this.onSelectedSheetChange()}onSelectedSheetChange(){var e;if(!this.sheetDropdown)return;this.sheetContainer&&(this.sheetContainer.innerHTML=""),this.sheetDates=[];const t=this.sheetDropdown.value;this.selectedSheet=null===(e=this.sheetDropdownOptions.find((e=>e.element.value===t)))||void 0===e?void 0:e.sheet,this.selectedSheet&&this.model&&this.model.fetchSheet(this.selectedSheet.id)}async updateBalance(){var e,n,a;if(!this.model||!this.balanceLabel||!this.selectedSheet)return;const s=await this.model.getFlexStatus(),o=l.round(s.balance,2);if(this.balanceLabel.innerText=`Flex: ${o} hour${1!=o?"s":""}${0===o?" 🥳":""}`,null===(e=this.balanceWarning)||void 0===e||e.classList.add("tl-hidden"),s.overdueDates.length+s.warningDates.length>0&&this.balanceWarning){const e=this.model.getFlexPolicy();this.balanceWarning.classList.remove("tl-hidden"),this.balanceWarning.innerHTML="",this.balanceWarning.append(r.get("warning",!0)),s.overdueDates.length>0?(this.balanceWarning.append(`You have ${s.overdueDates.length} unbalanced flex date${1===s.overdueDates.length?"":"s"} older than ${e.previousDaysIncluded} days!`),this.balanceWarning.title+=`Overdue dates: ${s.overdueDates.map((e=>t.format(e.date,!1))).join(", ")}`):s.warningDates.length>0&&this.balanceWarning.append(`${s.warningDates.length} unbalanced flex date${1===s.warningDates.length?"":"s"} will soon be older than ${e.previousDaysIncluded} days!`),this.balanceWarning.title="",s.overdueDates.length>0&&(this.balanceWarning.title+=`Overdue dates: ${s.overdueDates.map((e=>t.format(e.date,!1))).join(", ")}`),s.warningDates.length>0&&(this.balanceWarning.title+=`${this.balanceWarning.title.length>0?"\n":""}Soon overdue dates: ${s.warningDates.map((e=>t.format(e.date,!1))).join(", ")}`),this.balanceWarning.append(" "),this.balanceWarning.append(r.get("info",!1))}await this.model.getFavoritedDate()?null===(n=this.sheetContainer)||void 0===n||n.classList.add("tl-has-favorite"):null===(a=this.sheetContainer)||void 0===a||a.classList.remove("tl-has-favorite")}},new class{constructor(){this.submitting=!1,this.createUI(),this.clockInButtonFinder()}createUI(){const e=document.createElement("style");e.innerHTML="\n.re-label\n{\n    font-size: 1.5em;\n    margin-bottom: 10px;\n}\n.re-reason-select\n{\n    padding: 5px;\n}\n.re-reason-ui\n{\n    z-index: 2000;\n    position: fixed;\n    inset: 0;\n    background-color: rgba(0,0,0,0.75);\n    padding-top: 45vh;\n    text-align: center;\n    color: white;\n    font-weight: bold;\n}\n.re-btn\n{\n    padding: 0 var(--button-padding-x, 15px);\n    min-width: 80px;\n    height: var(--button-size, 30px);\n    font-weight: 600;\n    font-size: var(--button-font-size, 12px);\n    font-family: var(--body-font-family);\n    border: 0;\n    border-radius: 4px;\n    margin: 5px;\n}\n.re-btn.re-primary\n{\n    color: var(--primary-bg-text-color, white);\n    background-color: var(--primary-600);\n}\n.re-btn.re-secondary\n{\n    color: var(--secondary-bg-text-color, #535353);\n    background-color: var(--secondary-600);\n}\n.re-blur\n{\n    filter: blur(2px);\n}\n.re-submitting .re-btn\n{\n    display: none;\n}\n.re-submitting-text\n{\n    display: none;\n    font-size: 1.5em;\n}\n.re-submitting .re-submitting-text\n{\n    display: block;\n}\n",document.body.append(e),this.reasonEnhancementUI=document.createElement("div"),this.reasonEnhancementUI.className="re-reason-ui",this.reasonEnhancementUI.style.display="none",document.body.appendChild(this.reasonEnhancementUI);const t=document.createElement("div");t.innerText="Choose Default Reason",t.className="re-label",this.reasonEnhancementUI.appendChild(t),this.reasonSelect=document.createElement("select"),this.reasonSelect.className="re-reason-select",this.reasonSelect.onchange=()=>this.saveDefaultReasonValue(),this.reasonEnhancementUI.appendChild(this.reasonSelect),this.reasonEnhancementUI.appendChild(document.createElement("br"));const n=document.createElement("button");n.className="re-cancel-btn re-btn re-secondary",n.innerText="Cancel",n.onclick=()=>this.cancel(),this.reasonEnhancementUI.appendChild(n);const a=document.createElement("button");a.className="re-submit-btn re-btn re-primary",a.innerText="Submit",a.onclick=()=>this.submit(),this.reasonEnhancementUI.appendChild(a);const s=document.createElement("div");s.className="re-submitting-text",s.innerText="Submitting...",this.reasonEnhancementUI.appendChild(s)}async clockInButtonFinder(){for(var e;;)this.findUnenhancedButtons("b-button.punch-clock-button, b-button.time-widget-clock-in-btn, b-button.time-widget-clock-out-btn").forEach((e=>this.enhanceClockInButton(e,s.FixLatest))),this.findUnenhancedButtons("b-button.quick-fix-apply-button").forEach((e=>this.enhanceClockInButton(e,s.FixAll))),this.appRoot||(this.appRoot=null!==(e=document.querySelector("app-root"))&&void 0!==e?e:void 0),await a.for(10)}findUnenhancedButtons(e){var t=[],n=document.querySelectorAll(e);for(const e of n)e.classList.contains("re-enhanced")||(e.classList.add("re-enhanced"),t.push(e));return t}enhanceClockInButton(e,t){e.addEventListener("click",(()=>this.showReasonFixer(t)))}saveDefaultReasonValue(){this.reasonSelect&&window.localStorage.setItem("re-last-reason",this.reasonSelect.value)}loadDefaultReasonValue(){var e;this.reasonSelect&&(this.reasonSelect.value=null!==(e=window.localStorage.getItem("re-last-reason"))&&void 0!==e?e:"")}async showReasonFixer(e){if(this.reasonEnhancementUI&&(await a.for(250),this.setUIVisible(!0),this.mode=e,this.reasonSelect)){const e=await n.metadata();this.reasonSelect.innerHTML="";for(const t of e.timeLogEntryReason.values){const e=document.createElement("option");e.value=t.serverId,e.innerText=t.value,this.reasonSelect.appendChild(e)}this.loadDefaultReasonValue()}}cancel(){this.setUIVisible(!1)}setUIVisible(e){this.reasonEnhancementUI&&(this.reasonEnhancementUI.style.display=e?"block":"none"),this.appRoot&&(e?this.appRoot.classList.add("re-blur"):this.appRoot.classList.remove("re-blur"))}async submit(){var e,t;await a.until((()=>!this.submitting)),this.submitting=!0,null===(e=this.reasonEnhancementUI)||void 0===e||e.classList.add("re-submitting"),this.mode===s.FixAll&&await this.fixAll(),this.mode===s.FixLatest&&await this.fixLatest(),this.setUIVisible(!1),null===(t=this.reasonEnhancementUI)||void 0===t||t.classList.remove("re-submitting"),this.submitting=!1}async fixAll(){if(!this.reasonSelect)return;const e=this.reasonSelect.value,a=await n.sheets();for(const s of a.employeeSheets){if(s.locked)continue;const a=await n.attendance(s.id);for(const s of a.attendance)if(s.entries.some((e=>!e.reason))){const a=t.parse(s.date);if("number"!=typeof a)continue;const o=s.entries.map((n=>{var s,o,i,r;return{startHour:((null!==(s=t.parse(n.start))&&void 0!==s?s:Date.now())-a)/36e5,lengthHours:n.end?((null!==(o=t.parse(n.end))&&void 0!==o?o:Date.now())-(null!==(i=t.parse(n.start))&&void 0!==i?i:Date.now()))/36e5:null,reasonId:n.reason||e,comment:null!==(r=n.comment)&&void 0!==r?r:null}}));await n.submit(a,o)}}}async fixLatest(){if(!this.reasonSelect)return;const e=this.reasonSelect.value;let a=null;const s=await n.sheets();for(const e of s.employeeSheets){if(e.locked)continue;const s=await n.attendance(e.id);for(const e of s.attendance){const n=t.parse(e.date);if("number"==typeof n&&(!a||n>a.date)){const s=e.entries.map((e=>{var a,s,o,i;return{startHour:((null!==(a=t.parse(e.start))&&void 0!==a?a:Date.now())-n)/36e5,lengthHours:e.end?((null!==(s=t.parse(e.end))&&void 0!==s?s:Date.now())-(null!==(o=t.parse(e.start))&&void 0!==o?o:Date.now()))/36e5:null,reasonId:e.reason,comment:null!==(i=e.comment)&&void 0!==i?i:null}}));a={date:n,entries:s}}}}if(a){for(const t of a.entries)t.reasonId=t.reasonId||e;await n.submit(a.date,a.entries)}}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNJLElBQUssTUFBTXJLLEtBQVNxSyxFQUFPblQsUUFFdkI4SSxFQUFNM0ksU0FBVzJJLEVBQU0zSSxVQUFZUyxRQUVqQ2IsRUFBTXFKLE9BQU8rSixFQUFPdFUsS0FBTXNVLEVBQU9uVCxRLENBRS9DLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oaWJvYmFwaS8uL3NyYy9VdGlscy9BcGkudHMiLCJ3ZWJwYWNrOi8vaGlib2JhcGkvLi9zcmMvVXRpbHMvRGF0ZXMudHMiLCJ3ZWJwYWNrOi8vaGlib2JhcGkvLi9zcmMvSGlCb2IvSGlCb2IudHMiLCJ3ZWJwYWNrOi8vaGlib2JhcGkvLi9zcmMvVXRpbHMvV2FpdC50cyIsIndlYnBhY2s6Ly9oaWJvYmFwaS8uL3NyYy9SZWFzb25FbmhhbmNlbWVudHMvUmVhc29uc0VuaGFuY2VtZW50cy50cyIsIndlYnBhY2s6Ly9oaWJvYmFwaS8uL3NyYy9UaW1lbG9nL1RpbWVsb2dUeXBlcy50cyIsIndlYnBhY2s6Ly9oaWJvYmFwaS8uL3NyYy9VdGlscy9FdmVudEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vaGlib2JhcGkvLi9zcmMvVXRpbHMvTWF0ZXJpYWxJY29uLnRzIiwid2VicGFjazovL2hpYm9iYXBpLy4vc3JjL1V0aWxzL051bWJlcnMudHMiLCJ3ZWJwYWNrOi8vaGlib2JhcGkvLi9zcmMvVGltZWxvZy9UaW1lbG9nTW9kZWwudHMiLCJ3ZWJwYWNrOi8vaGlib2JhcGkvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vaGlib2JhcGkvLi9zcmMvVGltZWxvZy9UaW1lbG9nVUkudHMiLCJ3ZWJwYWNrOi8vaGlib2JhcGkvLi9zcmMvVGltZWxvZy9UaW1lbG9nQ3NzLnRzIiwid2VicGFjazovL2hpYm9iYXBpLy4vc3JjL1JlYXNvbkVuaGFuY2VtZW50cy9SZWFzb25FbmhhbmNlbWVudHNDc3MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEFwaVxyXG57XHJcbiAgICBwdWJsaWMgc3RhdGljIHhocihtZXRob2Q6IFwiR0VUXCIgfCBcIlBPU1RcIiwgdXJsOiBzdHJpbmcsIGJvZHk6IG9iamVjdClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8eyBzdGF0dXM6IG51bWJlciwgYm9keTogYW55IH0+KHJlc29sdmUgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwpO1xyXG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB4aHIucmVzcG9uc2VUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzICE9PSAyMDApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmhhc093blByb3BlcnR5KFwiZXJyb3JcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHJlc3VsdC5oYXNPd25Qcm9wZXJ0eShcImtleVwiKSA/IHJlc3VsdC5rZXkgOiB4aHIuc3RhdHVzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChgSGlCb2IgVXRpbHM6IEVycm9yICR7a2V5fSAtICR7cmVzdWx0LmVycm9yfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoYEhpQm9iIFV0aWxzOiBFcnJvciAke3hoci5zdGF0dXN9IC0gY2hlY2sgdGhlIGRldmVsb3BlciBjb25zb2xlIGZvciBtb3JlIGluZm9ybWF0aW9uLmApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBIaUJvYiBVdGlsczogRXJyb3IgJHt4aHIuc3RhdHVzfS5gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coeGhyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogcmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGJvZHkpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBEYXRlc1xyXG57XHJcbiAgICBwdWJsaWMgc3RhdGljIHBhcnNlKHN0cjogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghc3RyKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBzcGxpdCA9IHN0ci5zcGxpdChcIlRcIik7XHJcbiAgICAgICAgaWYgKHNwbGl0Lmxlbmd0aCA8IDIpIHNwbGl0LnB1c2goXCIwMDowMFwiKTtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoc3BsaXQuam9pbihcIlRcIikpLmdldFRpbWUoKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZm9ybWF0KHRpbWU6IG51bWJlciwgaW5jbHVkZVRpbWVzdGFtcDogYm9vbGVhbilcclxuICAgIHtcclxuICAgICAgICBpZiAoIXRpbWUpIHJldHVybiBcIlwiO1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lKTtcclxuICAgICAgICByZXR1cm4gYCR7ZGF0ZS5nZXRGdWxsWWVhcigpfS0keyhkYXRlLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX0tJHtkYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX0ke2luY2x1ZGVUaW1lc3RhbXAgPyBgVCR7ZGF0ZS5nZXRIb3VycygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfToke2RhdGUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfWAgOiBcIlwifWA7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGZvcm1hdEhvdXIoaG91cnM6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBob3VyID0gTWF0aC5mbG9vcihob3VycyAlIDI0KTtcclxuICAgICAgICBjb25zdCBtaW51dGUgPSBNYXRoLnJvdW5kKChob3VycyAtIGhvdXIpICogNjApO1xyXG4gICAgICAgIHJldHVybiBgJHtob3VyLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfToke21pbnV0ZS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX1gXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFdlZWtOdW1iZXJGcm9tRGF0ZSh0aW1lOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aW1lKTtcclxuICAgICAgICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgIC8vIFRodXJzZGF5IGluIGN1cnJlbnQgd2VlayBkZWNpZGVzIHRoZSB5ZWFyLlxyXG4gICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIDMgLSAoZGF0ZS5nZXREYXkoKSArIDYpICUgNyk7XHJcbiAgICAgICAgLy8gSmFudWFyeSA0IGlzIGFsd2F5cyBpbiB3ZWVrIDEuXHJcbiAgICAgICAgdmFyIHdlZWsxID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCAwLCA0KTtcclxuICAgICAgICAvLyBBZGp1c3QgdG8gVGh1cnNkYXkgaW4gd2VlayAxIGFuZCBjb3VudCBudW1iZXIgb2Ygd2Vla3MgZnJvbSBkYXRlIHRvIHdlZWsxLlxyXG4gICAgICAgIHJldHVybiAxICsgTWF0aC5yb3VuZCgoKGRhdGUuZ2V0VGltZSgpIC0gd2VlazEuZ2V0VGltZSgpKSAvIDg2NDAwMDAwXHJcbiAgICAgICAgICAgIC0gMyArICh3ZWVrMS5nZXREYXkoKSArIDYpICUgNykgLyA3KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2VUaW1lVG9ob3Vycyh0aW1lOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc3BsaXQgPSB0aW1lLnNwbGl0KFwiOlwiKTtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoc3BsaXRbMF0pICsgcGFyc2VJbnQoc3BsaXRbMV0pIC8gNjA7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vVXRpbHMvQXBpXCI7XHJcbmltcG9ydCB7IERhdGVzIH0gZnJvbSBcIi4uL1V0aWxzL0RhdGVzXCI7XHJcbmltcG9ydCB7IEhpQm9iQXR0ZW5kYW5jZSwgSGlCb2JNZXRhZGF0YSwgSGlCb2JTaGVldHMsIEhpQm9iU3VibWl0RW50cnksIEhpQm9iVXNlciB9IGZyb20gXCIuL0hpQm9iVHlwZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBIaUJvYlxyXG57XHJcbiAgICBwcml2YXRlIHN0YXRpYyB1c2VySWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIHN1Ym1pdChkYXRlOiBudW1iZXIsIGVudHJpZXM6IEhpQm9iU3VibWl0RW50cnlbXSk6IFByb21pc2U8Ym9vbGVhbj5cclxuICAgIHtcclxuICAgICAgICBpZiAoZW50cmllcy5zb21lKGUgPT4gIWUucmVhc29uSWQpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXQVJOSU5HOiBTT01FIEVOVFJJRVMgSEFWRSBOTyBSRUFTT04gU0VUIC0gTk9UIFNVQk1JVFRJTkchIVwiLCBkYXRlLCBlbnRyaWVzKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkYXRhID0gZW50cmllcy5tYXAoZSA9PiB7IHJldHVybiB7IHN0YXJ0OiBEYXRlcy5mb3JtYXQoZGF0ZSArIGUuc3RhcnRIb3VyICogMzYwMCAqIDEwMDAsIHRydWUpLCBlbmQ6IGUubGVuZ3RoSG91cnMgPyBEYXRlcy5mb3JtYXQoZGF0ZSArIChlLnN0YXJ0SG91ciArIGUubGVuZ3RoSG91cnMpICogMzYwMCAqIDEwMDAsIHRydWUpIDogdW5kZWZpbmVkLCByZWFzb246IGUucmVhc29uSWQsIGNvbW1lbnQ6IGUuY29tbWVudCA/PyB1bmRlZmluZWQgfSB9KTtcclxuICAgICAgICBjb25zdCBkYXRlU3RyID0gRGF0ZXMuZm9ybWF0KGRhdGUsIGZhbHNlKTtcclxuICAgICAgICBjb25zdCB1c2VySWQgPSBhd2FpdCB0aGlzLmdldFVzZXJJZCgpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEFwaS54aHIoXCJQT1NUXCIsIGBodHRwczovL2FwcC5oaWJvYi5jb20vYXBpL2F0dGVuZGFuY2UvZW1wbG95ZWVzLyR7dXNlcklkfS9hdHRlbmRhbmNlL2VudHJpZXM/Zm9yRGF0ZT0ke2RhdGVTdHJ9YCwgZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdGF0dXMgPT09IDIwMDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgdGltZWxvZ1JlYXNvbnMoKTogUHJvbWlzZTx7IGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZyB9W10+XHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBhd2FpdCB0aGlzLm1ldGFkYXRhKCk7XHJcbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhLnRpbWVMb2dFbnRyeVJlYXNvbi52YWx1ZXMubWFwKHYgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpZDogdi5zZXJ2ZXJJZCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IHYudmFsdWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBhdHRlbmRhbmNlKHNoZWV0OiBudW1iZXIpOiBQcm9taXNlPEhpQm9iQXR0ZW5kYW5jZT5cclxuICAgIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBBcGkueGhyKFwiR0VUXCIsIGBodHRwczovL2FwcC5oaWJvYi5jb20vYXBpL2VtcGxveWVlcy9hdHRlbmRhbmNlL215L3NoZWV0cy8ke3NoZWV0fWAsIHt9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0LmJvZHk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIHNoZWV0cygpOiBQcm9taXNlPEhpQm9iU2hlZXRzPlxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IGF3YWl0IHRoaXMuZ2V0VXNlcklkKCk7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQXBpLnhocihcIkdFVFwiLCBgaHR0cHM6Ly9hcHAuaGlib2IuY29tL2FwaS9lbXBsb3llZXMvJHt1c2VySWR9L3RpbWVsb2cvYXR0ZW5kYW5jZS9zaGVldHNgLCB7fSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5ib2R5O1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBtZXRhZGF0YSgpOiBQcm9taXNlPEhpQm9iTWV0YWRhdGE+XHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQXBpLnhocihcIkdFVFwiLCBcImh0dHBzOi8vYXBwLmhpYm9iLmNvbS9hcGkvY29tcGFueS9tZXRhZGF0YS9saXN0cy8/aW5jbHVkZUFyY2hpdmVkPXRydWVcIiwge30pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQuYm9keTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgc3RhdGljIGFzeW5jIGdldFVzZXJJZCgpOiBQcm9taXNlPHN0cmluZz5cclxuICAgIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMudXNlcklkICE9PSBcInN0cmluZ1wiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy51c2VySW5mbygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy51c2VySWQgPz8gXCJcIjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgdXNlckluZm8oKTogUHJvbWlzZTxIaUJvYlVzZXI+XHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQXBpLnhocihcIkdFVFwiLCBcImh0dHBzOi8vYXBwLmhpYm9iLmNvbS9hcGkvdXNlclwiLCB7fSk7XHJcbiAgICAgICAgdGhpcy51c2VySWQgPSAocmVzdWx0LmJvZHkgYXMgSGlCb2JVc2VyKS5pZDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0LmJvZHk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgV2FpdFxyXG57XHJcbiAgICBwdWJsaWMgc3RhdGljIGZvcihtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPlxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKCksIG1zKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgdW50aWwoZGVsZWdhdGU6ICgpID0+IGJvb2xlYW4pXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZSA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVsZWdhdGUoKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoaGFuZGxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIaUJvYiB9IGZyb20gXCIuLi9IaUJvYi9IaUJvYlwiO1xyXG5pbXBvcnQgeyBIaUJvYlN1Ym1pdEVudHJ5IH0gZnJvbSBcIi4uL0hpQm9iL0hpQm9iVHlwZXNcIjtcclxuaW1wb3J0IHsgRGF0ZXMgfSBmcm9tIFwiLi4vVXRpbHMvRGF0ZXNcIjtcclxuaW1wb3J0IHsgV2FpdCB9IGZyb20gXCIuLi9VdGlscy9XYWl0XCI7XHJcbmltcG9ydCB7IFJlYXNvbkVuaGFuY2VtZW50Q3NzIH0gZnJvbSBcIi4vUmVhc29uRW5oYW5jZW1lbnRzQ3NzXCI7XHJcblxyXG5leHBvcnQgZW51bSBSZWFzb25FbmhhbmNlbWVudE1vZGVcclxue1xyXG4gICAgRml4QWxsLFxyXG4gICAgRml4TGF0ZXN0LFxyXG59XHJcbmV4cG9ydCBjbGFzcyBSZWFzb25FbmhhbmNlbWVudHNcclxue1xyXG4gICAgcHJpdmF0ZSByZWFzb25FbmhhbmNlbWVudFVJPzogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHJlYXNvblNlbGVjdD86IEhUTUxTZWxlY3RFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBhcHBSb290PzogRWxlbWVudDtcclxuICAgIHByaXZhdGUgc3VibWl0dGluZyA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgbW9kZT86IFJlYXNvbkVuaGFuY2VtZW50TW9kZTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlVUkoKTtcclxuICAgICAgICB0aGlzLmNsb2NrSW5CdXR0b25GaW5kZXIoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgY3JlYXRlVUkoKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG4gICAgICAgIHN0eWxlLmlubmVySFRNTCA9IFJlYXNvbkVuaGFuY2VtZW50Q3NzO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHN0eWxlKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMucmVhc29uRW5oYW5jZW1lbnRVSSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5yZWFzb25FbmhhbmNlbWVudFVJLmNsYXNzTmFtZSA9IFwicmUtcmVhc29uLXVpXCI7XHJcbiAgICAgICAgdGhpcy5yZWFzb25FbmhhbmNlbWVudFVJLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVhc29uRW5oYW5jZW1lbnRVSSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBsYWJlbC5pbm5lclRleHQgPSBcIkNob29zZSBEZWZhdWx0IFJlYXNvblwiO1xyXG4gICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9IFwicmUtbGFiZWxcIjtcclxuICAgICAgICB0aGlzLnJlYXNvbkVuaGFuY2VtZW50VUkuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG5cclxuICAgICAgICB0aGlzLnJlYXNvblNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XHJcbiAgICAgICAgdGhpcy5yZWFzb25TZWxlY3QuY2xhc3NOYW1lID0gXCJyZS1yZWFzb24tc2VsZWN0XCI7XHJcbiAgICAgICAgdGhpcy5yZWFzb25TZWxlY3Qub25jaGFuZ2UgPSAoKSA9PiB0aGlzLnNhdmVEZWZhdWx0UmVhc29uVmFsdWUoKTtcclxuICAgICAgICB0aGlzLnJlYXNvbkVuaGFuY2VtZW50VUkuYXBwZW5kQ2hpbGQodGhpcy5yZWFzb25TZWxlY3QpO1xyXG5cclxuICAgICAgICB0aGlzLnJlYXNvbkVuaGFuY2VtZW50VUkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2FuY2VsQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICBjYW5jZWxCdXR0b24uY2xhc3NOYW1lID0gXCJyZS1jYW5jZWwtYnRuIHJlLWJ0biByZS1zZWNvbmRhcnlcIjtcclxuICAgICAgICBjYW5jZWxCdXR0b24uaW5uZXJUZXh0ID0gXCJDYW5jZWxcIlxyXG4gICAgICAgIGNhbmNlbEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy5jYW5jZWwoKTtcclxuICAgICAgICB0aGlzLnJlYXNvbkVuaGFuY2VtZW50VUkuYXBwZW5kQ2hpbGQoY2FuY2VsQnV0dG9uKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICBzdWJtaXRCdXR0b24uY2xhc3NOYW1lID0gXCJyZS1zdWJtaXQtYnRuIHJlLWJ0biByZS1wcmltYXJ5XCI7XHJcbiAgICAgICAgc3VibWl0QnV0dG9uLmlubmVyVGV4dCA9IFwiU3VibWl0XCJcclxuICAgICAgICBzdWJtaXRCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMuc3VibWl0KCk7XHJcbiAgICAgICAgdGhpcy5yZWFzb25FbmhhbmNlbWVudFVJLmFwcGVuZENoaWxkKHN1Ym1pdEJ1dHRvbik7XHJcblxyXG5cclxuICAgICAgICBjb25zdCBzdWJtaXR0aW5nVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgc3VibWl0dGluZ1RleHQuY2xhc3NOYW1lID0gXCJyZS1zdWJtaXR0aW5nLXRleHRcIjtcclxuICAgICAgICBzdWJtaXR0aW5nVGV4dC5pbm5lclRleHQgPSBcIlN1Ym1pdHRpbmcuLi5cIlxyXG4gICAgICAgIHRoaXMucmVhc29uRW5oYW5jZW1lbnRVSS5hcHBlbmRDaGlsZChzdWJtaXR0aW5nVGV4dCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGFzeW5jIGNsb2NrSW5CdXR0b25GaW5kZXIoKVxyXG4gICAge1xyXG4gICAgICAgIHdoaWxlICh0cnVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGNsb2NrSW5CdXR0b25zID0gdGhpcy5maW5kVW5lbmhhbmNlZEJ1dHRvbnMoXCJiLWJ1dHRvbi5wdW5jaC1jbG9jay1idXR0b24sIGItYnV0dG9uLnRpbWUtd2lkZ2V0LWNsb2NrLWluLWJ0biwgYi1idXR0b24udGltZS13aWRnZXQtY2xvY2stb3V0LWJ0blwiKTtcclxuICAgICAgICAgICAgY2xvY2tJbkJ1dHRvbnMuZm9yRWFjaChlID0+IHRoaXMuZW5oYW5jZUNsb2NrSW5CdXR0b24oZSwgUmVhc29uRW5oYW5jZW1lbnRNb2RlLkZpeExhdGVzdCkpO1xyXG4gICAgICAgICAgICB2YXIgcXVpY2tGaXhCdXR0b24gPSB0aGlzLmZpbmRVbmVuaGFuY2VkQnV0dG9ucyhcImItYnV0dG9uLnF1aWNrLWZpeC1hcHBseS1idXR0b25cIik7XHJcbiAgICAgICAgICAgIHF1aWNrRml4QnV0dG9uLmZvckVhY2goZSA9PiB0aGlzLmVuaGFuY2VDbG9ja0luQnV0dG9uKGUsIFJlYXNvbkVuaGFuY2VtZW50TW9kZS5GaXhBbGwpKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5hcHBSb290KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcFJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYXBwLXJvb3RcIikgPz8gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IFdhaXQuZm9yKDEwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGZpbmRVbmVuaGFuY2VkQnV0dG9ucyhzZWxlY3Rvcjogc3RyaW5nKTogRWxlbWVudFtdXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGFyciA9IFtdIGFzIEVsZW1lbnRbXTtcclxuICAgICAgICB2YXIgcXVlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgcXVlcnkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicmUtZW5oYW5jZWRcIikpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInJlLWVuaGFuY2VkXCIpO1xyXG4gICAgICAgICAgICAgICAgYXJyLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGVuaGFuY2VDbG9ja0luQnV0dG9uKGJ1dHRvbjogRWxlbWVudCwgbW9kZTogUmVhc29uRW5oYW5jZW1lbnRNb2RlKVxyXG4gICAge1xyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5zaG93UmVhc29uRml4ZXIobW9kZSkpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzYXZlRGVmYXVsdFJlYXNvblZhbHVlKClcclxuICAgIHtcclxuICAgICAgICBpZiAoIXRoaXMucmVhc29uU2VsZWN0KSByZXR1cm47XHJcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicmUtbGFzdC1yZWFzb25cIiwgdGhpcy5yZWFzb25TZWxlY3QudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBsb2FkRGVmYXVsdFJlYXNvblZhbHVlKClcclxuICAgIHtcclxuICAgICAgICBpZiAoIXRoaXMucmVhc29uU2VsZWN0KSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5yZWFzb25TZWxlY3QudmFsdWUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJyZS1sYXN0LXJlYXNvblwiKSA/PyBcIlwiO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBhc3luYyBzaG93UmVhc29uRml4ZXIobW9kZTogUmVhc29uRW5oYW5jZW1lbnRNb2RlKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghdGhpcy5yZWFzb25FbmhhbmNlbWVudFVJKSByZXR1cm47XHJcbiAgICAgICAgYXdhaXQgV2FpdC5mb3IoMjUwKTtcclxuICAgICAgICB0aGlzLnNldFVJVmlzaWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xyXG4gICAgICAgIGlmICh0aGlzLnJlYXNvblNlbGVjdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlYXNvbnMgPSBhd2FpdCBIaUJvYi5tZXRhZGF0YSgpO1xyXG4gICAgICAgICAgICB0aGlzLnJlYXNvblNlbGVjdC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYXNvbiBvZiByZWFzb25zLnRpbWVMb2dFbnRyeVJlYXNvbi52YWx1ZXMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSByZWFzb24uc2VydmVySWQ7XHJcbiAgICAgICAgICAgICAgICBvcHRpb24uaW5uZXJUZXh0ID0gcmVhc29uLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFzb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxvYWREZWZhdWx0UmVhc29uVmFsdWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGNhbmNlbCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zZXRVSVZpc2libGUoZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzZXRVSVZpc2libGUodmFsdWU6IGJvb2xlYW4pXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVhc29uRW5oYW5jZW1lbnRVSSlcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHRoaXMucmVhc29uRW5oYW5jZW1lbnRVSS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICBlbHNlIHRoaXMucmVhc29uRW5oYW5jZW1lbnRVSS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmFwcFJvb3QpXHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB0aGlzLmFwcFJvb3QuY2xhc3NMaXN0LmFkZChcInJlLWJsdXJcIik7XHJcbiAgICAgICAgICAgIGVsc2UgdGhpcy5hcHBSb290LmNsYXNzTGlzdC5yZW1vdmUoXCJyZS1ibHVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgYXN5bmMgc3VibWl0KClcclxuICAgIHtcclxuICAgICAgICBhd2FpdCBXYWl0LnVudGlsKCgpID0+ICF0aGlzLnN1Ym1pdHRpbmcpO1xyXG5cclxuICAgICAgICB0aGlzLnN1Ym1pdHRpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVhc29uRW5oYW5jZW1lbnRVST8uY2xhc3NMaXN0LmFkZChcInJlLXN1Ym1pdHRpbmdcIik7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IFJlYXNvbkVuaGFuY2VtZW50TW9kZS5GaXhBbGwpIGF3YWl0IHRoaXMuZml4QWxsKCk7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gUmVhc29uRW5oYW5jZW1lbnRNb2RlLkZpeExhdGVzdCkgYXdhaXQgdGhpcy5maXhMYXRlc3QoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRVSVZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucmVhc29uRW5oYW5jZW1lbnRVST8uY2xhc3NMaXN0LnJlbW92ZShcInJlLXN1Ym1pdHRpbmdcIik7XHJcblxyXG4gICAgICAgIHRoaXMuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBhc3luYyBmaXhBbGwoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghdGhpcy5yZWFzb25TZWxlY3QpIHJldHVybjtcclxuICAgICAgICBjb25zdCByZWFzb24gPSB0aGlzLnJlYXNvblNlbGVjdC52YWx1ZTtcclxuICAgICAgICBjb25zdCBzaGVldHMgPSBhd2FpdCBIaUJvYi5zaGVldHMoKTtcclxuICAgICAgICBmb3IgKGNvbnN0IHNoZWV0IG9mIHNoZWV0cy5lbXBsb3llZVNoZWV0cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChzaGVldC5sb2NrZWQpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBjb25zdCBhdHRlbmRhbmNlID0gYXdhaXQgSGlCb2IuYXR0ZW5kYW5jZShzaGVldC5pZCk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGF0ZSBvZiBhdHRlbmRhbmNlLmF0dGVuZGFuY2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRlLmVudHJpZXMuc29tZShlID0+ICFlLnJlYXNvbikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IERhdGVzLnBhcnNlKGRhdGUuZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lICE9PSBcIm51bWJlclwiKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRyaWVzOiBIaUJvYlN1Ym1pdEVudHJ5W10gPSBkYXRlLmVudHJpZXMubWFwKGUgPT5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEhvdXI6ICgoRGF0ZXMucGFyc2UoZS5zdGFydCkgPz8gRGF0ZS5ub3coKSkgLSB0aW1lKSAvICgzNjAwICogMTAwMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGhIb3VyczogZS5lbmQgPyAoKERhdGVzLnBhcnNlKGUuZW5kKSA/PyBEYXRlLm5vdygpKSAtIChEYXRlcy5wYXJzZShlLnN0YXJ0KSA/PyBEYXRlLm5vdygpKSkgLyAoMzYwMCAqIDEwMDApIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbklkOiBlLnJlYXNvbiB8fCByZWFzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50OiBlLmNvbW1lbnQgPz8gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IEhpQm9iLnN1Ym1pdCh0aW1lLCBlbnRyaWVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgYXN5bmMgZml4TGF0ZXN0KClcclxuICAgIHtcclxuICAgICAgICBpZiAoIXRoaXMucmVhc29uU2VsZWN0KSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgcmVhc29uID0gdGhpcy5yZWFzb25TZWxlY3QudmFsdWU7XHJcbiAgICAgICAgbGV0IGxhdGVzdDogeyBkYXRlOiBudW1iZXIsIGVudHJpZXM6IEhpQm9iU3VibWl0RW50cnlbXSB9IHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgY29uc3Qgc2hlZXRzID0gYXdhaXQgSGlCb2Iuc2hlZXRzKCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBzaGVldCBvZiBzaGVldHMuZW1wbG95ZWVTaGVldHMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoc2hlZXQubG9ja2VkKSBjb250aW51ZTtcclxuICAgICAgICAgICAgY29uc3QgYXR0ZW5kYW5jZSA9IGF3YWl0IEhpQm9iLmF0dGVuZGFuY2Uoc2hlZXQuaWQpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGUgb2YgYXR0ZW5kYW5jZS5hdHRlbmRhbmNlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lID0gRGF0ZXMucGFyc2UoZGF0ZS5kYXRlKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGltZSAhPT0gXCJudW1iZXJcIikgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxhdGVzdCB8fCB0aW1lID4gbGF0ZXN0LmRhdGUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW50cmllczogSGlCb2JTdWJtaXRFbnRyeVtdID0gZGF0ZS5lbnRyaWVzLm1hcChlID0+XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRIb3VyOiAoKERhdGVzLnBhcnNlKGUuc3RhcnQpID8/IERhdGUubm93KCkpIC0gdGltZSkgLyAoMzYwMCAqIDEwMDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoSG91cnM6IGUuZW5kID8gKChEYXRlcy5wYXJzZShlLmVuZCkgPz8gRGF0ZS5ub3coKSkgLSAoRGF0ZXMucGFyc2UoZS5zdGFydCkgPz8gRGF0ZS5ub3coKSkpIC8gKDM2MDAgKiAxMDAwKSA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb25JZDogZS5yZWFzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50OiBlLmNvbW1lbnQgPz8gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhdGVzdCA9IHsgZGF0ZTogdGltZSwgZW50cmllczogZW50cmllcyB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXRlc3QpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGxhdGVzdC5lbnRyaWVzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlbnRyeS5yZWFzb25JZCA9IGVudHJ5LnJlYXNvbklkIHx8IHJlYXNvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCBIaUJvYi5zdWJtaXQobGF0ZXN0LmRhdGUsIGxhdGVzdC5lbnRyaWVzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgaW50ZXJmYWNlIFRpbWVsb2dFbnRyeVxyXG57XHJcbiAgICBzdGFydEhvdXI6IG51bWJlcixcclxuICAgIGxlbmd0aEhvdXJzOiBudW1iZXIsXHJcbiAgICByZWFzb25JZDogc3RyaW5nLFxyXG4gICAgY29tbWVudDogc3RyaW5nIHwgbnVsbCxcclxuICAgIGhhc0NvbW1lbnQ6IGJvb2xlYW5cclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVsb2dEYXRlXHJcbntcclxuICAgIGRpcnR5OiBib29sZWFuLFxyXG4gICAgZGF0ZTogbnVtYmVyXHJcbiAgICBlbnRyaWVzOiBUaW1lbG9nRW50cnlbXSxcclxuICAgIG5vbldvcmtpbmdEYXk6IGJvb2xlYW4sXHJcbiAgICBob3Vyc1RvV29yazogbnVtYmVyXHJcbiAgICBmYXZvcml0ZWQ6IGJvb2xlYW4sXHJcbiAgICBkYXRlRGVzY3JpcHRpb24/OiBzdHJpbmdcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVsb2dTaGVldFxyXG57XHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgc3RhdHVzOiBzdHJpbmcsXHJcbiAgICBzdGFydDogbnVtYmVyLFxyXG4gICAgZW5kOiBudW1iZXJcclxuICAgIGRhdGVzOiBUaW1lbG9nRGF0ZVtdLFxyXG4gICAgbG9ja2VkOiBib29sZWFuLFxyXG4gICAgaG91cnNQZXJEYXk6IG51bWJlclxyXG59XHJcbmV4cG9ydCBlbnVtIFRpbWVsb2dTYXZlU3RhdHVzXHJcbntcclxuICAgIFdhaXRpbmcsXHJcbiAgICBTYXZpbmcsXHJcbiAgICBTYXZlZCxcclxuICAgIEVycm9yXHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBUaW1lTG9nRmF2b3JpdGVkRGF0ZVxyXG57XHJcbiAgICBkYXRlOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUaW1lbG9nRmxleERhdGVcclxue1xyXG4gICAgZGF0ZTogbnVtYmVyLFxyXG4gICAgZGF0ZVN0cmluZzogc3RyaW5nLFxyXG4gICAgcmVhbEJhbGFuY2U6IG51bWJlcixcclxuICAgIHJlYWxsb2NhdGVkQmFsYW5jZTogbnVtYmVyXHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVsb2dVSURhdGUgXHJcbntcclxuICAgIGRhdGU6IFRpbWVsb2dEYXRlLFxyXG4gICAgcGFyZW50OiBIVE1MRGl2RWxlbWVudCxcclxuICAgIHRpdGxlOiBIVE1MU3BhbkVsZW1lbnQsXHJcbiAgICBlbnRyaWVzOiBUaW1lbG9nVUlFbnRyeUNvbnRhaW5lcltdLFxyXG4gICAgc3VtSG91cnM/OiBIVE1MU3BhbkVsZW1lbnQsXHJcbiAgICBzdGFyQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIHBhc3RlQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIHdlZWtlbmREZXNjcmlwdGlvbjogSFRNTERpdkVsZW1lbnRcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVsb2dVSUVudHJ5Q29udGFpbmVyXHJcbntcclxuICAgIGVudHJ5OiBUaW1lbG9nRW50cnksXHJcbiAgICBwYXJlbnQ6IEhUTUxEaXZFbGVtZW50LFxyXG4gICAgc3RhcnRIb3VyOiBIVE1MSW5wdXRFbGVtZW50LFxyXG4gICAgbGVuZ3RoOiBIVE1MSW5wdXRFbGVtZW50LFxyXG4gICAgcmVhc29uOiBIVE1MU2VsZWN0RWxlbWVudCxcclxuICAgIGVuZEhvdXI6IEhUTUxJbnB1dEVsZW1lbnQsXHJcbiAgICBjb21tZW50OiBIVE1MSW5wdXRFbGVtZW50LFxyXG4gICAgY29tbWVudEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcbiAgICBub1JlYXNvbldhcm5pbmc6IEhUTUxEaXZFbGVtZW50XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBUaW1lbG9nVUlXZWVrU3VtXHJcbntcclxuICAgIGRhdGVzOiBUaW1lbG9nVUlEYXRlW10sXHJcbiAgICBlbGVtZW50OiBIVE1MRGl2RWxlbWVudFxyXG59IiwiZXhwb3J0IGNsYXNzIEV2ZW50SGFuZGxlcjxUPlxyXG57XHJcbiAgICBwcml2YXRlIGhhbmRsZXJzOiB7IGhhbmRsZXI6ICh2YWw6IFQpID0+IHZvaWQsIGNvbnRleHQ6IGFueSB9W10gPSBbXTtcclxuICAgIHB1YmxpYyBvbihoYW5kbGVyOiAodmFsOiBUKSA9PiB2b2lkLCBjb250ZXh0OiBhbnkpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVycy5wdXNoKHsgaGFuZGxlciwgY29udGV4dCB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBvZmYoaGFuZGxlcjogKHZhbDogVCkgPT4gdm9pZCwgY29udGV4dDogYW55KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmZpbHRlcihoID0+IGguaGFuZGxlciAhPT0gaGFuZGxlciB8fCBoLmNvbnRleHQgIT09IGNvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGZpcmUodmFsOiBUKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMuZm9yRWFjaChoID0+IGguaGFuZGxlci5jYWxsKGguY29udGV4dCwgdmFsKSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgTWF0ZXJpYWxJY29uXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgaW5pdGlhbGl6ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG4gICAgICAgIGxpbmsuaHJlZiA9IFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1NYXRlcmlhbCtTeW1ib2xzK091dGxpbmVkOm9wc3osd2dodCxGSUxMLEdSQURAMjAuLjQ4LDEwMC4uNzAwLDAuLjEsLTUwLi4yMDBcIjtcclxuICAgICAgICBsaW5rLnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldChpY29uOiBzdHJpbmcsIGZpbGw6IGJvb2xlYW4gPSBmYWxzZSlcclxuICAgIHtcclxuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBgbWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZGA7XHJcbiAgICAgICAgc3Bhbi5pbm5lclRleHQgPSBpY29uO1xyXG4gICAgICAgIHNwYW4uc3R5bGUudmVydGljYWxBbGlnbiA9IFwibWlkZGxlXCI7XHJcbiAgICAgICAgc3Bhbi5zdHlsZS5mb250U2l6ZSA9IFwiMS41ZW1cIjtcclxuICAgICAgICBzcGFuLnN0eWxlLmZvbnRWYXJpYXRpb25TZXR0aW5ncyA9IGAnRklMTCcgJHtmaWxsID8gMSA6IDB9YDtcclxuICAgICAgICByZXR1cm4gc3BhbjtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBOdW1iZXJzXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgcm91bmQobnVtOiBudW1iZXIsIGRlY2ltYWxzOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobnVtICogKDEwICoqIGRlY2ltYWxzKSkgLyAoMTAgKiogZGVjaW1hbHMpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBmbG9vcihudW06IG51bWJlciwgZGVjaW1hbHM6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW0gKiAoMTAgKiogZGVjaW1hbHMpKSAvICgxMCAqKiBkZWNpbWFscyk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGNlaWwobnVtOiBudW1iZXIsIGRlY2ltYWxzOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW0gKiAoMTAgKiogZGVjaW1hbHMpKSAvICgxMCAqKiBkZWNpbWFscyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzdW0oYXJyOiBudW1iZXJbXSlcclxuICAgIHtcclxuICAgICAgICBsZXQgdmFsID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgdmFsICs9IGFycltpXTtcclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSGlCb2IgfSBmcm9tIFwiLi4vSGlCb2IvSGlCb2JcIjtcclxuaW1wb3J0IHsgSGlCb2JSZWFzb24gfSBmcm9tIFwiLi4vSGlCb2IvSGlCb2JUeXBlc1wiO1xyXG5pbXBvcnQgeyBEYXRlcyB9IGZyb20gXCIuLi9VdGlscy9EYXRlc1wiO1xyXG5pbXBvcnQgeyBFdmVudEhhbmRsZXIgfSBmcm9tIFwiLi4vVXRpbHMvRXZlbnRIYW5kbGVyXCI7XHJcbmltcG9ydCB7IE51bWJlcnMgfSBmcm9tIFwiLi4vVXRpbHMvTnVtYmVyc1wiO1xyXG5pbXBvcnQgeyBXYWl0IH0gZnJvbSBcIi4uL1V0aWxzL1dhaXRcIjtcclxuaW1wb3J0IHsgVGltZWxvZ1NoZWV0LCBUaW1lbG9nRGF0ZSwgVGltZWxvZ1NhdmVTdGF0dXMsIFRpbWVMb2dGYXZvcml0ZWREYXRlLCBUaW1lbG9nRmxleERhdGUgfSBmcm9tIFwiLi9UaW1lbG9nVHlwZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUaW1lbG9nTW9kZWxcclxue1xyXG4gICAgcHVibGljIHNoZWV0czogVGltZWxvZ1NoZWV0W10gPSBbXTtcclxuICAgIHB1YmxpYyBvbkRhdGVVcGRhdGVkID0gbmV3IEV2ZW50SGFuZGxlcjx7IHNoZWV0OiBUaW1lbG9nU2hlZXQsIGRhdGU6IFRpbWVsb2dEYXRlIH0+KCk7XHJcbiAgICBwdWJsaWMgb25SZWFzb25zVXBkYXRlZCA9IG5ldyBFdmVudEhhbmRsZXI8SGlCb2JSZWFzb25bXT4oKTtcclxuICAgIHB1YmxpYyBvblNoZWV0VXBkYXRlZCA9IG5ldyBFdmVudEhhbmRsZXI8VGltZWxvZ1NoZWV0PigpO1xyXG4gICAgcHVibGljIG9uU2hlZXRzVXBkYXRlZCA9IG5ldyBFdmVudEhhbmRsZXI8VGltZWxvZ1NoZWV0W10+KCk7XHJcbiAgICBwdWJsaWMgb25TYXZlU3RhdHVzVXBkYXRlZCA9IG5ldyBFdmVudEhhbmRsZXI8VGltZWxvZ1NhdmVTdGF0dXM+KCk7XHJcbiAgICBwcml2YXRlIHNhdmVIYW5kbGU6IG51bWJlciA9IC0xO1xyXG4gICAgcHJpdmF0ZSBzYXZpbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgY2FsY3VsYXRpbmdGbGV4OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGZldGNoaW5nU2hlZXRzID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHJlYXNvbnM6IEhpQm9iUmVhc29uW10gPSBbXTtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgYXN5bmMgaW5pdGlhbGl6ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5mZXRjaFNoZWV0cygpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuZmV0Y2hSZWFzb25zKCk7XHJcbiAgICAgICAgdGhpcy5vblNhdmVTdGF0dXNVcGRhdGVkLmZpcmUoVGltZWxvZ1NhdmVTdGF0dXMuU2F2ZWQpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGFzeW5jIGZldGNoU2hlZXRzKClcclxuICAgIHtcclxuICAgICAgICBhd2FpdCBXYWl0LnVudGlsKCgpID0+ICF0aGlzLmZldGNoaW5nU2hlZXRzKTtcclxuICAgICAgICB0aGlzLmZldGNoaW5nU2hlZXRzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNoZWV0cyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHNoZWV0cyA9IGF3YWl0IEhpQm9iLnNoZWV0cygpO1xyXG4gICAgICAgIGZvciAoY29uc3Qgc2hlZXQgb2Ygc2hlZXRzLmVtcGxveWVlU2hlZXRzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBEYXRlcy5wYXJzZShzaGVldC5jeWNsZVN0YXJ0RGF0ZSkgPz8gMDtcclxuICAgICAgICAgICAgY29uc3QgZW5kID0gRGF0ZXMucGFyc2Uoc2hlZXQuY3ljbGVFbmREYXRlKSA/PyAwO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTaGVldCA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiBzaGVldC5pZCxcclxuICAgICAgICAgICAgICAgIHN0YXR1czogc2hlZXQuc3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgc3RhcnQsXHJcbiAgICAgICAgICAgICAgICBlbmQsXHJcbiAgICAgICAgICAgICAgICBkYXRlczogW10sXHJcbiAgICAgICAgICAgICAgICBsb2NrZWQ6IHNoZWV0LmxvY2tlZCxcclxuICAgICAgICAgICAgICAgIGhvdXJzUGVyRGF5OiAwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc2hlZXRzLnB1c2gobmV3U2hlZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNoZWV0cy5zb3J0KChhLCBiKSA9PiBiLnN0YXJ0IC0gYS5zdGFydCk7XHJcbiAgICAgICAgdGhpcy5vblNoZWV0c1VwZGF0ZWQuZmlyZSh0aGlzLnNoZWV0cyk7XHJcbiAgICAgICAgdGhpcy5mZXRjaGluZ1NoZWV0cyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGFzeW5jIGZldGNoUmVhc29ucygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5yZWFzb25zID0gKGF3YWl0IEhpQm9iLm1ldGFkYXRhKCkpLnRpbWVMb2dFbnRyeVJlYXNvbi52YWx1ZXM7XHJcbiAgICAgICAgdGhpcy5vblJlYXNvbnNVcGRhdGVkLmZpcmUodGhpcy5yZWFzb25zKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBhc3luYyBmZXRjaFNoZWV0KGlkOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc2hlZXQgPSB0aGlzLnNoZWV0cy5maW5kKHMgPT4gcy5pZCA9PT0gaWQpO1xyXG4gICAgICAgIGlmICghc2hlZXQpIHJldHVybjtcclxuICAgICAgICBjb25zdCBhdHRlbmRhbmNlID0gYXdhaXQgSGlCb2IuYXR0ZW5kYW5jZShpZCk7XHJcbiAgICAgICAgc2hlZXQuaG91cnNQZXJEYXkgPSBhdHRlbmRhbmNlLnN1bW1hcnkucG90ZW50aWFsV29ya2luZ0hvdXJzIC8gYXR0ZW5kYW5jZS5zdW1tYXJ5LnBvdGVudGlhbFdvcmtpbmdEYXlzO1xyXG4gICAgICAgIHNoZWV0LmRhdGVzID0gW107XHJcbiAgICAgICAgZm9yIChjb25zdCBkYXRlIG9mIGF0dGVuZGFuY2UuYXR0ZW5kYW5jZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBEYXRlcy5wYXJzZShkYXRlLmRhdGUpID8/IERhdGUubm93KClcclxuICAgICAgICAgICAgY29uc3QgdmFsdWU6IFRpbWVsb2dEYXRlID0ge1xyXG4gICAgICAgICAgICAgICAgZGlydHk6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZGF0ZTogdGltZSxcclxuICAgICAgICAgICAgICAgIG5vbldvcmtpbmdEYXk6IGRhdGUuc3RhdHVzID09PSBcIldlZWtlbmRFdmVudFwiIHx8IGRhdGUuc3RhdHVzID09PSBcIkFwcHJvdmVUaW1lb2ZmUmVxdWVzdFwiLFxyXG4gICAgICAgICAgICAgICAgaG91cnNUb1dvcms6IHNoZWV0LmhvdXJzUGVyRGF5LFxyXG4gICAgICAgICAgICAgICAgZmF2b3JpdGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRhdGVEZXNjcmlwdGlvbjogZGF0ZS5ub3RlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgZW50cmllczogZGF0ZS5lbnRyaWVzLm1hcChlID0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRIb3VyOiBOdW1iZXJzLmZsb29yKCgoRGF0ZXMucGFyc2UoZS5zdGFydCkgPz8gRGF0ZS5ub3coKSkgLSAoRGF0ZXMucGFyc2UoZGF0ZS5kYXRlKSA/PyBEYXRlLm5vdygpKSkgLyAoMzYwMCAqIDEwMDApLCAyKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoSG91cnM6IE51bWJlcnMuY2VpbCgoKERhdGVzLnBhcnNlKGUuZW5kKSA/PyBEYXRlLm5vdygpKSAtIChEYXRlcy5wYXJzZShlLnN0YXJ0KSA/PyBEYXRlLm5vdygpKSkgLyAoMzYwMCAqIDEwMDApLCAyKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uSWQ6IGUucmVhc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50OiBlLmNvbW1lbnQgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ29tbWVudDogISFlLmNvbW1lbnRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSkuc29ydCgoYSwgYikgPT4gYS5zdGFydEhvdXIgLSBiLnN0YXJ0SG91cilcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRlLnBhaWRUaW1lb2ZmU2Vjb25kcyA9PT0gXCJudW1iZXJcIiAmJiBkYXRlLnBhaWRUaW1lb2ZmU2Vjb25kcyA+IDApIHZhbHVlLmhvdXJzVG9Xb3JrIC09IChkYXRlLnBhaWRUaW1lb2ZmU2Vjb25kcyAvICg2MCAqIDYwKSk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLm5vbldvcmtpbmdEYXkpIHZhbHVlLmhvdXJzVG9Xb3JrID0gMDtcclxuICAgICAgICAgICAgc2hlZXQuZGF0ZXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNoZWV0LmRhdGVzLnNvcnQoKGEsIGIpID0+IGIuZGF0ZSAtIGEuZGF0ZSk7XHJcbiAgICAgICAgY29uc3QgZmF2b3JpdGUgPSBhd2FpdCB0aGlzLmdldEZhdm9yaXRlZERhdGUoKTtcclxuICAgICAgICBpZiAoZmF2b3JpdGUgJiYgZmF2b3JpdGUuc2hlZXQgPT09IHNoZWV0KVxyXG4gICAgICAgICAgICBmYXZvcml0ZS5kYXRlLmZhdm9yaXRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vblNoZWV0VXBkYXRlZC5maXJlKHNoZWV0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hhbmdlU3RhcnRIb3VyKGRhdGU6IFRpbWVsb2dEYXRlLCBpbmRleDogbnVtYmVyLCBob3VyOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc2hlZXQgPSB0aGlzLnNoZWV0cy5maW5kKHMgPT4gcy5kYXRlcy5zb21lKGQgPT4gZCA9PT0gZGF0ZSkpO1xyXG4gICAgICAgIGlmICghc2hlZXQpIHJldHVybjtcclxuICAgICAgICBkYXRlLmVudHJpZXNbaW5kZXhdLnN0YXJ0SG91ciA9IGhvdXI7XHJcbiAgICAgICAgZGF0ZS5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5xdWV1ZVNhdmUoKTtcclxuICAgICAgICB0aGlzLm9uRGF0ZVVwZGF0ZWQuZmlyZSh7IHNoZWV0LCBkYXRlIH0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGNoYW5nZUxlbmd0aEhvdXJzKGRhdGU6IFRpbWVsb2dEYXRlLCBpbmRleDogbnVtYmVyLCBsZW5ndGg6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBzaGVldCA9IHRoaXMuc2hlZXRzLmZpbmQocyA9PiBzLmRhdGVzLnNvbWUoZCA9PiBkID09PSBkYXRlKSk7XHJcbiAgICAgICAgaWYgKCFzaGVldCkgcmV0dXJuO1xyXG4gICAgICAgIGRhdGUuZW50cmllc1tpbmRleF0ubGVuZ3RoSG91cnMgPSBsZW5ndGg7XHJcbiAgICAgICAgZGF0ZS5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5xdWV1ZVNhdmUoKTtcclxuICAgICAgICB0aGlzLm9uRGF0ZVVwZGF0ZWQuZmlyZSh7IHNoZWV0LCBkYXRlIH0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGNoYW5nZVJlYXNvbihkYXRlOiBUaW1lbG9nRGF0ZSwgaW5kZXg6IG51bWJlciwgcmVhc29uOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc2hlZXQgPSB0aGlzLnNoZWV0cy5maW5kKHMgPT4gcy5kYXRlcy5zb21lKGQgPT4gZCA9PT0gZGF0ZSkpO1xyXG4gICAgICAgIGlmICghc2hlZXQpIHJldHVybjtcclxuICAgICAgICBkYXRlLmVudHJpZXNbaW5kZXhdLnJlYXNvbklkID0gcmVhc29uO1xyXG4gICAgICAgIGRhdGUuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucXVldWVTYXZlKCk7XHJcbiAgICAgICAgdGhpcy5vbkRhdGVVcGRhdGVkLmZpcmUoeyBzaGVldCwgZGF0ZSB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBjaGFuZ2VDb21tZW50KGRhdGU6IFRpbWVsb2dEYXRlLCBpbmRleDogbnVtYmVyLCBjb21tZW50OiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc2hlZXQgPSB0aGlzLnNoZWV0cy5maW5kKHMgPT4gcy5kYXRlcy5zb21lKGQgPT4gZCA9PT0gZGF0ZSkpO1xyXG4gICAgICAgIGlmICghc2hlZXQpIHJldHVybjtcclxuICAgICAgICBkYXRlLmVudHJpZXNbaW5kZXhdLmNvbW1lbnQgPSBjb21tZW50O1xyXG4gICAgICAgIGRhdGUuZW50cmllc1tpbmRleF0uaGFzQ29tbWVudCA9IHRydWU7XHJcbiAgICAgICAgZGF0ZS5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5xdWV1ZVNhdmUoKTtcclxuICAgICAgICB0aGlzLm9uRGF0ZVVwZGF0ZWQuZmlyZSh7IHNoZWV0LCBkYXRlIH0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHRvZ2dsZUNvbW1lbnQoZGF0ZTogVGltZWxvZ0RhdGUsIGluZGV4OiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc2hlZXQgPSB0aGlzLnNoZWV0cy5maW5kKHMgPT4gcy5kYXRlcy5zb21lKGQgPT4gZCA9PT0gZGF0ZSkpO1xyXG4gICAgICAgIGlmICghc2hlZXQpIHJldHVybjtcclxuICAgICAgICBkYXRlLmVudHJpZXNbaW5kZXhdLmhhc0NvbW1lbnQgPSAhZGF0ZS5lbnRyaWVzW2luZGV4XS5oYXNDb21tZW50O1xyXG4gICAgICAgIGRhdGUuZW50cmllc1tpbmRleF0uY29tbWVudCA9IGRhdGUuZW50cmllc1tpbmRleF0uaGFzQ29tbWVudCA/IFwiXCIgOiBudWxsO1xyXG4gICAgICAgIGRhdGUuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucXVldWVTYXZlKCk7XHJcbiAgICAgICAgdGhpcy5vbkRhdGVVcGRhdGVkLmZpcmUoeyBzaGVldCwgZGF0ZSB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBhc3luYyBzZXRGYXZvcml0ZWREYXRlKGRhdGU6IFRpbWVsb2dEYXRlKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNoZWV0ID0gdGhpcy5zaGVldHMuZmluZChzID0+IHMuZGF0ZXMuc29tZShkID0+IGQgPT09IGRhdGUpKTtcclxuICAgICAgICBpZiAoIXNoZWV0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IG9sZEZhdm9yaXRlID0gYXdhaXQgdGhpcy5nZXRGYXZvcml0ZWREYXRlKCk7XHJcbiAgICAgICAgaWYgKG9sZEZhdm9yaXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb2xkRmF2b3JpdGUuZGF0ZS5mYXZvcml0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5vbkRhdGVVcGRhdGVkLmZpcmUob2xkRmF2b3JpdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGF0ZS5mYXZvcml0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub25EYXRlVXBkYXRlZC5maXJlKHsgc2hlZXQ6IHNoZWV0LCBkYXRlOiBkYXRlIH0pO1xyXG5cclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0bF9mYXZvcml0ZVwiLCBKU09OLnN0cmluZ2lmeSh7IGRhdGU6IERhdGVzLmZvcm1hdChkYXRlLmRhdGUsIGZhbHNlKSB9IGFzIFRpbWVMb2dGYXZvcml0ZWREYXRlKSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0RmF2b3JpdGVkRGF0ZSgpOiBQcm9taXNlPHsgc2hlZXQ6IFRpbWVsb2dTaGVldCwgZGF0ZTogVGltZWxvZ0RhdGUgfSB8IG51bGw+XHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc3RyID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidGxfZmF2b3JpdGVcIik7XHJcbiAgICAgICAgaWYgKCFzdHIpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGZhdm9yaXRlOiBUaW1lTG9nRmF2b3JpdGVkRGF0ZSA9IEpTT04ucGFyc2Uoc3RyKTtcclxuICAgICAgICBjb25zdCB0aW1lID0gRGF0ZXMucGFyc2UoZmF2b3JpdGUuZGF0ZSk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aW1lID09PSBcIm51bWJlclwiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3Qgc2hlZXQgPSB0aGlzLnNoZWV0cy5maW5kKHMgPT4gcy5zdGFydCA8PSB0aW1lICYmIHMuZW5kID49IHRpbWUpO1xyXG4gICAgICAgICAgICBpZiAoc2hlZXQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGVldC5kYXRlcy5sZW5ndGggPCAxKSBhd2FpdCB0aGlzLmZldGNoU2hlZXQoc2hlZXQuaWQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IHNoZWV0LmRhdGVzLmZpbmQoZCA9PiBkLmRhdGUgPT09IHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGUpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc2hlZXQ6IHNoZWV0LCBkYXRlOiBkYXRlIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlbGV0ZUVudHJ5KGRhdGU6IFRpbWVsb2dEYXRlLCBpbmRleDogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNoZWV0ID0gdGhpcy5zaGVldHMuZmluZChzID0+IHMuZGF0ZXMuc29tZShkID0+IGQgPT09IGRhdGUpKTtcclxuICAgICAgICBpZiAoIXNoZWV0KSByZXR1cm47XHJcbiAgICAgICAgZGF0ZS5lbnRyaWVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgZGF0ZS5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5xdWV1ZVNhdmUoKTtcclxuICAgICAgICB0aGlzLm9uRGF0ZVVwZGF0ZWQuZmlyZSh7IHNoZWV0LCBkYXRlIH0pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBhc3luYyBmaW5kTGFzdEVudHJ5KG9yaWdpbmFsRGF0ZTogVGltZWxvZ0RhdGUpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxTaGVldCA9IHRoaXMuc2hlZXRzLmZpbmQocyA9PiBzLmRhdGVzLnNvbWUoZCA9PiBkID09PSBvcmlnaW5hbERhdGUpKTtcclxuICAgICAgICBpZiAoIW9yaWdpbmFsU2hlZXQpIHJldHVybjtcclxuICAgICAgICBsZXQgZGF0ZUluZGV4ID0gb3JpZ2luYWxTaGVldC5kYXRlcy5pbmRleE9mKG9yaWdpbmFsRGF0ZSk7XHJcbiAgICAgICAgbGV0IGVudHJ5SW5kZXggPSAtMTtcclxuICAgICAgICBmb3IgKGxldCBzaGVldEluZGV4ID0gdGhpcy5zaGVldHMuaW5kZXhPZihvcmlnaW5hbFNoZWV0KTsgc2hlZXRJbmRleCA8IHRoaXMuc2hlZXRzLmxlbmd0aDsgc2hlZXRJbmRleCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3Qgc2hlZXQgPSB0aGlzLnNoZWV0c1tzaGVldEluZGV4XTtcclxuICAgICAgICAgICAgaWYgKHNoZWV0LmRhdGVzLmxlbmd0aCA8IDEpIGF3YWl0IHRoaXMuZmV0Y2hTaGVldChzaGVldC5pZCk7XHJcbiAgICAgICAgICAgIGZvciAoOyBkYXRlSW5kZXggPCBzaGVldC5kYXRlcy5sZW5ndGg7IGRhdGVJbmRleCsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gc2hlZXQuZGF0ZXNbZGF0ZUluZGV4XTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRlLmVudHJpZXMubGVuZ3RoID4gMCkgcmV0dXJuIGVudHJ5SW5kZXggPCAwID8gZGF0ZS5lbnRyaWVzW2RhdGUuZW50cmllcy5sZW5ndGggLSAxXSA6IGRhdGUuZW50cmllc1tlbnRyeUluZGV4XTtcclxuICAgICAgICAgICAgICAgIGVudHJ5SW5kZXggPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRhdGVJbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGFzeW5jIG5ld0VudHJ5KGRhdGU6IFRpbWVsb2dEYXRlKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNoZWV0ID0gdGhpcy5zaGVldHMuZmluZChzID0+IHMuZGF0ZXMuc29tZShkID0+IGQgPT09IGRhdGUpKTtcclxuICAgICAgICBpZiAoIXNoZWV0KSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgbGFzdCA9IGF3YWl0IHRoaXMuZmluZExhc3RFbnRyeShkYXRlKTtcclxuICAgICAgICBsZXQgc3RhcnRIb3VyID0gOC41O1xyXG4gICAgICAgIGxldCBsZW5ndGhIb3VycyA9IE51bWJlcnMucm91bmQoc2hlZXQuaG91cnNQZXJEYXksIDIpO1xyXG4gICAgICAgIGxldCByZWFzb25JZCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKGxhc3QpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoZGF0ZS5lbnRyaWVzLmluY2x1ZGVzKGxhc3QpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGFydEhvdXIgPSBsYXN0LnN0YXJ0SG91ciArIGxhc3QubGVuZ3RoSG91cnM7XHJcbiAgICAgICAgICAgICAgICBsZW5ndGhIb3VycyA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVhc29uSWQgPSBsYXN0LnJlYXNvbklkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRlLmVudHJpZXMucHVzaCh7XHJcbiAgICAgICAgICAgIHN0YXJ0SG91cixcclxuICAgICAgICAgICAgbGVuZ3RoSG91cnMsXHJcbiAgICAgICAgICAgIHJlYXNvbklkLFxyXG4gICAgICAgICAgICBjb21tZW50OiBudWxsLFxyXG4gICAgICAgICAgICBoYXNDb21tZW50OiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRhdGUuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucXVldWVTYXZlKCk7XHJcbiAgICAgICAgdGhpcy5vbkRhdGVVcGRhdGVkLmZpcmUoeyBzaGVldCwgZGF0ZSB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBhc3luYyBwYXN0ZUZyb21TdGFycmVkKGRhdGU6IFRpbWVsb2dEYXRlKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChkYXRlLmVudHJpZXMubGVuZ3RoID4gMCkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IHNoZWV0ID0gdGhpcy5zaGVldHMuZmluZChzID0+IHMuZGF0ZXMuc29tZShkID0+IGQgPT09IGRhdGUpKTtcclxuICAgICAgICBpZiAoIXNoZWV0KSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgZmF2b3JpdGUgPSBhd2FpdCB0aGlzLmdldEZhdm9yaXRlZERhdGUoKTtcclxuICAgICAgICBpZiAoIWZhdm9yaXRlIHx8IGZhdm9yaXRlLmRhdGUgPT09IGRhdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBmYXZvcml0ZS5kYXRlLmVudHJpZXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBkYXRlLmVudHJpZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBzdGFydEhvdXI6IGVudHJ5LnN0YXJ0SG91cixcclxuICAgICAgICAgICAgICAgIGxlbmd0aEhvdXJzOiBlbnRyeS5sZW5ndGhIb3VycyxcclxuICAgICAgICAgICAgICAgIHJlYXNvbklkOiBlbnRyeS5yZWFzb25JZCxcclxuICAgICAgICAgICAgICAgIGNvbW1lbnQ6IGVudHJ5LmNvbW1lbnQsXHJcbiAgICAgICAgICAgICAgICBoYXNDb21tZW50OiBlbnRyeS5oYXNDb21tZW50XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRlLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnF1ZXVlU2F2ZSgpO1xyXG4gICAgICAgIHRoaXMub25EYXRlVXBkYXRlZC5maXJlKHsgc2hlZXQsIGRhdGUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHF1ZXVlU2F2ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnNhdmVIYW5kbGUpO1xyXG4gICAgICAgIHRoaXMuc2F2ZUhhbmRsZSA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMuc2F2ZSgpLCA1MDApO1xyXG4gICAgICAgIHRoaXMub25TYXZlU3RhdHVzVXBkYXRlZC5maXJlKFRpbWVsb2dTYXZlU3RhdHVzLldhaXRpbmcpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGFzeW5jIHNhdmUoKVxyXG4gICAge1xyXG4gICAgICAgIGF3YWl0IFdhaXQudW50aWwoKCkgPT4gIXRoaXMuc2F2aW5nKTtcclxuICAgICAgICB0aGlzLnNhdmluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vblNhdmVTdGF0dXNVcGRhdGVkLmZpcmUoVGltZWxvZ1NhdmVTdGF0dXMuU2F2aW5nKTtcclxuICAgICAgICBjb25zdCBtaW5pbXVtV2FpdCA9IFdhaXQuZm9yKDEwMCk7XHJcbiAgICAgICAgbGV0IGVycm9yID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChjb25zdCBzaGVldCBvZiB0aGlzLnNoZWV0cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGF0ZSBvZiBzaGVldC5kYXRlcylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGUuZGlydHkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgSGlCb2Iuc3VibWl0KGRhdGUuZGF0ZSwgZGF0ZS5lbnRyaWVzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZS5kaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF3YWl0IG1pbmltdW1XYWl0O1xyXG4gICAgICAgIHRoaXMub25TYXZlU3RhdHVzVXBkYXRlZC5maXJlKGVycm9yID8gVGltZWxvZ1NhdmVTdGF0dXMuRXJyb3IgOiBUaW1lbG9nU2F2ZVN0YXR1cy5TYXZlZCk7XHJcbiAgICAgICAgdGhpcy5zYXZpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RmxleFBvbGljeSgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHsgcHJldmlvdXNEYXlzSW5jbHVkZWQ6IDcgKiA0LCBmbGV4V2FybmluZ1RocmVzaG9sZDogNyAqIDMgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgY2xlYXJTaGVldEJhbGFuY2VDYWNoZSgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNoZWV0cykgcmV0dXJuO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaGVldHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBzaGVldCA9IHRoaXMuc2hlZXRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoIXNoZWV0KSBjb250aW51ZTtcclxuICAgICAgICAgICAgY29uc3QgY2FjaGVLZXkgPSBgdGxfY2FjaGVkX2hvdXJfYmFsYW5jZXNfJHtzaGVldC5pZH1gO1xyXG4gICAgICAgICAgICBpZiAoc2hlZXQubG9ja2VkICYmIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShjYWNoZUtleSkgIT09IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShjYWNoZUtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRDYWNoZWRCYWxhbmNlcygpOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIFRpbWVsb2dGbGV4RGF0ZVtdPj5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBzaGVldHM6IFJlY29yZDxzdHJpbmcsIFRpbWVsb2dGbGV4RGF0ZVtdPiA9IHt9O1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zaGVldHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBzaGVldCA9IHRoaXMuc2hlZXRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoIXNoZWV0KSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzaGVldEJhbGFuY2VzOiB7IGRhdGU6IG51bWJlciwgYmFsYW5jZTogbnVtYmVyIH1bXSA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZUtleSA9IGB0bF9jYWNoZWRfaG91cl9iYWxhbmNlc18ke3NoZWV0LmlkfWA7XHJcbiAgICAgICAgICAgIGlmIChzaGVldC5sb2NrZWQgJiYgd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGNhY2hlS2V5KSAhPT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2hlZXRCYWxhbmNlcyA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGNhY2hlS2V5KSA/PyBcIltdXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoZWV0LmRhdGVzLmxlbmd0aCA8IDEpIGF3YWl0IHRoaXMuZmV0Y2hTaGVldChzaGVldC5pZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hlZXQuZGF0ZXMuc29tZShkID0+IGQuZW50cmllcy5sZW5ndGggPiAwICYmIGQuZW50cmllcy5zb21lKGUgPT4gZS5sZW5ndGhIb3VycyA+IDApKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRheSBvZiBzaGVldC5kYXRlcylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtlZEhvdXJzID0gTnVtYmVycy5zdW0oZGF5LmVudHJpZXMubWFwKGUgPT4gZS5sZW5ndGhIb3VycykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWxhbmNlID0gd29ya2VkSG91cnMgLSBkYXkuaG91cnNUb1dvcms7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoZWV0QmFsYW5jZXMucHVzaCh7IGRhdGU6IGRheS5kYXRlLCBiYWxhbmNlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHNoZWV0LmxvY2tlZCAmJiBzaGVldC5pZCA+IDApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGNhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShzaGVldEJhbGFuY2VzKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2hlZXRzW3NoZWV0LmlkLnRvU3RyaW5nKCldID0gc2hlZXRCYWxhbmNlcy5tYXAoZCA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IGQuZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRlU3RyaW5nOiBEYXRlcy5mb3JtYXQoZC5kYXRlLCBmYWxzZSksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVhbEJhbGFuY2U6IGQuYmFsYW5jZSxcclxuICAgICAgICAgICAgICAgICAgICByZWFsbG9jYXRlZEJhbGFuY2U6IE51bWJlcnMucm91bmQoZC5iYWxhbmNlLCAzKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS5zb3J0KChhLCBiKSA9PiBhLmRhdGUgLSBiLmRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2hlZXRzO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGFzeW5jIGdldEZsZXhTdGF0dXMoKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHBvbGljeSA9IHRoaXMuZ2V0RmxleFBvbGljeSgpO1xyXG5cclxuICAgICAgICBjb25zdCBjdXJyZW50RGF0ZVRpbWUgPSBEYXRlcy5wYXJzZShEYXRlcy5mb3JtYXQoRGF0ZS5ub3coKSwgZmFsc2UpKSA/PyAwO1xyXG4gICAgICAgIGNvbnN0IG92ZXJkdWVEYXRlVGltZSA9IERhdGVzLnBhcnNlKERhdGVzLmZvcm1hdChjdXJyZW50RGF0ZVRpbWUgLSAoMTAwMCAqIDYwICogNjAgKiAyNCAqIChwb2xpY3kucHJldmlvdXNEYXlzSW5jbHVkZWQgLSAxKSksIGZhbHNlKSkgPz8gMDtcclxuICAgICAgICBjb25zdCB3YXJuaW5nRGF0ZVRpbWUgPSBEYXRlcy5wYXJzZShEYXRlcy5mb3JtYXQoY3VycmVudERhdGVUaW1lIC0gKDEwMDAgKiA2MCAqIDYwICogMjQgKiAocG9saWN5LmZsZXhXYXJuaW5nVGhyZXNob2xkIC0gMSkpLCBmYWxzZSkpID8/IDA7XHJcblxyXG4gICAgICAgIGNvbnN0IGFsbERhdGVzOiBUaW1lbG9nRmxleERhdGVbXSA9IFtdO1xyXG4gICAgICAgIGxldCBiYWxhbmNlOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGlmICghIXRoaXMuc2hlZXRzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYXdhaXQgV2FpdC51bnRpbCgoKSA9PiAhdGhpcy5jYWxjdWxhdGluZ0ZsZXgpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0aW5nRmxleCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzaGVldHMgPSBhd2FpdCB0aGlzLmdldENhY2hlZEJhbGFuY2VzKCk7XHJcblxyXG4gICAgICAgICAgICAvL0NhbGN1bGF0ZSByZW1haW5pbmcgYmFsYW5jZXMgLyBjYW5jZWxsZWQgb3V0IGJhbGFuY2VzXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnNoZWV0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hlZXQgPSBzaGVldHNbdGhpcy5zaGVldHNbaV0uaWRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoZWV0KSBhbGxEYXRlcy5wdXNoKC4uLnNoZWV0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9SdW4gdGhlIHJlYWxsb2NhdGlvbiBhbGdvcml0aG1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxEYXRlcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IGFsbERhdGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpOyBqKyspXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGUucmVhbGxvY2F0ZWRCYWxhbmNlID09PSAwKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2RGF0ZSA9IGFsbERhdGVzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IE1hdGgubWluKE1hdGguYWJzKGRhdGUucmVhbGxvY2F0ZWRCYWxhbmNlKSwgTWF0aC5hYnMocHJldkRhdGUucmVhbGxvY2F0ZWRCYWxhbmNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGUucmVhbGxvY2F0ZWRCYWxhbmNlIDwgMCAmJiBwcmV2RGF0ZS5yZWFsbG9jYXRlZEJhbGFuY2UgPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkRhdGUucmVhbGxvY2F0ZWRCYWxhbmNlIC09IGFtb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZS5yZWFsbG9jYXRlZEJhbGFuY2UgKz0gYW1vdW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRlLnJlYWxsb2NhdGVkQmFsYW5jZSA+IDAgJiYgcHJldkRhdGUucmVhbGxvY2F0ZWRCYWxhbmNlIDwgMClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZEYXRlLnJlYWxsb2NhdGVkQmFsYW5jZSArPSBhbW91bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUucmVhbGxvY2F0ZWRCYWxhbmNlIC09IGFtb3VudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldkRhdGUucmVhbGxvY2F0ZWRCYWxhbmNlID0gTnVtYmVycy5yb3VuZChwcmV2RGF0ZS5yZWFsbG9jYXRlZEJhbGFuY2UsIDMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGF0ZS5yZWFsbG9jYXRlZEJhbGFuY2UgPSBOdW1iZXJzLnJvdW5kKGRhdGUucmVhbGxvY2F0ZWRCYWxhbmNlLCAzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiYWxhbmNlID0gTnVtYmVycy5zdW0oYWxsRGF0ZXMubWFwKGQgPT4gTnVtYmVycy5yb3VuZChkLnJlYWxsb2NhdGVkQmFsYW5jZSwgMykpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRpbmdGbGV4ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGJhbGFuY2UsXHJcbiAgICAgICAgICAgIHVuYmFsYW5jZWREYXRlczogYWxsRGF0ZXMuZmlsdGVyKGQgPT4gZC5yZWFsbG9jYXRlZEJhbGFuY2UgIT09IDApLFxyXG4gICAgICAgICAgICBvdmVyZHVlRGF0ZXM6IGFsbERhdGVzLmZpbHRlcihkID0+IGQucmVhbGxvY2F0ZWRCYWxhbmNlICE9PSAwICYmIGQuZGF0ZSA8PSBvdmVyZHVlRGF0ZVRpbWUpLFxyXG4gICAgICAgICAgICB3YXJuaW5nRGF0ZXM6IGFsbERhdGVzLmZpbHRlcihkID0+IGQucmVhbGxvY2F0ZWRCYWxhbmNlICE9PSAwICYmIGQuZGF0ZSA8PSB3YXJuaW5nRGF0ZVRpbWUgJiYgZC5kYXRlID4gb3ZlcmR1ZURhdGVUaW1lKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgUmVhc29uRW5oYW5jZW1lbnRzIH0gZnJvbSBcIi4vUmVhc29uRW5oYW5jZW1lbnRzL1JlYXNvbnNFbmhhbmNlbWVudHNcIjtcclxuaW1wb3J0IHsgVGltZWxvZ1VJIH0gZnJvbSBcIi4vVGltZWxvZy9UaW1lbG9nVUlcIjtcclxuaW1wb3J0IHsgTWF0ZXJpYWxJY29uIH0gZnJvbSBcIi4vVXRpbHMvTWF0ZXJpYWxJY29uXCI7XHJcblxyXG5cclxuTWF0ZXJpYWxJY29uLmluaXRpYWxpemUoKTtcclxubmV3IFRpbWVsb2dVSSgpO1xyXG5uZXcgUmVhc29uRW5oYW5jZW1lbnRzKCk7IiwiaW1wb3J0IHsgSGlCb2JSZWFzb24gfSBmcm9tIFwiLi4vSGlCb2IvSGlCb2JUeXBlc1wiO1xyXG5pbXBvcnQgeyBEYXRlcyB9IGZyb20gXCIuLi9VdGlscy9EYXRlc1wiO1xyXG5pbXBvcnQgeyBFdmVudEhhbmRsZXIgfSBmcm9tIFwiLi4vVXRpbHMvRXZlbnRIYW5kbGVyXCI7XHJcbmltcG9ydCB7IE1hdGVyaWFsSWNvbiB9IGZyb20gXCIuLi9VdGlscy9NYXRlcmlhbEljb25cIjtcclxuaW1wb3J0IHsgTnVtYmVycyB9IGZyb20gXCIuLi9VdGlscy9OdW1iZXJzXCI7XHJcbmltcG9ydCB7IFdhaXQgfSBmcm9tIFwiLi4vVXRpbHMvV2FpdFwiO1xyXG5pbXBvcnQgeyBUaW1lbG9nQ3NzIH0gZnJvbSBcIi4vVGltZWxvZ0Nzc1wiO1xyXG5pbXBvcnQgeyBUaW1lbG9nTW9kZWwgfSBmcm9tIFwiLi9UaW1lbG9nTW9kZWxcIjtcclxuaW1wb3J0IHsgVGltZWxvZ0RhdGUsIFRpbWVsb2dFbnRyeSwgVGltZWxvZ1NhdmVTdGF0dXMsIFRpbWVsb2dTaGVldCwgVGltZWxvZ1VJRGF0ZSBhcyBUaW1lbG9nVUlEYXRlQ29udGFpbmVyLCBUaW1lbG9nVUlXZWVrU3VtIH0gZnJvbSBcIi4vVGltZWxvZ1R5cGVzXCI7XHJcblxyXG5kZWNsYXJlIHZhciBISUJPQl9VVElMU19WRVI6IHN0cmluZztcclxuZGVjbGFyZSB2YXIgSElCT0JfVVRJTFNfQ0hBTkdFTE9HOiB7IHZlcnNpb246IHN0cmluZywgdGV4dDogc3RyaW5nW10gfVtdO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRpbWVsb2dVSVxyXG57XHJcbiAgICBwcml2YXRlIHRpbWVsb2dVSU91dGVyPzogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHRpbWVsb2dVSUlubmVyPzogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHRvZ2dsZUJ1dHRvbj86IEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBkYXJrTW9kZUJ1dHRvbj86IEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBtb2RlbD86IFRpbWVsb2dNb2RlbDtcclxuXHJcbiAgICBwcml2YXRlIHNoZWV0RHJvcGRvd24/OiBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgIHByaXZhdGUgc2hlZXREcm9wZG93bk9wdGlvbnM6IHsgc2hlZXQ6IFRpbWVsb2dTaGVldCwgZWxlbWVudDogSFRNTE9wdGlvbkVsZW1lbnQgfVtdID0gW107XHJcbiAgICBwcml2YXRlIHNlbGVjdGVkU2hlZXQ/OiBUaW1lbG9nU2hlZXQ7XHJcblxyXG4gICAgcHJpdmF0ZSBzaGVldENvbnRhaW5lcj86IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBzaGVldERhdGVzOiBUaW1lbG9nVUlEYXRlQ29udGFpbmVyW10gPSBbXTtcclxuICAgIHByaXZhdGUgd2Vla1N1bXM6IFRpbWVsb2dVSVdlZWtTdW1bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzYXZlU3RhdHVzPzogSFRNTFNwYW5FbGVtZW50O1xyXG5cclxuICAgIHByaXZhdGUgYmFsYW5jZUxhYmVsPzogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGJhbGFuY2VXYXJuaW5nPzogSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFzb25zOiBIaUJvYlJlYXNvbltdID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBvbkRhcmtNb2RlQ2hhbmdlID0gbmV3IEV2ZW50SGFuZGxlcjxib29sZWFuPigpO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnRpbWVsb2cgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuYWRkQnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGFzeW5jIGFkZEJ1dHRvbigpXHJcbiAgICB7XHJcbiAgICAgICAgd2hpbGUgKHRydWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LmFwcC1jb250ZW50ID4gYXBwLXRvcC1iYXIuYXBwLXRvcC1iYXIgPiBkaXYuYWN0aW9uc1wiKTtcclxuICAgICAgICAgICAgaWYgKCFwYXJlbnQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IFdhaXQuZm9yKDEpO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVCdXR0b24uY2xhc3NOYW1lID0gXCJ0bC10b2dnbGUtYnRuXCI7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uLmFwcGVuZENoaWxkKE1hdGVyaWFsSWNvbi5nZXQoXCJzZW50aW1lbnRfdmVyeV9zYXRpc2ZpZWRcIikpO1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbi50aXRsZSA9IFwiSGlCb2IgVXRpbGl0aWVzXCI7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLnRvZ2dsZVZpc2libGUoKTtcclxuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRoaXMudG9nZ2xlQnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVUkoKTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlTW9kZWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5oYXNoID09PSBcIiN0bC11aVwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVZpc2libGUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5vbkRhcmtNb2RlQ2hhbmdlLmZpcmUodGhpcy5pc0RhcmtNb2RlKCkpO1xyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSB0b2dnbGVWaXNpYmxlKClcclxuICAgIHtcclxuICAgICAgICBpZiAoIXRoaXMudGltZWxvZ1VJT3V0ZXIpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy50aW1lbG9nVUlPdXRlci5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZWxvZ1VJT3V0ZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgbG9jYXRpb24uaGFzaCA9IFwiI3RsLXVpXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGVldENvbnRhaW5lcikgdGhpcy5zaGVldENvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsPy5mZXRjaFNoZWV0cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVsb2dVSU91dGVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgbG9jYXRpb24uaGFzaCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImluaXRpYWxcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGlzRGFya01vZGUoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRsX2RhcmtfbW9kZVwiKSA9PT0gXCJ0cnVlXCI7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHRvZ2dsZURhcmtNb2RlKClcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RhcmtNb2RlKCkpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGxfZGFya19tb2RlXCIsIFwiZmFsc2VcIik7XHJcbiAgICAgICAgZWxzZSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRsX2RhcmtfbW9kZVwiLCBcInRydWVcIik7XHJcbiAgICAgICAgdGhpcy5vbkRhcmtNb2RlQ2hhbmdlLmZpcmUodGhpcy5pc0RhcmtNb2RlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlVUkoKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG4gICAgICAgIHN0eWxlLmlubmVySFRNTCA9IFRpbWVsb2dDc3M7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdHlsZSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJT3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJT3V0ZXIuY2xhc3NOYW1lID0gXCJ0bC11aVwiO1xyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJT3V0ZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMudGltZWxvZ1VJT3V0ZXIpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWVsb2dVSUlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLnRpbWVsb2dVSUlubmVyLmNsYXNzTmFtZSA9IFwidGwtdWktaW5uZXJcIjtcclxuICAgICAgICB0aGlzLnRpbWVsb2dVSU91dGVyLmFwcGVuZCh0aGlzLnRpbWVsb2dVSUlubmVyKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIGNsb3NlQnV0dG9uLmNsYXNzTmFtZSA9IFwidGwtY2xvc2UtYnRuXCI7XHJcbiAgICAgICAgY2xvc2VCdXR0b24uYXBwZW5kQ2hpbGQoTWF0ZXJpYWxJY29uLmdldChcImNsb3NlXCIpKTtcclxuICAgICAgICBjbG9zZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy50b2dnbGVWaXNpYmxlKCk7XHJcbiAgICAgICAgdGhpcy50aW1lbG9nVUlJbm5lci5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7XHJcblxyXG4gICAgICAgIHRoaXMuZGFya01vZGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuZGFya01vZGVCdXR0b24uY2xhc3NOYW1lID0gXCJ0bC1kYXJrLW1vZGUtYnRuXCI7XHJcbiAgICAgICAgdGhpcy5kYXJrTW9kZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy50b2dnbGVEYXJrTW9kZSgpO1xyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJSW5uZXIuYXBwZW5kQ2hpbGQodGhpcy5kYXJrTW9kZUJ1dHRvbik7XHJcbiAgICAgICAgdGhpcy5vbkRhcmtNb2RlQ2hhbmdlLm9uKChkYXJrKSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKGRhcmspIHRoaXMudGltZWxvZ1VJT3V0ZXI/LmNsYXNzTGlzdC5hZGQoXCJ0bC1kYXJrXCIpO1xyXG4gICAgICAgICAgICBlbHNlIHRoaXMudGltZWxvZ1VJT3V0ZXI/LmNsYXNzTGlzdC5yZW1vdmUoXCJ0bC1kYXJrXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXJrTW9kZUJ1dHRvbilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXJrTW9kZUJ1dHRvbi5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXJrTW9kZUJ1dHRvbi5hcHBlbmQoZGFyayA/IE1hdGVyaWFsSWNvbi5nZXQoXCJsaWdodF9tb2RlXCIpIDogTWF0ZXJpYWxJY29uLmdldChcImRhcmtfbW9kZVwiKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICBjb25zdCBzZXR0aW5zV2luZG93ID0gdGhpcy5jcmVhdGVTZXR0aW5nc1dpbmRvdygpO1xyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJSW5uZXIuYXBwZW5kQ2hpbGQoc2V0dGluc1dpbmRvdyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBzZXR0aW5nc0J1dHRvbi5hcHBlbmQoTWF0ZXJpYWxJY29uLmdldChcInNldHRpbmdzXCIsIHRydWUpKTtcclxuICAgICAgICBzZXR0aW5nc0J1dHRvbi5hcHBlbmQoXCIgXCIgKyBISUJPQl9VVElMU19WRVIpO1xyXG4gICAgICAgIHNldHRpbmdzQnV0dG9uLmNsYXNzTmFtZSA9IFwidGwtdmVyc2lvbi1udW1iZXJcIjtcclxuICAgICAgICBzZXR0aW5nc0J1dHRvbi5vbmNsaWNrID0gKCkgPT4gc2V0dGluc1dpbmRvdy5jbGFzc0xpc3QucmVtb3ZlKFwidGwtc2V0dGluZ3MtaGlkZGVuXCIpO1xyXG4gICAgICAgIHNldHRpbmdzQnV0dG9uLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG4gICAgICAgIHNldHRpbmdzQnV0dG9uLnN0eWxlLnRleHREZWNvcmF0aW9uID0gXCJ1bmRlcmxpbmVcIjtcclxuICAgICAgICB0aGlzLnRpbWVsb2dVSUlubmVyLmFwcGVuZENoaWxkKHNldHRpbmdzQnV0dG9uKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IHNoZWV0RHJvcGRvd25MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgIHNoZWV0RHJvcGRvd25MYWJlbC5pbm5lclRleHQgPSBcIlNoZWV0OlwiO1xyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJSW5uZXIuYXBwZW5kQ2hpbGQoc2hlZXREcm9wZG93bkxhYmVsKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaGVldERyb3Bkb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICAgICAgICB0aGlzLnNoZWV0RHJvcGRvd24uY2xhc3NOYW1lID0gXCJ0bC1zaGVldC1zZWxlY3RcIjtcclxuICAgICAgICB0aGlzLnNoZWV0RHJvcGRvd24ub25jaGFuZ2UgPSAoKSA9PiB0aGlzLm9uU2VsZWN0ZWRTaGVldENoYW5nZSgpO1xyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJSW5uZXIuYXBwZW5kQ2hpbGQodGhpcy5zaGVldERyb3Bkb3duKTtcclxuXHJcbiAgICAgICAgdGhpcy5zYXZlU3RhdHVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmNsYXNzTmFtZSA9IFwidGwtc2F2ZS1zdGF0dXNcIjtcclxuICAgICAgICB0aGlzLnNhdmVTdGF0dXMub25jbGljayA9ICgpID0+IHRoaXMub25TYXZlU3RhdHVzQ2xpY2soKTtcclxuICAgICAgICB0aGlzLnRpbWVsb2dVSUlubmVyLmFwcGVuZCh0aGlzLnNhdmVTdGF0dXMpO1xyXG5cclxuICAgICAgICBjb25zdCBiYWxhbmNlUGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBiYWxhbmNlUGFyZW50LmNsYXNzTmFtZSA9IFwidGwtYmFsYW5jZVwiO1xyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJSW5uZXIuYXBwZW5kKGJhbGFuY2VQYXJlbnQpO1xyXG5cclxuICAgICAgICB0aGlzLmJhbGFuY2VMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5iYWxhbmNlTGFiZWwuaW5uZXJUZXh0ID0gXCJCYWxhbmNlOiBcIjtcclxuICAgICAgICB0aGlzLmJhbGFuY2VMYWJlbC5jbGFzc05hbWUgPSBcInRsLWJhbGFuY2UtbGFiZWxcIjtcclxuICAgICAgICBiYWxhbmNlUGFyZW50LmFwcGVuZCh0aGlzLmJhbGFuY2VMYWJlbCk7XHJcblxyXG4gICAgICAgIHRoaXMuYmFsYW5jZVdhcm5pbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuYmFsYW5jZVdhcm5pbmcuY2xhc3NOYW1lID0gXCJ0bC1iYWxhbmNlLXdhcm5pbmcgdGwtd2FybmluZyB0bC1oaWRkZW5cIjtcclxuICAgICAgICBiYWxhbmNlUGFyZW50LmFwcGVuZCh0aGlzLmJhbGFuY2VXYXJuaW5nKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaGVldENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5zaGVldENvbnRhaW5lci5jbGFzc05hbWUgPSBcInRsLXNoZWV0XCI7XHJcbiAgICAgICAgdGhpcy50aW1lbG9nVUlJbm5lci5hcHBlbmRDaGlsZCh0aGlzLnNoZWV0Q29udGFpbmVyKTtcclxuXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGNyZWF0ZVNldHRpbmdzV2luZG93KClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwidGwtc2V0dGluZ3MgdGwtc2V0dGluZ3MtaGlkZGVuXCI7XHJcbiAgICAgICAgY29uc3QgYmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgYmFjay5jbGFzc05hbWUgPSBcInRsLXNldHRpbmdzLWJhY2tcIjtcclxuICAgICAgICBlbGVtZW50LmFwcGVuZChiYWNrKTtcclxuICAgICAgICBiYWNrLm9uY2xpY2sgPSAoKSA9PiBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0bC1zZXR0aW5ncy1oaWRkZW5cIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBpbm5lci5jbGFzc05hbWUgPSBcInRsLXNldHRpbmdzLWlubmVyXCI7XHJcbiAgICAgICAgZWxlbWVudC5hcHBlbmQoaW5uZXIpO1xyXG5cclxuICAgICAgICBjb25zdCBzZXR0aW5nc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHNldHRpbmdzRWxlbWVudC5jbGFzc05hbWUgPSBcInRsLXNldHRpbmdzLXZlcnNpb25cIjtcclxuICAgICAgICBpbm5lci5hcHBlbmQoc2V0dGluZ3NFbGVtZW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVsb2FkTG9ja2VkU2hlZXRzQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICByZWxvYWRMb2NrZWRTaGVldHNCdXR0b24uY2xhc3NOYW1lID0gXCJ0bC1zZXR0aW5ncy1yZWxvYWQtbG9ja2VkLXNoZWV0cy1idXR0b25cIjtcclxuICAgICAgICByZWxvYWRMb2NrZWRTaGVldHNCdXR0b24uYXBwZW5kKE1hdGVyaWFsSWNvbi5nZXQoXCJjYWNoZWRcIikpO1xyXG4gICAgICAgIHJlbG9hZExvY2tlZFNoZWV0c0J1dHRvbi5hcHBlbmQoXCIgUmVsb2FkIExvY2tlZCBTaGVldHNcIik7XHJcbiAgICAgICAgcmVsb2FkTG9ja2VkU2hlZXRzQnV0dG9uLnN0eWxlLmN1cnNvciA9IFwiaGVscFwiO1xyXG4gICAgICAgIHJlbG9hZExvY2tlZFNoZWV0c0J1dHRvbi50aXRsZSA9IFwiUmVjYWxjdWxhdGVzIGZsZXggYmFsYW5jZSBmb3IgYWxsIGxvY2tlZCBzaGVldHMuXCI7XHJcbiAgICAgICAgcmVsb2FkTG9ja2VkU2hlZXRzQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLm1vZGVsPy5jbGVhclNoZWV0QmFsYW5jZUNhY2hlKCkudGhlbigoKSA9PiB0aGlzLnVwZGF0ZUJhbGFuY2UoKSk7XHJcbiAgICAgICAgc2V0dGluZ3NFbGVtZW50LmFwcGVuZENoaWxkKHJlbG9hZExvY2tlZFNoZWV0c0J1dHRvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoYW5nZWxvZyA9IEhJQk9CX1VUSUxTX0NIQU5HRUxPRztcclxuICAgICAgICBmb3IgKGNvbnN0IHZlcnNpb24gb2YgY2hhbmdlbG9nKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgdmVyc2lvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICB2ZXJzaW9uRWxlbWVudC5jbGFzc05hbWUgPSBcInRsLXNldHRpbmdzLXZlcnNpb25cIjtcclxuICAgICAgICAgICAgaW5uZXIuYXBwZW5kKHZlcnNpb25FbGVtZW50KTtcclxuICAgICAgICAgICAgY29uc3QgdmVyc2lvblRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgdmVyc2lvblRpdGxlLmNsYXNzTmFtZSA9IFwidGwtc2V0dGluZ3MtdGl0bGVcIjtcclxuICAgICAgICAgICAgdmVyc2lvblRpdGxlLmlubmVyVGV4dCA9IHZlcnNpb24udmVyc2lvbjtcclxuICAgICAgICAgICAgdmVyc2lvbkVsZW1lbnQuYXBwZW5kKHZlcnNpb25UaXRsZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XHJcbiAgICAgICAgICAgIGxpc3QuY2xhc3NOYW1lID0gXCJ0bC1zZXR0aW5ncy1saXN0XCI7XHJcbiAgICAgICAgICAgIHZlcnNpb25FbGVtZW50LmFwcGVuZChsaXN0KTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCB0ZXh0IG9mIHZlcnNpb24udGV4dClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICAgICAgICAgICAgICB0ZXh0RWxlbWVudC5pbm5lclRleHQgPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgbGlzdC5hcHBlbmQodGV4dEVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBhc3luYyBjcmVhdGVNb2RlbCgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kZWwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLm9uRGF0ZVVwZGF0ZWQub2ZmKHRoaXMub25EYXRlVXBkYXRlZCwgdGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwub25SZWFzb25zVXBkYXRlZC5vZmYodGhpcy5vblJlYXNvbnNVcGRhdGVkLCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5vblNhdmVTdGF0dXNVcGRhdGVkLm9mZih0aGlzLm9uU2F2ZVN0YXR1c1VwZGF0ZWQsIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLm9uU2hlZXRVcGRhdGVkLm9mZih0aGlzLm9uU2hlZXRVcGRhdGVkLCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5vblNoZWV0c1VwZGF0ZWQub2ZmKHRoaXMub25TaGVldHNVcGRhdGVkLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IG5ldyBUaW1lbG9nTW9kZWwoKTtcclxuICAgICAgICB0aGlzLm1vZGVsLm9uRGF0ZVVwZGF0ZWQub24odGhpcy5vbkRhdGVVcGRhdGVkLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm1vZGVsLm9uUmVhc29uc1VwZGF0ZWQub24odGhpcy5vblJlYXNvbnNVcGRhdGVkLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm1vZGVsLm9uU2F2ZVN0YXR1c1VwZGF0ZWQub24odGhpcy5vblNhdmVTdGF0dXNVcGRhdGVkLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm1vZGVsLm9uU2hlZXRVcGRhdGVkLm9uKHRoaXMub25TaGVldFVwZGF0ZWQsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubW9kZWwub25TaGVldHNVcGRhdGVkLm9uKHRoaXMub25TaGVldHNVcGRhdGVkLCB0aGlzKTtcclxuXHJcbiAgICAgICAgYXdhaXQgdGhpcy5tb2RlbC5pbml0aWFsaXplKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldERhdGVDb250YWluZXIoZGF0YTogeyBzaGVldDogVGltZWxvZ1NoZWV0LCBkYXRlOiBUaW1lbG9nRGF0ZSB9KVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkU2hlZXQgPT09IGRhdGEuc2hlZXQgJiYgdGhpcy5zaGVldENvbnRhaW5lcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBkYXRlQ29udGFpbmVyID0gdGhpcy5zaGVldERhdGVzLmZpbmQoZCA9PiBkLmRhdGUgPT09IGRhdGEuZGF0ZSk7XHJcbiAgICAgICAgICAgIGlmICghZGF0ZUNvbnRhaW5lcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lciA9IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlOiBkYXRhLmRhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnRyaWVzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBzdGFyQnV0dG9uOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhc3RlQnV0dG9uOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIHdlZWtlbmREZXNjcmlwdGlvbjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hlZXREYXRlcy5wdXNoKGRhdGVDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5wYXJlbnQuY2xhc3NOYW1lID0gXCJ0bC1kYXRlXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNoZWV0Q29udGFpbmVyLmFwcGVuZENoaWxkKGRhdGVDb250YWluZXIucGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoZGF0YS5kYXRlLmRhdGUpLmdldERheSgpID09PSAxKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdlZWtTZXBlcmF0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdlZWtTZXBlcmF0b3IuY2xhc3NOYW1lID0gXCJ0bC13ZWVrLXNlcGVyYXRvclwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hlZXRDb250YWluZXIuYXBwZW5kQ2hpbGQod2Vla1NlcGVyYXRvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5wYXJlbnQuYXBwZW5kKGRhdGVDb250YWluZXIuc3RhckJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnN0YXJCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMubW9kZWw/LnNldEZhdm9yaXRlZERhdGUoZGF0YS5kYXRlKTtcclxuICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIuc3RhckJ1dHRvbi5jbGFzc05hbWUgPSBcInRsLXN0YXItYnV0dG9uIHRsLXNob3ctb24taG92ZXJcIjtcclxuICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIuc3RhckJ1dHRvbi50aXRsZSA9IFwiRmF2b3JpdGUgRGF5XCI7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci50aXRsZS5jbGFzc05hbWUgPSBcInRsLWRhdGUtbGFiZWxcIjtcclxuICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIudGl0bGUuaW5uZXJUZXh0ID0gbmV3IERhdGUoZGF0YS5kYXRlLmRhdGUpLnRvRGF0ZVN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0ZS5ub25Xb3JraW5nRGF5KSBkYXRlQ29udGFpbmVyLnRpdGxlLmNsYXNzTGlzdC5hZGQoXCJ0bC1kYXRlLWxhYmVsLXdlZWtlbmRcIik7XHJcbiAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnBhcmVudC5hcHBlbmQoZGF0ZUNvbnRhaW5lci50aXRsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci53ZWVrZW5kRGVzY3JpcHRpb24uY2xhc3NOYW1lID0gXCJ0bC13ZWVrZW5kLWRlc2NyaXB0aW9uXCI7XHJcbiAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnBhcmVudC5hcHBlbmQoZGF0ZUNvbnRhaW5lci53ZWVrZW5kRGVzY3JpcHRpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghZGF0YS5zaGVldC5sb2NrZWQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICAgICAgICAgICAgICBhZGQuYXBwZW5kQ2hpbGQoTWF0ZXJpYWxJY29uLmdldChcImFkZFwiKSlcclxuICAgICAgICAgICAgICAgICAgICBhZGQuY2xhc3NOYW1lID0gXCJ0bC1hZGQtZW50cnktYnRuIHRsLXNob3ctb24taG92ZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICBhZGQub25jbGljayA9ICgpID0+IHRoaXMubW9kZWw/Lm5ld0VudHJ5KGRhdGEuZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5wYXJlbnQuYXBwZW5kKGFkZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIucGFzdGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIucGFzdGVCdXR0b24uYXBwZW5kQ2hpbGQoTWF0ZXJpYWxJY29uLmdldChcInN3aXRjaF9hY2Nlc3Nfc2hvcnRjdXRfYWRkXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIucGFzdGVCdXR0b24udGl0bGUgPSBcIlBhc3RlIGZyb20gRmF2b3JpdGUgRGF5XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5wYXN0ZUJ1dHRvbi5jbGFzc05hbWUgPSBcInRsLXBhc3RlLWJ0biB0bC1zaG93LW9uLWhvdmVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5wYXN0ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy5tb2RlbD8ucGFzdGVGcm9tU3RhcnJlZChkYXRhLmRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIucGFyZW50LmFwcGVuZChkYXRlQ29udGFpbmVyLnBhc3RlQnV0dG9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkVG9XZWVrU3VtKGRhdGVDb250YWluZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRlQ29udGFpbmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHByaXZhdGUgZ2V0RW50cnlDb250YWluZXIoZGF0YTogeyBzaGVldDogVGltZWxvZ1NoZWV0LCBkYXRlOiBUaW1lbG9nRGF0ZSB9LCBkYXRlQ29udGFpbmVyOiBUaW1lbG9nVUlEYXRlQ29udGFpbmVyLCBlbnRyeTogVGltZWxvZ0VudHJ5KVxyXG4gICAge1xyXG4gICAgICAgIGxldCBlbnRyeUNvbnRhaW5lciA9IGRhdGVDb250YWluZXIuZW50cmllcy5maW5kKHAgPT4gcC5lbnRyeSA9PT0gZW50cnkpO1xyXG4gICAgICAgIGlmICghZW50cnlDb250YWluZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lciA9IHtcclxuICAgICAgICAgICAgICAgIGVudHJ5LFxyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRIb3VyOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksXHJcbiAgICAgICAgICAgICAgICBlbmRIb3VyOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksXHJcbiAgICAgICAgICAgICAgICBsZW5ndGg6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxcclxuICAgICAgICAgICAgICAgIHJlYXNvbjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSxcclxuICAgICAgICAgICAgICAgIGNvbW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRCdXR0b246IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksXHJcbiAgICAgICAgICAgICAgICBub1JlYXNvbldhcm5pbmc6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5lbnRyaWVzLnB1c2goZW50cnlDb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIucGFyZW50LmNsYXNzTmFtZSA9IFwidGwtZW50cnlcIjtcclxuICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5wYXJlbnQuYXBwZW5kQ2hpbGQoZW50cnlDb250YWluZXIucGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnN0YXJ0SG91ci50eXBlID0gXCJ0aW1lXCI7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnN0YXJ0SG91ci5jbGFzc05hbWUgPSBcInRsLWVudHJ5LXN0YXJ0XCI7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnNoZWV0LmxvY2tlZCkgZW50cnlDb250YWluZXIuc3RhcnRIb3VyLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIuc3RhcnRIb3VyLm9uY2hhbmdlID0gKCkgPT4gXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IGVudHJ5LnN0YXJ0SG91ciArIGVudHJ5Lmxlbmd0aEhvdXJzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbD8uY2hhbmdlU3RhcnRIb3VyKGRhdGEuZGF0ZSwgZGF0YS5kYXRlLmVudHJpZXMuaW5kZXhPZihlbnRyeSksIERhdGVzLnBhcnNlVGltZVRvaG91cnMoZW50cnlDb250YWluZXI/LnN0YXJ0SG91ci52YWx1ZSA/PyBcIjA4OjAwXCIpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE51bWJlcnMucm91bmQoZW5kIC0gZW50cnkuc3RhcnRIb3VyLCAyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWw/LmNoYW5nZUxlbmd0aEhvdXJzKGRhdGEuZGF0ZSwgZGF0YS5kYXRlLmVudHJpZXMuaW5kZXhPZihlbnRyeSksIGxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIucGFyZW50LmFwcGVuZENoaWxkKGVudHJ5Q29udGFpbmVyLnN0YXJ0SG91cik7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBlbmRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgICBlbmRMYWJlbC5jbGFzc05hbWUgPSBcInRsLWVuZC1sYWJlbFwiXHJcbiAgICAgICAgICAgIGVuZExhYmVsLmlubmVyVGV4dCA9IFwiLVwiO1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5wYXJlbnQuYXBwZW5kQ2hpbGQoZW5kTGFiZWwpO1xyXG5cclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIuZW5kSG91ci50eXBlID0gXCJ0aW1lXCI7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmVuZEhvdXIuY2xhc3NOYW1lID0gXCJ0bC1lbnRyeS1lbmRcIjtcclxuICAgICAgICAgICAgaWYgKGRhdGEuc2hlZXQubG9ja2VkKSBlbnRyeUNvbnRhaW5lci5lbmRIb3VyLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIuZW5kSG91ci5vbmNoYW5nZSA9ICgpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbnRyeUNvbnRhaW5lcj8uZW5kSG91cilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBOdW1iZXJzLnJvdW5kKERhdGVzLnBhcnNlVGltZVRvaG91cnMoZW50cnlDb250YWluZXIuZW5kSG91ci52YWx1ZSkgLSBlbnRyeS5zdGFydEhvdXIsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWw/LmNoYW5nZUxlbmd0aEhvdXJzKGRhdGEuZGF0ZSwgZGF0YS5kYXRlLmVudHJpZXMuaW5kZXhPZihlbnRyeSksIGxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIucGFyZW50LmFwcGVuZENoaWxkKGVudHJ5Q29udGFpbmVyLmVuZEhvdXIpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnJlYXNvbi5vbmNoYW5nZSA9ICgpID0+IHRoaXMubW9kZWw/LmNoYW5nZVJlYXNvbihkYXRhLmRhdGUsIGRhdGEuZGF0ZS5lbnRyaWVzLmluZGV4T2YoZW50cnkpLCBlbnRyeUNvbnRhaW5lcj8ucmVhc29uLnZhbHVlID8/IFwiXCIpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5zaGVldC5sb2NrZWQpIGVudHJ5Q29udGFpbmVyLnJlYXNvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnJlYXNvbi5jbGFzc05hbWUgPSBcInRsLWVudHJ5LXJlYXNvblwiO1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5wYXJlbnQuYXBwZW5kQ2hpbGQoZW50cnlDb250YWluZXIucmVhc29uKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZWFzb25zRHJvcGRvd24oZW50cnlDb250YWluZXIucmVhc29uKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRlQ29udGFpbmVyLmVudHJpZXMubGVuZ3RoID09PSAxKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnN1bUhvdXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnN1bUhvdXJzLmNsYXNzTmFtZSA9IFwidGwtc3VtLWhvdXJzXCI7XHJcbiAgICAgICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5wYXJlbnQuYXBwZW5kKGRhdGVDb250YWluZXIuc3VtSG91cnMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5sZW5ndGgudHlwZSA9IFwibnVtYmVyXCI7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmxlbmd0aC5jbGFzc05hbWUgPSBcInRsLWVudHJ5LWxlbmd0aFwiO1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5sZW5ndGguc3RlcCA9IFwiMC4wMVwiO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5zaGVldC5sb2NrZWQpIGVudHJ5Q29udGFpbmVyLmxlbmd0aC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmxlbmd0aC5vbmNoYW5nZSA9ICgpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWw/LmNoYW5nZUxlbmd0aEhvdXJzKGRhdGEuZGF0ZSwgZGF0YS5kYXRlLmVudHJpZXMuaW5kZXhPZihlbnRyeSksIHBhcnNlRmxvYXQoZW50cnlDb250YWluZXI/Lmxlbmd0aC52YWx1ZSB8fCBcIjBcIikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnBhcmVudC5hcHBlbmRDaGlsZChlbnRyeUNvbnRhaW5lci5sZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb25MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgICBkdXJhdGlvbkxhYmVsLmNsYXNzTmFtZSA9IFwidGwtZHVyYXRpb24tbGFiZWxcIjtcclxuICAgICAgICAgICAgZHVyYXRpb25MYWJlbC5pbm5lclRleHQgPSBcImhvdXIocylcIjtcclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIucGFyZW50LmFwcGVuZENoaWxkKGR1cmF0aW9uTGFiZWwpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFkYXRhLnNoZWV0LmxvY2tlZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZW50cnlDb250YWluZXIuY29tbWVudEJ1dHRvbi5jbGFzc05hbWUgPSBcInRsLWFkZC1jb21tZW50LWJ0biB0bC1zaG93LW9uLWhvdmVyXCI7XHJcbiAgICAgICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5jb21tZW50QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLm1vZGVsPy50b2dnbGVDb21tZW50KGRhdGEuZGF0ZSwgZGF0YS5kYXRlLmVudHJpZXMuaW5kZXhPZihlbnRyeSkpO1xyXG4gICAgICAgICAgICAgICAgZW50cnlDb250YWluZXIucGFyZW50LmFwcGVuZENoaWxkKGVudHJ5Q29udGFpbmVyLmNvbW1lbnRCdXR0b24pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgICAgICAgICByZW1vdmUuYXBwZW5kQ2hpbGQoTWF0ZXJpYWxJY29uLmdldChcImRlbGV0ZVwiKSk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmUuY2xhc3NOYW1lID0gXCJ0bC1yZW1vdmUtZW50cnktYnRuIHRsLXNob3ctb24taG92ZXJcIjtcclxuICAgICAgICAgICAgICAgIHJlbW92ZS5vbmNsaWNrID0gKCkgPT4gdGhpcy5tb2RlbD8uZGVsZXRlRW50cnkoZGF0YS5kYXRlLCBkYXRhLmRhdGUuZW50cmllcy5pbmRleE9mKGVudHJ5KSk7XHJcbiAgICAgICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5wYXJlbnQuYXBwZW5kQ2hpbGQocmVtb3ZlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIubm9SZWFzb25XYXJuaW5nLmFwcGVuZChNYXRlcmlhbEljb24uZ2V0KFwid2FybmluZ1wiLCB0cnVlKSk7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLm5vUmVhc29uV2FybmluZy5hcHBlbmQoXCIgTm8gcmVhc29uIHNlbGVjdGVkIVwiKTtcclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIubm9SZWFzb25XYXJuaW5nLmNsYXNzTmFtZSA9IFwidGwtbm8tcmVhc29uLXdhcm5pbmcgdGwtd2FybmluZyB0bC1oYXMtcmVhc29uXCI7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnBhcmVudC5hcHBlbmRDaGlsZChlbnRyeUNvbnRhaW5lci5ub1JlYXNvbldhcm5pbmcpO1xyXG5cclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIuY29tbWVudC50eXBlID0gXCJ0ZXh0XCI7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmNvbW1lbnQucGxhY2Vob2xkZXIgPSBcIldyaXRlIGEgbm90ZS4uLlwiO1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5jb21tZW50LnRpdGxlID0gXCJXcml0ZSBhIG5vdGUuLi5cIjtcclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIuY29tbWVudC5jbGFzc05hbWUgPSBcInRsLWVudHJ5LWNvbW1lbnRcIjtcclxuICAgICAgICAgICAgaWYgKGRhdGEuc2hlZXQubG9ja2VkKSBlbnRyeUNvbnRhaW5lci5jb21tZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIuY29tbWVudC5vbmNoYW5nZSA9ICgpID0+IFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsPy5jaGFuZ2VDb21tZW50KGRhdGEuZGF0ZSwgZGF0YS5kYXRlLmVudHJpZXMuaW5kZXhPZihlbnRyeSksIGVudHJ5Q29udGFpbmVyPy5jb21tZW50LnZhbHVlID8/IFwiXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnBhcmVudC5hcHBlbmRDaGlsZChlbnRyeUNvbnRhaW5lci5jb21tZW50KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbnRyeUNvbnRhaW5lcjtcclxuICAgIH1cclxuICAgIHByaXZhdGUgYWRkVG9XZWVrU3VtKGRhdGU6IFRpbWVsb2dVSURhdGVDb250YWluZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMud2Vla1N1bXMubGVuZ3RoIDwgMSB8fCBuZXcgRGF0ZShkYXRlLmRhdGUuZGF0ZSkuZ2V0RGF5KCkgPT09IDApIC8vSWYgdGhpcyBpcyB0aGUgZmlyc3QgZGF5LCBvciBhIHN1bmRheSwgY3JlYXRlIGEgbmV3IHdlZWsgZm9yIGl0LlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3Qgd2Vla1N1bSA9IHtcclxuICAgICAgICAgICAgICAgIGRhdGVzOiBbZGF0ZV0sXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHdlZWtTdW0uZWxlbWVudC5jbGFzc05hbWUgPSBcInRsLXdlZWstc3VtXCI7XHJcbiAgICAgICAgICAgIHRoaXMud2Vla1N1bXMucHVzaCh3ZWVrU3VtKTtcclxuICAgICAgICAgICAgZGF0ZS5wYXJlbnQuYXBwZW5kQ2hpbGQod2Vla1N1bS5lbGVtZW50KTtcclxuICAgICAgICAgICAgZGF0ZS5wYXJlbnQuc3R5bGUubWFyZ2luVG9wID0gXCIzOHB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMud2Vla1N1bXNbdGhpcy53ZWVrU3Vtcy5sZW5ndGggLSAxXS5kYXRlcy5wdXNoKGRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgb25EYXRlVXBkYXRlZChkYXRhOiB7IHNoZWV0OiBUaW1lbG9nU2hlZXQsIGRhdGU6IFRpbWVsb2dEYXRlIH0pXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRTaGVldCA9PT0gZGF0YS5zaGVldCAmJiB0aGlzLnNoZWV0Q29udGFpbmVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGRhdGVDb250YWluZXIgPSB0aGlzLmdldERhdGVDb250YWluZXIoZGF0YSk7XHJcbiAgICAgICAgICAgIGlmIChkYXRlQ29udGFpbmVyKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGRhdGEuZGF0ZS5lbnRyaWVzKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbnRyeUNvbnRhaW5lciA9IHRoaXMuZ2V0RW50cnlDb250YWluZXIoZGF0YSwgZGF0ZUNvbnRhaW5lciwgZW50cnkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5zdGFydEhvdXIudmFsdWUgPSBEYXRlcy5mb3JtYXRIb3VyKGVudHJ5LnN0YXJ0SG91cik7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50cnlDb250YWluZXIubGVuZ3RoLnZhbHVlID0gZW50cnkubGVuZ3RoSG91cnMudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5lbmRIb3VyLnZhbHVlID0gRGF0ZXMuZm9ybWF0SG91cihlbnRyeS5zdGFydEhvdXIgKyBlbnRyeS5sZW5ndGhIb3Vycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50cnlDb250YWluZXIucmVhc29uLnZhbHVlID0gZW50cnkucmVhc29uSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50cnlDb250YWluZXIuY29tbWVudC52YWx1ZSA9IGVudHJ5LmNvbW1lbnQgPz8gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEhZW50cnkucmVhc29uSWQpIGVudHJ5Q29udGFpbmVyLm5vUmVhc29uV2FybmluZy5jbGFzc0xpc3QuYWRkKFwidGwtaGFzLXJlYXNvblwiKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGVudHJ5Q29udGFpbmVyLm5vUmVhc29uV2FybmluZy5jbGFzc0xpc3QucmVtb3ZlKFwidGwtaGFzLXJlYXNvblwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZW50cnlDb250YWluZXIuY29tbWVudEJ1dHRvbi50aXRsZSA9IGVudHJ5Lmhhc0NvbW1lbnQgPyBcIlJlbW92ZSBub3RlXCIgOiBcIkFkZCBub3RlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50cnlDb250YWluZXIuY29tbWVudEJ1dHRvbi5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmNvbW1lbnRCdXR0b24uYXBwZW5kQ2hpbGQoTWF0ZXJpYWxJY29uLmdldChlbnRyeS5oYXNDb21tZW50ID8gXCJzcGVha2VyX25vdGVzX29mZlwiIDogXCJzcGVha2VyX25vdGVzXCIpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5Lmhhc0NvbW1lbnQpIGVudHJ5Q29udGFpbmVyLnBhcmVudC5jbGFzc0xpc3QuYWRkKFwidGwtaGFzLWNvbW1lbnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBlbnRyeUNvbnRhaW5lci5wYXJlbnQuY2xhc3NMaXN0LnJlbW92ZShcInRsLWhhcy1jb21tZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlZEVudHJpZXMgPSBkYXRlQ29udGFpbmVyLmVudHJpZXMuZmlsdGVyKGVudHJ5ID0+ICFkYXRhLmRhdGUuZW50cmllcy5maW5kKGUgPT4gZSA9PT0gZW50cnkuZW50cnkpKTtcclxuICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIuZW50cmllcyA9IGRhdGVDb250YWluZXIuZW50cmllcy5maWx0ZXIoZW50cnkgPT4gIXJlbW92ZWRFbnRyaWVzLmluY2x1ZGVzKGVudHJ5KSk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVkRW50cmllcy5mb3JFYWNoKGUgPT4gZS5wYXJlbnQucmVtb3ZlKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRlQ29udGFpbmVyLnN1bUhvdXJzKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1bSA9IE51bWJlcnMuc3VtKGRhdGEuZGF0ZS5lbnRyaWVzLm1hcChlID0+IGUubGVuZ3RoSG91cnMpKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnN1bUhvdXJzLmlubmVyVGV4dCA9IGAke051bWJlcnMucm91bmQoc3VtLCAyKX0gaG91ciR7c3VtID09PSAxID8gXCJcIiA6IFwic1wifWA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5zdGFyQnV0dG9uLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnN0YXJCdXR0b24uZGlzYWJsZWQgPSBkYXRhLmRhdGUuZmF2b3JpdGVkO1xyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5zdGFyQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJ0bC1mYXZvcml0ZVwiKTtcclxuICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIuc3RhckJ1dHRvbi5hcHBlbmRDaGlsZChNYXRlcmlhbEljb24uZ2V0KFwic3RhclwiLCBkYXRhLmRhdGUuZmF2b3JpdGVkKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRlLmZhdm9yaXRlZCkgZGF0ZUNvbnRhaW5lci5zdGFyQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJ0bC1mYXZvcml0ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZUNvbnRhaW5lci5lbnRyaWVzLmxlbmd0aCA+IDAgfHwgZGF0ZUNvbnRhaW5lci5kYXRlLmZhdm9yaXRlZClcclxuICAgICAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnBhc3RlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJ0bC1oaWRlLWZhdm9yaXRlLWJ1dHRvblwiKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnBhc3RlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJ0bC1oaWRlLWZhdm9yaXRlLWJ1dHRvblwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnRpdGxlLnRpdGxlID0gZGF0YS5kYXRlLmRhdGVEZXNjcmlwdGlvbiA/PyBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGUubm9uV29ya2luZ0RheSAmJiBkYXRhLmRhdGUuZW50cmllcy5sZW5ndGggPCAxKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIud2Vla2VuZERlc2NyaXB0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJ0bC13ZWVrZW5kLWRlc2NyaXB0aW9uLWhpZGRlblwiKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLndlZWtlbmREZXNjcmlwdGlvbi5pbm5lclRleHQgPSBkYXRhLmRhdGUuZGF0ZURlc2NyaXB0aW9uID8/IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci53ZWVrZW5kRGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcInRsLXdlZWtlbmQtZGVzY3JpcHRpb24taGlkZGVuXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB3ZWVrU3VtID0gdGhpcy53ZWVrU3Vtcy5maW5kKHcgPT4gdy5kYXRlcy5zb21lKGQgPT4gZC5kYXRlID09PSBkYXRhLmRhdGUpKTtcclxuICAgICAgICAgICAgaWYgKHdlZWtTdW0pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN1bSA9IE51bWJlcnMuc3VtKHdlZWtTdW0uZGF0ZXMubWFwKGQgPT4gTnVtYmVycy5zdW0oZC5lbnRyaWVzLm1hcChlID0+IGUuZW50cnkubGVuZ3RoSG91cnMpKSkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWxIb3VycyA9IE51bWJlcnMuc3VtKHdlZWtTdW0uZGF0ZXMubWFwKGQgPT4gZC5kYXRlLmhvdXJzVG9Xb3JrKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3ZWVrTnVtYmVyID0gRGF0ZXMuZ2V0V2Vla051bWJlckZyb21EYXRlKHdlZWtTdW0uZGF0ZXNbMF0uZGF0ZS5kYXRlKTtcclxuICAgICAgICAgICAgICAgIHdlZWtTdW0uZWxlbWVudC5pbm5lckhUTUwgPSBgPGI+V2VlayAke3dlZWtOdW1iZXJ9PC9iPjogJHtOdW1iZXJzLnJvdW5kKHN1bSwgMil9IC8gJHtOdW1iZXJzLnJvdW5kKHRvdGFsSG91cnMsIDIpfSBob3Vyc2A7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGVCYWxhbmNlKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHVwZGF0ZVJlYXNvbnNEcm9wZG93bihzZWxlY3Q6IEhUTUxTZWxlY3RFbGVtZW50KVxyXG4gICAge1xyXG4gICAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIGZvciAoY29uc3QgcmVhc29uIG9mIHRoaXMucmVhc29ucylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IHJlYXNvbi5zZXJ2ZXJJZDtcclxuICAgICAgICAgICAgb3B0aW9uLmlubmVyVGV4dCA9IHJlYXNvbi52YWx1ZTtcclxuICAgICAgICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvblJlYXNvbnNVcGRhdGVkKHJlYXNvbnM6IEhpQm9iUmVhc29uW10pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5yZWFzb25zID0gcmVhc29ucztcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBkYXRlIG9mIHRoaXMuc2hlZXREYXRlcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZGF0ZS5lbnRyaWVzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJlYXNvbnNEcm9wZG93bihlbnRyeS5yZWFzb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvblNhdmVTdGF0dXNVcGRhdGVkKHN0YXR1czogVGltZWxvZ1NhdmVTdGF0dXMpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNhdmVTdGF0dXMpIHJldHVybjtcclxuICAgICAgICB0aGlzLnNhdmVTdGF0dXMuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICB0aGlzLnNhdmVTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZShcInRsLXN1Y2Nlc3NcIik7XHJcbiAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoXCJ0bC13YXJuaW5nXCIpO1xyXG4gICAgICAgIHRoaXMuc2F2ZVN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKFwidGwtY2xpY2thYmxlXCIpO1xyXG4gICAgICAgIGlmIChzdGF0dXMgPT09IFRpbWVsb2dTYXZlU3RhdHVzLlNhdmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmFwcGVuZENoaWxkKE1hdGVyaWFsSWNvbi5nZXQoXCJjbG91ZF9kb25lXCIsIHRydWUpKTtcclxuICAgICAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmFwcGVuZChcIiBTYXZlZFwiKTtcclxuICAgICAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmNsYXNzTGlzdC5hZGQoXCJ0bC1zdWNjZXNzXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhdHVzID09PSBUaW1lbG9nU2F2ZVN0YXR1cy5XYWl0aW5nKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmFwcGVuZENoaWxkKE1hdGVyaWFsSWNvbi5nZXQoXCJwZW5kaW5nXCIpKTtcclxuICAgICAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmFwcGVuZChcIiBQZW5kaW5nLi4uXCIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdGF0dXMgPT09IFRpbWVsb2dTYXZlU3RhdHVzLlNhdmluZylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXR1cy5hcHBlbmRDaGlsZChNYXRlcmlhbEljb24uZ2V0KFwiY2xvdWRfdXBsb2FkXCIpKTtcclxuICAgICAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmFwcGVuZChcIiBTYXZpbmcuLi5cIilcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gVGltZWxvZ1NhdmVTdGF0dXMuRXJyb3IpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVTdGF0dXMuYXBwZW5kQ2hpbGQoTWF0ZXJpYWxJY29uLmdldChcImNsb3VkX29mZlwiKSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXR1cy5hcHBlbmQoXCIgRmFpbGVkIVwiKTtcclxuICAgICAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmNsYXNzTGlzdC5hZGQoXCJ0bC13YXJuaW5nXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVTdGF0dXMuY2xhc3NMaXN0LmFkZChcInRsLWNsaWNrYWJsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG9uU2F2ZVN0YXR1c0NsaWNrKClcclxuICAgIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2F2ZVN0YXR1cz8uY2xhc3NMaXN0LmNvbnRhaW5zKFwidGwtY2xpY2thYmxlXCIpKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5tb2RlbD8uc2F2ZSgpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvblNoZWV0VXBkYXRlZChzaGVldDogVGltZWxvZ1NoZWV0KVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLnNoZWV0RHJvcGRvd24gJiYgIXRoaXMuc2hlZXREcm9wZG93bk9wdGlvbnMuZmluZChzID0+IHMuc2hlZXQgPT09IHNoZWV0KSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IHNoZWV0LmlkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIG9wdGlvbi5pbm5lclRleHQgPSBgJHtuZXcgRGF0ZShzaGVldC5zdGFydCkudG9EYXRlU3RyaW5nKCl9IC0gJHtuZXcgRGF0ZShzaGVldC5lbmQpLnRvRGF0ZVN0cmluZygpfSR7c2hlZXQubG9ja2VkID8gXCIgKGxvY2tlZClcIiA6IFwiXCJ9YDtcclxuICAgICAgICAgICAgdGhpcy5zaGVldERyb3Bkb3duT3B0aW9ucy5wdXNoKHsgc2hlZXQ6IHNoZWV0LCBlbGVtZW50OiBvcHRpb24gfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hlZXREcm9wZG93bi5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFNoZWV0ID09PSBzaGVldClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNoZWV0Q29udGFpbmVyKSB0aGlzLnNoZWV0Q29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuc2hlZXREYXRlcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLndlZWtTdW1zID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3QgZGF0ZSBvZiBzaGVldC5kYXRlcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMub25EYXRlVXBkYXRlZCh7IHNoZWV0LCBkYXRlIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVwZGF0ZUJhbGFuY2UoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgb25TaGVldHNVcGRhdGVkKHNoZWV0czogVGltZWxvZ1NoZWV0W10pXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hlZXREcm9wZG93bikgdGhpcy5zaGVldERyb3Bkb3duLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5zaGVldERyb3Bkb3duT3B0aW9ucyA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3Qgc2hlZXQgb2Ygc2hlZXRzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5vblNoZWV0VXBkYXRlZChzaGVldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub25TZWxlY3RlZFNoZWV0Q2hhbmdlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvblNlbGVjdGVkU2hlZXRDaGFuZ2UoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghdGhpcy5zaGVldERyb3Bkb3duKSByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMuc2hlZXRDb250YWluZXIpIHRoaXMuc2hlZXRDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICB0aGlzLnNoZWV0RGF0ZXMgPSBbXTtcclxuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLnNoZWV0RHJvcGRvd24udmFsdWU7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFNoZWV0ID0gdGhpcy5zaGVldERyb3Bkb3duT3B0aW9ucy5maW5kKG8gPT4gby5lbGVtZW50LnZhbHVlID09PSB2YWwpPy5zaGVldDtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFNoZWV0ICYmIHRoaXMubW9kZWwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmZldGNoU2hlZXQodGhpcy5zZWxlY3RlZFNoZWV0LmlkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyB1cGRhdGVCYWxhbmNlKClcclxuICAgIHtcclxuICAgICAgICBpZiAoIXRoaXMubW9kZWwgfHwgIXRoaXMuYmFsYW5jZUxhYmVsIHx8ICF0aGlzLnNlbGVjdGVkU2hlZXQpIHJldHVybjtcclxuICAgICAgICBjb25zdCBiYWxhbmNlID0gYXdhaXQgdGhpcy5tb2RlbC5nZXRGbGV4U3RhdHVzKCk7XHJcbiAgICAgICAgY29uc3QgdG90YWxCYWxhbmNlID0gTnVtYmVycy5yb3VuZChiYWxhbmNlLmJhbGFuY2UsIDIpO1xyXG4gICAgICAgIHRoaXMuYmFsYW5jZUxhYmVsLmlubmVyVGV4dCA9IGBGbGV4OiAke3RvdGFsQmFsYW5jZX0gaG91ciR7dG90YWxCYWxhbmNlICE9IDEgPyBcInNcIiA6IFwiXCJ9JHt0b3RhbEJhbGFuY2UgPT09IDAgPyBcIiDwn6WzXCIgOiBcIlwifWA7XHJcblxyXG4gICAgICAgIHRoaXMuYmFsYW5jZVdhcm5pbmc/LmNsYXNzTGlzdC5hZGQoXCJ0bC1oaWRkZW5cIik7XHJcbiAgICAgICAgaWYgKGJhbGFuY2Uub3ZlcmR1ZURhdGVzLmxlbmd0aCArIGJhbGFuY2Uud2FybmluZ0RhdGVzLmxlbmd0aCA+IDAgJiYgdGhpcy5iYWxhbmNlV2FybmluZylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvbGljeSA9IHRoaXMubW9kZWwuZ2V0RmxleFBvbGljeSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJhbGFuY2VXYXJuaW5nLmNsYXNzTGlzdC5yZW1vdmUoXCJ0bC1oaWRkZW5cIik7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsYW5jZVdhcm5pbmcuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5iYWxhbmNlV2FybmluZy5hcHBlbmQoTWF0ZXJpYWxJY29uLmdldChcIndhcm5pbmdcIiwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICBpZiAoYmFsYW5jZS5vdmVyZHVlRGF0ZXMubGVuZ3RoID4gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxhbmNlV2FybmluZy5hcHBlbmQoYFlvdSBoYXZlICR7YmFsYW5jZS5vdmVyZHVlRGF0ZXMubGVuZ3RofSB1bmJhbGFuY2VkIGZsZXggZGF0ZSR7YmFsYW5jZS5vdmVyZHVlRGF0ZXMubGVuZ3RoID09PSAxID8gXCJcIiA6IFwic1wifSBvbGRlciB0aGFuICR7cG9saWN5LnByZXZpb3VzRGF5c0luY2x1ZGVkfSBkYXlzIWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxhbmNlV2FybmluZy50aXRsZSArPSBgT3ZlcmR1ZSBkYXRlczogJHtiYWxhbmNlLm92ZXJkdWVEYXRlcy5tYXAoZCA9PiBEYXRlcy5mb3JtYXQoZC5kYXRlLCBmYWxzZSkpLmpvaW4oXCIsIFwiKX1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGJhbGFuY2Uud2FybmluZ0RhdGVzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsYW5jZVdhcm5pbmcuYXBwZW5kKGAke2JhbGFuY2Uud2FybmluZ0RhdGVzLmxlbmd0aH0gdW5iYWxhbmNlZCBmbGV4IGRhdGUke2JhbGFuY2Uud2FybmluZ0RhdGVzLmxlbmd0aCA9PT0gMSA/IFwiXCIgOiBcInNcIn0gd2lsbCBzb29uIGJlIG9sZGVyIHRoYW4gJHtwb2xpY3kucHJldmlvdXNEYXlzSW5jbHVkZWR9IGRheXMhYCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJhbGFuY2VXYXJuaW5nLnRpdGxlID0gXCJcIjtcclxuICAgICAgICAgICAgaWYgKGJhbGFuY2Uub3ZlcmR1ZURhdGVzLmxlbmd0aCA+IDApIHRoaXMuYmFsYW5jZVdhcm5pbmcudGl0bGUgKz0gYE92ZXJkdWUgZGF0ZXM6ICR7YmFsYW5jZS5vdmVyZHVlRGF0ZXMubWFwKGQgPT4gRGF0ZXMuZm9ybWF0KGQuZGF0ZSwgZmFsc2UpKS5qb2luKFwiLCBcIil9YDtcclxuICAgICAgICAgICAgaWYgKGJhbGFuY2Uud2FybmluZ0RhdGVzLmxlbmd0aCA+IDApIHRoaXMuYmFsYW5jZVdhcm5pbmcudGl0bGUgKz0gYCR7dGhpcy5iYWxhbmNlV2FybmluZy50aXRsZS5sZW5ndGggPiAwID8gXCJcXG5cIiA6IFwiXCJ9U29vbiBvdmVyZHVlIGRhdGVzOiAke2JhbGFuY2Uud2FybmluZ0RhdGVzLm1hcChkID0+IERhdGVzLmZvcm1hdChkLmRhdGUsIGZhbHNlKSkuam9pbihcIiwgXCIpfWA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJhbGFuY2VXYXJuaW5nLmFwcGVuZChcIiBcIik7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsYW5jZVdhcm5pbmcuYXBwZW5kKE1hdGVyaWFsSWNvbi5nZXQoXCJpbmZvXCIsIGZhbHNlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmYXZvcml0ZSA9IGF3YWl0IHRoaXMubW9kZWwuZ2V0RmF2b3JpdGVkRGF0ZSgpO1xyXG4gICAgICAgIGlmIChmYXZvcml0ZSkgdGhpcy5zaGVldENvbnRhaW5lcj8uY2xhc3NMaXN0LmFkZChcInRsLWhhcy1mYXZvcml0ZVwiKTtcclxuICAgICAgICBlbHNlIHRoaXMuc2hlZXRDb250YWluZXI/LmNsYXNzTGlzdC5yZW1vdmUoXCJ0bC1oYXMtZmF2b3JpdGVcIik7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGNvbnN0IFRpbWVsb2dDc3MgPSBgXHJcbi50bC10b2dnbGUtYnRuXHJcbntcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICBmb250LXNpemU6IDJlbTtcclxufVxyXG4udGwtY2xvc2UtYnRuXHJcbntcclxuICAgIGZvbnQtc2l6ZTogMmVtO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgcmlnaHQ6IDVweDtcclxufVxyXG4udGwtdWlcclxue1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgei1pbmRleDogMTAwMDtcclxuICAgIGluc2V0OiAwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbn0gICAgICAgIFxyXG4udGwtZGF0ZVxyXG57XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGdyYXk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuLnRsLXNhdmUtc3RhdHVzLCAudGwtYWRkLWVudHJ5LWJ0blxyXG57XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxufVxyXG4udGwtZW50cnlcclxue1xyXG4gICAgbWFyZ2luLXRvcDogNXB4O1xyXG59XHJcbi50bC1lbnRyeSA+ICpcclxue1xyXG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcclxufVxyXG4udGwtZW50cnkgPiBpbnB1dFt0eXBlPW51bWJlcl1cclxue1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbn1cclxuLnRsLWVudHJ5ID4gaW5wdXRbdHlwZT10aW1lXVxyXG57XHJcbiAgICB3aWR0aDogNzVweDtcclxufVxyXG4udGwtc2F2ZS1zdGF0dXNcclxue1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuLnRsLXNoZWV0LXNlbGVjdFxyXG57XHJcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xyXG59XHJcbi50bC1kYXRlLWxhYmVsXHJcbntcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcbi50bC1kYXRlLWxhYmVsLnRsLWRhdGUtbGFiZWwtd2Vla2VuZFxyXG57XHJcbiAgICBmb250LXdlaWdodDogaW5pdGlhbDtcclxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICAgIGNvbG9yOiBncmF5O1xyXG59XHJcbi50bC1lbnRyeS1yZWFzb24gXHJcbntcclxuICAgIHBhZGRpbmc6IDNweDtcclxufVxyXG4udGwtcmVtb3ZlLWVudHJ5LWJ0blxyXG57XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbn1cclxuLnRsLXdlZWstc2VwZXJhdG9yXHJcbntcclxuICAgIG1hcmdpbi10b3A6IDU3cHg7XHJcbn1cclxuLnRsLWJhbGFuY2UtbGFiZWxcclxue1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuLnRsLWJhbGFuY2UtaGVscFxyXG57XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBjdXJzb3I6IGhlbHA7XHJcbn1cclxuXHJcbi50bC11aS1pbm5lclxyXG57XHJcbiAgICBkaXNwbGF5OiB0YWJsZTtcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG59XHJcbi50bC11aS1pbm5lciwgLnRsLXdlZWstc2VwZXJhdG9yLCAudGwtZGF0ZVxyXG57XHJcbiAgICBtaW4td2lkdGg6IDY1MHB4O1xyXG59XHJcbi50bC1lbnRyeS1jb21tZW50IHtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuLnRsLWhhcy1jb21tZW50IC50bC1lbnRyeS1jb21tZW50XHJcbntcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcbi50bC1zdWNjZXNzXHJcbntcclxuICAgIGNvbG9yOiAjMDJCODc1O1xyXG59XHJcbi50bC13YXJuaW5nXHJcbntcclxuICAgIGNvbG9yOiAjRjBBRjUyO1xyXG59XHJcbi50bC1kYW5nZXJcclxue1xyXG4gICAgY29sb3I6ICNEQTU2NTI7XHJcbn1cclxuLnRsLXN1bS1ob3Vyc1xyXG57XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBtYXJnaW4tdG9wOiAtMjNweDtcclxufVxyXG4udGwtd2Vlay1zdW1cclxue1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbWFyZ2luLXRvcDogLTU3cHg7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxufVxyXG4udGwtdWkgYnV0dG9uLnRsLXN0YXItYnV0dG9uLCAudGwtdWkudGwtZGFyayBidXR0b24udGwtc3Rhci1idXR0b25cclxue1xyXG4gICAgYmFja2dyb3VuZDogbm9uZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuLnRsLXVpIGJ1dHRvbi50bC1zdGFyLWJ1dHRvbi50bC1mYXZvcml0ZSwgLnRsLXVpLnRsLWRhcmsgYnV0dG9uLnRsLXN0YXItYnV0dG9uLnRsLWZhdm9yaXRlXHJcbntcclxuICAgIGNvbG9yOiAjZjFhMDBiO1xyXG4gICAgb3BhY2l0eTogMTtcclxufVxyXG4udGwtcGFzdGUtYnRuIHtcclxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcbi50bC1oYXMtZmF2b3JpdGUgLnRsLXBhc3RlLWJ0bjpub3QoLnRsLWhpZGUtZmF2b3JpdGUtYnV0dG9uKVxyXG57XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuLnRsLXNob3ctb24taG92ZXJcclxue1xyXG4gICAgb3BhY2l0eTogMDtcclxufVxyXG4udGwtZGF0ZTpob3ZlciAudGwtc2hvdy1vbi1ob3ZlclxyXG57XHJcbiAgICBvcGFjaXR5OiAxO1xyXG59XHJcbi50bC1uby1yZWFzb24td2FybmluZyB7XHJcbiAgICBtYXJnaW4tbGVmdDogMTgwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBtYXJnaW4tdG9wOiAtMjJweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG59XHJcbi50bC1uby1yZWFzb24td2FybmluZy50bC1oYXMtcmVhc29uXHJcbntcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuLnRsLWNsaWNrYWJsZVxyXG57XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuLnRsLWRhcmstbW9kZS1idG4ge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgYm90dG9tOiA1cHg7XHJcbiAgICByaWdodDogMjBweDtcclxufVxyXG4udGwtdWkgYnV0dG9uXHJcbntcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkOWQ5ZDk7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59XHJcbi50bC11aSBidXR0b246aG92ZXJcclxue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VmZWJlYjtcclxufVxyXG5cclxuLnRsLXVpLnRsLWRhcmtcclxue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFFMUUxRTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG4udGwtdWkudGwtZGFyayBzZWxlY3QsIC50bC11aS50bC1kYXJrIGlucHV0IHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMyNTI1MjY7XHJcbiAgICBib3JkZXI6IDFweCBncmF5IHNvbGlkO1xyXG4gICAgY29sb3Itc2NoZW1lOiBkYXJrO1xyXG59XHJcbi50bC11aS50bC1kYXJrIGJ1dHRvblxyXG57XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzI4MjgyODtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG4udGwtdWkudGwtZGFyayBidXR0b246aG92ZXJcclxue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzUyNTI1MjtcclxufVxyXG4udGwtdWkudGwtZGFyayAudGwtbm8tcmVhc29uLXdhcm5pbmdcclxue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI1MjUyNjtcclxufVxyXG4udGwtd2Vla2VuZC1kZXNjcmlwdGlvbiB7XHJcbiAgICBjb2xvcjogZ3JheTtcclxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICAgIGZsb2F0OiByaWdodDtcclxuICAgIG1hcmdpbi10b3A6IDJweDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIG1heC13aWR0aDogNDAwcHg7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgbWF4LWhlaWdodDogMzVweDtcclxufVxyXG4udGwtd2Vla2VuZC1kZXNjcmlwdGlvbi50bC13ZWVrZW5kLWRlc2NyaXB0aW9uLWhpZGRlblxyXG57XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcbi50bC12ZXJzaW9uLW51bWJlciB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBib3R0b206IDVweDtcclxuICAgIGxlZnQ6IDVweDtcclxufVxyXG5cclxuLnRsLXNldHRpbmdzIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGluc2V0OiAwO1xyXG4gICAgei1pbmRleDogMTAwO1xyXG59XHJcbi50bC1zZXR0aW5ncy1iYWNrIHtcclxuICAgIGluc2V0OiAwO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBvcGFjaXR5OiAwLjU7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi50bC1zZXR0aW5ncy50bC1zZXR0aW5ncy1oaWRkZW4ge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuLnRsLXNldHRpbmdzLXZlcnNpb24ge1xyXG4gICAgbWFyZ2luOiA1cHggMTBweDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBncmF5O1xyXG59XHJcblxyXG4udGwtc2V0dGluZ3MtdmVyc2lvbjpsYXN0LWNoaWxkIHtcclxuICAgIGJvcmRlci1ib3R0b206IDA7XHJcbn1cclxuXHJcbi50bC1zZXR0aW5ncy10aXRsZSB7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGZvbnQtc2l6ZTogMS4yNWVtO1xyXG59XHJcbi50bC1zZXR0aW5ncy1pbm5lciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIGhlaWdodDogNzB2aDtcclxuICAgIHdpZHRoOiA5MHZ3O1xyXG4gICAgbGVmdDogNXZ3O1xyXG4gICAgdG9wOiAxNXZoO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgZ3JheTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgb3ZlcmZsb3c6IGF1dG87XHJcbn1cclxuLnRsLXNldHRpbmdzLXZlcnNpb24gYnV0dG9uXHJcbntcclxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4udGwtZGFyayAudGwtc2V0dGluZ3MtaW5uZXJcclxue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFhMWExYTtcclxufVxyXG5cclxuLnRsLWJhbGFuY2Utd2FybmluZ1xyXG57XHJcbiAgICBmb250LXNpemU6IDAuOGVtO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICBjdXJzb3I6IGhlbHA7XHJcbn1cclxuLnRsLWhpZGRlblxyXG57XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG5gOyIsImV4cG9ydCBjb25zdCBSZWFzb25FbmhhbmNlbWVudENzcyA9IGBcclxuLnJlLWxhYmVsXHJcbntcclxuICAgIGZvbnQtc2l6ZTogMS41ZW07XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG59XHJcbi5yZS1yZWFzb24tc2VsZWN0XHJcbntcclxuICAgIHBhZGRpbmc6IDVweDtcclxufVxyXG4ucmUtcmVhc29uLXVpXHJcbntcclxuICAgIHotaW5kZXg6IDIwMDA7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBpbnNldDogMDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC43NSk7XHJcbiAgICBwYWRkaW5nLXRvcDogNDV2aDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcbi5yZS1idG5cclxue1xyXG4gICAgcGFkZGluZzogMCB2YXIoLS1idXR0b24tcGFkZGluZy14LCAxNXB4KTtcclxuICAgIG1pbi13aWR0aDogODBweDtcclxuICAgIGhlaWdodDogdmFyKC0tYnV0dG9uLXNpemUsIDMwcHgpO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGZvbnQtc2l6ZTogdmFyKC0tYnV0dG9uLWZvbnQtc2l6ZSwgMTJweCk7XHJcbiAgICBmb250LWZhbWlseTogdmFyKC0tYm9keS1mb250LWZhbWlseSk7XHJcbiAgICBib3JkZXI6IDA7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBtYXJnaW46IDVweDtcclxufVxyXG4ucmUtYnRuLnJlLXByaW1hcnlcclxue1xyXG4gICAgY29sb3I6IHZhcigtLXByaW1hcnktYmctdGV4dC1jb2xvciwgd2hpdGUpO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS02MDApO1xyXG59XHJcbi5yZS1idG4ucmUtc2Vjb25kYXJ5XHJcbntcclxuICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktYmctdGV4dC1jb2xvciwgIzUzNTM1Myk7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zZWNvbmRhcnktNjAwKTtcclxufVxyXG4ucmUtYmx1clxyXG57XHJcbiAgICBmaWx0ZXI6IGJsdXIoMnB4KTtcclxufVxyXG4ucmUtc3VibWl0dGluZyAucmUtYnRuXHJcbntcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuLnJlLXN1Ym1pdHRpbmctdGV4dFxyXG57XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgZm9udC1zaXplOiAxLjVlbTtcclxufVxyXG4ucmUtc3VibWl0dGluZyAucmUtc3VibWl0dGluZy10ZXh0XHJcbntcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcbmA7Il0sIm5hbWVzIjpbIkFwaSIsInN0YXRpYyIsIm1ldGhvZCIsInVybCIsImJvZHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzdWx0IiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzIiwiaGFzT3duUHJvcGVydHkiLCJrZXkiLCJ0b1N0cmluZyIsImFsZXJ0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInN0cmluZ2lmeSIsIkRhdGVzIiwic3RyIiwic3BsaXQiLCJsZW5ndGgiLCJwdXNoIiwiRGF0ZSIsImpvaW4iLCJnZXRUaW1lIiwidGltZSIsImluY2x1ZGVUaW1lc3RhbXAiLCJkYXRlIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsInBhZFN0YXJ0IiwiZ2V0RGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImhvdXJzIiwiaG91ciIsIk1hdGgiLCJmbG9vciIsIm1pbnV0ZSIsInJvdW5kIiwic2V0SG91cnMiLCJzZXREYXRlIiwiZ2V0RGF5Iiwid2VlazEiLCJwYXJzZUludCIsIkhpQm9iIiwiZW50cmllcyIsInNvbWUiLCJlIiwicmVhc29uSWQiLCJkYXRhIiwibWFwIiwic3RhcnQiLCJmb3JtYXQiLCJzdGFydEhvdXIiLCJlbmQiLCJsZW5ndGhIb3VycyIsInVuZGVmaW5lZCIsInJlYXNvbiIsImNvbW1lbnQiLCJkYXRlU3RyIiwidXNlcklkIiwidGhpcyIsImdldFVzZXJJZCIsIm1ldGFkYXRhIiwidGltZUxvZ0VudHJ5UmVhc29uIiwidmFsdWVzIiwidiIsImlkIiwic2VydmVySWQiLCJuYW1lIiwidmFsdWUiLCJzaGVldCIsInVzZXJJbmZvIiwiV2FpdCIsIm1zIiwid2luZG93Iiwic2V0VGltZW91dCIsImRlbGVnYXRlIiwiaGFuZGxlIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiUmVhc29uRW5oYW5jZW1lbnRNb2RlIiwiVGltZWxvZ1NhdmVTdGF0dXMiLCJFdmVudEhhbmRsZXIiLCJoYW5kbGVycyIsIm9uIiwiaGFuZGxlciIsImNvbnRleHQiLCJvZmYiLCJmaWx0ZXIiLCJoIiwiZmlyZSIsInZhbCIsImZvckVhY2giLCJjYWxsIiwiTWF0ZXJpYWxJY29uIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJyZWwiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJpY29uIiwiZmlsbCIsInNwYW4iLCJjbGFzc05hbWUiLCJpbm5lclRleHQiLCJzdHlsZSIsInZlcnRpY2FsQWxpZ24iLCJmb250U2l6ZSIsImZvbnRWYXJpYXRpb25TZXR0aW5ncyIsIk51bWJlcnMiLCJudW0iLCJkZWNpbWFscyIsImNlaWwiLCJhcnIiLCJpIiwiVGltZWxvZ01vZGVsIiwic2hlZXRzIiwib25EYXRlVXBkYXRlZCIsIm9uUmVhc29uc1VwZGF0ZWQiLCJvblNoZWV0VXBkYXRlZCIsIm9uU2hlZXRzVXBkYXRlZCIsIm9uU2F2ZVN0YXR1c1VwZGF0ZWQiLCJzYXZlSGFuZGxlIiwic2F2aW5nIiwiY2FsY3VsYXRpbmdGbGV4IiwiZmV0Y2hpbmdTaGVldHMiLCJyZWFzb25zIiwiYXN5bmMiLCJmZXRjaFNoZWV0cyIsImZldGNoUmVhc29ucyIsIlNhdmVkIiwidW50aWwiLCJlbXBsb3llZVNoZWV0cyIsImN5Y2xlU3RhcnREYXRlIiwiY3ljbGVFbmREYXRlIiwibmV3U2hlZXQiLCJkYXRlcyIsImxvY2tlZCIsImhvdXJzUGVyRGF5Iiwic29ydCIsImEiLCJiIiwiZmluZCIsInMiLCJhdHRlbmRhbmNlIiwic3VtbWFyeSIsInBvdGVudGlhbFdvcmtpbmdIb3VycyIsInBvdGVudGlhbFdvcmtpbmdEYXlzIiwiZGlydHkiLCJub3ciLCJub25Xb3JraW5nRGF5IiwiaG91cnNUb1dvcmsiLCJmYXZvcml0ZWQiLCJkYXRlRGVzY3JpcHRpb24iLCJub3RlIiwiZGVzY3JpcHRpb24iLCJoYXNDb21tZW50IiwicGFpZFRpbWVvZmZTZWNvbmRzIiwiZmF2b3JpdGUiLCJnZXRGYXZvcml0ZWREYXRlIiwiY2hhbmdlU3RhcnRIb3VyIiwiaW5kZXgiLCJkIiwicXVldWVTYXZlIiwiY2hhbmdlTGVuZ3RoSG91cnMiLCJjaGFuZ2VSZWFzb24iLCJjaGFuZ2VDb21tZW50IiwidG9nZ2xlQ29tbWVudCIsIm9sZEZhdm9yaXRlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImdldEl0ZW0iLCJmZXRjaFNoZWV0IiwiZGVsZXRlRW50cnkiLCJzcGxpY2UiLCJvcmlnaW5hbERhdGUiLCJvcmlnaW5hbFNoZWV0IiwiZGF0ZUluZGV4IiwiaW5kZXhPZiIsImVudHJ5SW5kZXgiLCJzaGVldEluZGV4IiwibGFzdCIsImZpbmRMYXN0RW50cnkiLCJpbmNsdWRlcyIsImVudHJ5IiwiY2xlYXJUaW1lb3V0Iiwic2F2ZSIsIldhaXRpbmciLCJTYXZpbmciLCJtaW5pbXVtV2FpdCIsInN1Ym1pdCIsIkVycm9yIiwiZ2V0RmxleFBvbGljeSIsInByZXZpb3VzRGF5c0luY2x1ZGVkIiwiZmxleFdhcm5pbmdUaHJlc2hvbGQiLCJjYWNoZUtleSIsInJlbW92ZUl0ZW0iLCJzaGVldEJhbGFuY2VzIiwiZGF5IiwiYmFsYW5jZSIsInN1bSIsImRhdGVTdHJpbmciLCJyZWFsQmFsYW5jZSIsInJlYWxsb2NhdGVkQmFsYW5jZSIsInBvbGljeSIsImN1cnJlbnREYXRlVGltZSIsIm92ZXJkdWVEYXRlVGltZSIsIndhcm5pbmdEYXRlVGltZSIsImFsbERhdGVzIiwiZ2V0Q2FjaGVkQmFsYW5jZXMiLCJqIiwicHJldkRhdGUiLCJhbW91bnQiLCJtaW4iLCJhYnMiLCJ1bmJhbGFuY2VkRGF0ZXMiLCJvdmVyZHVlRGF0ZXMiLCJ3YXJuaW5nRGF0ZXMiLCJpbml0aWFsaXplIiwic2hlZXREcm9wZG93bk9wdGlvbnMiLCJzaGVldERhdGVzIiwid2Vla1N1bXMiLCJvbkRhcmtNb2RlQ2hhbmdlIiwidGltZWxvZyIsImFkZEJ1dHRvbiIsInBhcmVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0b2dnbGVCdXR0b24iLCJnZXQiLCJ0aXRsZSIsIm9uY2xpY2siLCJ0b2dnbGVWaXNpYmxlIiwiY3JlYXRlVUkiLCJjcmVhdGVNb2RlbCIsImxvY2F0aW9uIiwiaGFzaCIsImlzRGFya01vZGUiLCJ0aW1lbG9nVUlPdXRlciIsImRpc3BsYXkiLCJvdmVyZmxvdyIsInNoZWV0Q29udGFpbmVyIiwiaW5uZXJIVE1MIiwibW9kZWwiLCJ0b2dnbGVEYXJrTW9kZSIsImFwcGVuZCIsInRpbWVsb2dVSUlubmVyIiwiY2xvc2VCdXR0b24iLCJkYXJrTW9kZUJ1dHRvbiIsImRhcmsiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJzZXR0aW5zV2luZG93IiwiY3JlYXRlU2V0dGluZ3NXaW5kb3ciLCJzZXR0aW5nc0J1dHRvbiIsImN1cnNvciIsInRleHREZWNvcmF0aW9uIiwic2hlZXREcm9wZG93bkxhYmVsIiwic2hlZXREcm9wZG93biIsIm9uY2hhbmdlIiwib25TZWxlY3RlZFNoZWV0Q2hhbmdlIiwic2F2ZVN0YXR1cyIsIm9uU2F2ZVN0YXR1c0NsaWNrIiwiYmFsYW5jZVBhcmVudCIsImJhbGFuY2VMYWJlbCIsImJhbGFuY2VXYXJuaW5nIiwiZWxlbWVudCIsImJhY2siLCJpbm5lciIsInNldHRpbmdzRWxlbWVudCIsInJlbG9hZExvY2tlZFNoZWV0c0J1dHRvbiIsImNsZWFyU2hlZXRCYWxhbmNlQ2FjaGUiLCJ0aGVuIiwidXBkYXRlQmFsYW5jZSIsImNoYW5nZWxvZyIsInZlcnNpb24iLCJ2ZXJzaW9uRWxlbWVudCIsInZlcnNpb25UaXRsZSIsImxpc3QiLCJ0ZXh0IiwidGV4dEVsZW1lbnQiLCJnZXREYXRlQ29udGFpbmVyIiwic2VsZWN0ZWRTaGVldCIsImRhdGVDb250YWluZXIiLCJzdGFyQnV0dG9uIiwicGFzdGVCdXR0b24iLCJ3ZWVrZW5kRGVzY3JpcHRpb24iLCJ3ZWVrU2VwZXJhdG9yIiwic2V0RmF2b3JpdGVkRGF0ZSIsInRvRGF0ZVN0cmluZyIsIm5ld0VudHJ5IiwicGFzdGVGcm9tU3RhcnJlZCIsImFkZFRvV2Vla1N1bSIsImdldEVudHJ5Q29udGFpbmVyIiwiZW50cnlDb250YWluZXIiLCJwIiwiZW5kSG91ciIsImNvbW1lbnRCdXR0b24iLCJub1JlYXNvbldhcm5pbmciLCJ0eXBlIiwiZGlzYWJsZWQiLCJwYXJzZVRpbWVUb2hvdXJzIiwiZW5kTGFiZWwiLCJ1cGRhdGVSZWFzb25zRHJvcGRvd24iLCJzdW1Ib3VycyIsInN0ZXAiLCJwYXJzZUZsb2F0IiwiZHVyYXRpb25MYWJlbCIsInBsYWNlaG9sZGVyIiwid2Vla1N1bSIsIm1hcmdpblRvcCIsImZvcm1hdEhvdXIiLCJyZW1vdmVkRW50cmllcyIsInciLCJ0b3RhbEhvdXJzIiwid2Vla051bWJlciIsImdldFdlZWtOdW1iZXJGcm9tRGF0ZSIsInNlbGVjdCIsIm9wdGlvbiIsImNvbnRhaW5zIiwibyIsImdldEZsZXhTdGF0dXMiLCJ0b3RhbEJhbGFuY2UiLCJzdWJtaXR0aW5nIiwiY2xvY2tJbkJ1dHRvbkZpbmRlciIsInJlYXNvbkVuaGFuY2VtZW50VUkiLCJsYWJlbCIsInJlYXNvblNlbGVjdCIsInNhdmVEZWZhdWx0UmVhc29uVmFsdWUiLCJjYW5jZWxCdXR0b24iLCJjYW5jZWwiLCJzdWJtaXRCdXR0b24iLCJzdWJtaXR0aW5nVGV4dCIsImZpbmRVbmVuaGFuY2VkQnV0dG9ucyIsImVuaGFuY2VDbG9ja0luQnV0dG9uIiwiRml4TGF0ZXN0IiwiRml4QWxsIiwiYXBwUm9vdCIsInNlbGVjdG9yIiwicXVlcnkiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uIiwibW9kZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzaG93UmVhc29uRml4ZXIiLCJsb2FkRGVmYXVsdFJlYXNvblZhbHVlIiwic2V0VUlWaXNpYmxlIiwiZml4QWxsIiwiZml4TGF0ZXN0IiwibGF0ZXN0Il0sInNvdXJjZVJvb3QiOiIifQ==