// ==UserScript==
// @name        HiBob Time Utilities
// @version     1.1.3
// @author      Funday Factory
// @description Utilities to make it easier to log time in HiBob
// @match       https://app.hibob.com/*
// @namespace   http://tampermonkey.net/
// @icon        https://www.google.com/s2/favicons?sz=64&domain=hibob.com
// @grant       none
// ==/UserScript==

(()=>{"use strict";class e{static xhr(e,t,n){return new Promise((a=>{let s=new XMLHttpRequest;s.open(e,t),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-Type","application/json"),s.onreadystatechange=()=>{if(4===s.readyState){let e;try{e=JSON.parse(s.responseText)}catch(t){e={result:s.responseText}}if(200!==s.status){if(e.hasOwnProperty("error")){const t=e.hasOwnProperty("key")?e.key:s.status.toString();alert(`HiBob Utils: Error ${t} - ${e.error}`)}else alert(`HiBob Utils: Error ${s.status} - check the developer console for more information.`);console.log(`HiBob Utils: Error ${s.status}.`),console.log(s)}a({status:s.status,body:e})}},s.send(JSON.stringify(n))}))}}class t{static parse(e){if(!e)return null;const t=e.split("T");return t.length<2&&t.push("00:00"),new Date(t.join("T")).getTime()}static format(e,t){if(!e)return"";const n=new Date(e);return`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}-${n.getDate().toString().padStart(2,"0")}${t?`T${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`:""}`}static formatHour(e){const t=Math.floor(e%24),n=Math.round(60*(e-t));return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}static getWeekNumberFromDate(e){var t=new Date(e);t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)}static parseTimeTohours(e){const t=e.split(":");return parseInt(t[0])+parseInt(t[1])/60}}class n{static async submit(n,a){if(a.some((e=>!e.reasonId)))return console.log("WARNING: SOME ENTRIES HAVE NO REASON SET - NOT SUBMITTING!!",n,a),!1;const s=a.map((e=>{var a;return{start:t.format(n+3600*e.startHour*1e3,!0),end:e.lengthHours?t.format(n+3600*(e.startHour+e.lengthHours)*1e3,!0):void 0,reason:e.reasonId,comment:null!==(a=e.comment)&&void 0!==a?a:void 0}})),o=t.format(n,!1),i=await this.getUserId();return 200===(await e.xhr("POST",`https://app.hibob.com/api/attendance/employees/${i}/attendance/entries?forDate=${o}`,s)).status}static async timelogReasons(){return(await this.metadata()).timeLogEntryReason.values.map((e=>({id:e.serverId,name:e.value})))}static async attendance(t){return(await e.xhr("GET",`https://app.hibob.com/api/employees/attendance/my/sheets/${t}`,{})).body}static async sheets(){const t=await this.getUserId();return(await e.xhr("GET",`https://app.hibob.com/api/employees/${t}/timelog/attendance/sheets`,{})).body}static async metadata(){return(await e.xhr("GET","https://app.hibob.com/api/company/metadata/lists/?includeArchived=true",{})).body}static async getUserId(){var e;return"string"!=typeof this.userId&&await this.userInfo(),null!==(e=this.userId)&&void 0!==e?e:""}static async userInfo(){const t=await e.xhr("GET","https://app.hibob.com/api/user",{});return this.userId=t.body.id,t.body}}class a{static for(e){return new Promise((t=>{window.setTimeout((()=>t()),e)}))}static until(e){return new Promise((t=>{const n=window.setInterval((()=>{e()&&(t(),window.clearInterval(n))}),1)}))}}var s,o;!function(e){e[e.FixAll=0]="FixAll",e[e.FixLatest=1]="FixLatest"}(s||(s={}));class i{constructor(){this.handlers=[]}on(e,t){this.handlers.push({handler:e,context:t})}off(e,t){this.handlers=this.handlers.filter((n=>n.handler!==e||n.context!==t))}fire(e){this.handlers.forEach((t=>t.handler.call(t.context,e)))}}class r{static initialize(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200",e.rel="stylesheet",document.head.appendChild(e)}static get(e,t=!1){const n=document.createElement("span");return n.className="material-symbols-outlined",n.innerText=e,n.style.verticalAlign="middle",n.style.fontSize="1.5em",n.style.fontVariationSettings="'FILL' "+(t?1:0),n}}class l{static round(e,t){return Math.round(e*10**t)/10**t}static floor(e,t){return Math.floor(e*10**t)/10**t}static ceil(e,t){return Math.ceil(e*10**t)/10**t}static sum(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}}!function(e){e[e.Waiting=0]="Waiting",e[e.Saving=1]="Saving",e[e.Saved=2]="Saved",e[e.Error=3]="Error"}(o||(o={}));class d{constructor(){this.sheets=[],this.onDateUpdated=new i,this.onReasonsUpdated=new i,this.onSheetUpdated=new i,this.onSheetsUpdated=new i,this.onSaveStatusUpdated=new i,this.saveHandle=-1,this.saving=!1,this.calculatingFlex=!1,this.fetchingSheets=!1,this.reasons=[]}async initialize(){await this.fetchSheets(),await this.fetchReasons(),this.onSaveStatusUpdated.fire(o.Saved)}async fetchSheets(){var e,s;await a.until((()=>!this.fetchingSheets)),this.fetchingSheets=!0,this.sheets=[];const o=await n.sheets();for(const n of o.employeeSheets){const a=null!==(e=t.parse(n.cycleStartDate))&&void 0!==e?e:0,o=null!==(s=t.parse(n.cycleEndDate))&&void 0!==s?s:0,i={id:n.id,status:n.status,start:a,end:o,dates:[],locked:n.locked,hoursPerDay:0};this.sheets.push(i)}this.sheets.sort(((e,t)=>t.start-e.start)),this.onSheetsUpdated.fire(this.sheets),this.fetchingSheets=!1}async fetchReasons(){this.reasons=(await n.metadata()).timeLogEntryReason.values,this.onReasonsUpdated.fire(this.reasons)}async fetchSheet(e){var a;const s=this.sheets.find((t=>t.id===e));if(!s)return;const o=await n.attendance(e);s.hoursPerDay=o.summary.potentialWorkingHours/o.summary.potentialWorkingDays,s.dates=[];for(const e of o.attendance){const n={dirty:!1,date:null!==(a=t.parse(e.date))&&void 0!==a?a:Date.now(),weekend:"WeekendEvent"===e.status,favorited:!1,dateDescription:e.note.description,entries:e.entries.map((n=>{var a,s,o,i,r;return{startHour:l.floor(((null!==(a=t.parse(n.start))&&void 0!==a?a:Date.now())-(null!==(s=t.parse(e.date))&&void 0!==s?s:Date.now()))/36e5,2),lengthHours:l.ceil(((null!==(o=t.parse(n.end))&&void 0!==o?o:Date.now())-(null!==(i=t.parse(n.start))&&void 0!==i?i:Date.now()))/36e5,2),reasonId:n.reason,comment:null!==(r=n.comment)&&void 0!==r?r:null,hasComment:!!n.comment}})).sort(((e,t)=>e.startHour-t.startHour))};s.dates.push(n)}s.dates.sort(((e,t)=>t.date-e.date));const i=await this.getFavoritedDate();i&&i.sheet===s&&(i.date.favorited=!0),this.onSheetUpdated.fire(s)}changeStartHour(e,t,n){const a=this.sheets.find((t=>t.dates.some((t=>t===e))));a&&(e.entries[t].startHour=n,e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:a,date:e}))}changeLengthHours(e,t,n){const a=this.sheets.find((t=>t.dates.some((t=>t===e))));a&&(e.entries[t].lengthHours=n,e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:a,date:e}))}changeReason(e,t,n){const a=this.sheets.find((t=>t.dates.some((t=>t===e))));a&&(e.entries[t].reasonId=n,e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:a,date:e}))}changeComment(e,t,n){const a=this.sheets.find((t=>t.dates.some((t=>t===e))));a&&(e.entries[t].comment=n,e.entries[t].hasComment=!0,e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:a,date:e}))}toggleComment(e,t){const n=this.sheets.find((t=>t.dates.some((t=>t===e))));n&&(e.entries[t].hasComment=!e.entries[t].hasComment,e.entries[t].comment=e.entries[t].hasComment?"":null,e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:n,date:e}))}async setFavoritedDate(e){const n=this.sheets.find((t=>t.dates.some((t=>t===e))));if(!n)return;const a=await this.getFavoritedDate();a&&(a.date.favorited=!1,this.onDateUpdated.fire(a)),e.favorited=!0,this.onDateUpdated.fire({sheet:n,date:e}),window.localStorage.setItem("tl_favorite",JSON.stringify({date:t.format(e.date,!1)}))}async getFavoritedDate(){const e=window.localStorage.getItem("tl_favorite");if(!e)return null;const n=JSON.parse(e),a=t.parse(n.date);if("number"==typeof a){const e=this.sheets.find((e=>e.start<=a&&e.end>=a));if(e){e.dates.length<1&&await this.fetchSheet(e.id);const t=e.dates.find((e=>e.date===a));if(t)return{sheet:e,date:t}}}return null}deleteEntry(e,t){const n=this.sheets.find((t=>t.dates.some((t=>t===e))));n&&(e.entries.splice(t,1),e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:n,date:e}))}async findLastEntry(e){const t=this.sheets.find((t=>t.dates.some((t=>t===e))));if(!t)return;let n=t.dates.indexOf(e),a=-1;for(let e=this.sheets.indexOf(t);e<this.sheets.length;e++){const t=this.sheets[e];for(t.dates.length<1&&await this.fetchSheet(t.id);n<t.dates.length;n++){const e=t.dates[n];if(e.entries.length>0)return a<0?e.entries[e.entries.length-1]:e.entries[a];a=0}n=0}}async newEntry(e){const t=this.sheets.find((t=>t.dates.some((t=>t===e))));if(!t)return;const n=await this.findLastEntry(e);let a=8.5,s=l.round(t.hoursPerDay,2),o="";n&&(e.entries.includes(n)&&(a=n.startHour+n.lengthHours,s=1),o=n.reasonId),e.entries.push({startHour:a,lengthHours:s,reasonId:o,comment:null,hasComment:!1}),e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:t,date:e})}async pasteFromStarred(e){if(e.entries.length>0)return;const t=this.sheets.find((t=>t.dates.some((t=>t===e))));if(!t)return;const n=await this.getFavoritedDate();if(n&&n.date!==e){for(const t of n.date.entries)e.entries.push({startHour:t.startHour,lengthHours:t.lengthHours,reasonId:t.reasonId,comment:t.comment,hasComment:t.hasComment});e.dirty=!0,this.queueSave(),this.onDateUpdated.fire({sheet:t,date:e})}}queueSave(){window.clearTimeout(this.saveHandle),this.saveHandle=window.setTimeout((()=>this.save()),500),this.onSaveStatusUpdated.fire(o.Waiting)}async save(){await a.until((()=>!this.saving)),this.saving=!0,this.onSaveStatusUpdated.fire(o.Saving);const e=a.for(100);let t=!1;for(const e of this.sheets)for(const a of e.dates)a.dirty&&(await n.submit(a.date,a.entries)?a.dirty=!1:t=!0);await e,this.onSaveStatusUpdated.fire(t?o.Error:o.Saved),this.saving=!1}async getCurrentBalanceHours(){var e,n,s;const o=null!==(e=t.parse(t.format(Date.now(),!1)))&&void 0!==e?e:0,i=null!==(n=t.parse(t.format(o-23328e5,!1)))&&void 0!==n?n:0,r={},d=[];let h=0;if(this.sheets){await a.until((()=>!this.calculatingFlex)),this.calculatingFlex=!0;for(let e=this.sheets.length-1;e>=0;e--){const n=this.sheets[e];if(!n)continue;let a=[];const o=`tl_cached_hour_balances_${n.id}`;if(n.locked&&null!==window.localStorage.getItem(o))a=JSON.parse(null!==(s=window.localStorage.getItem(o))&&void 0!==s?s:"[]");else{if(n.dates.length<1&&await this.fetchSheet(n.id),n.dates.some((e=>e.entries.length>0&&e.entries.some((e=>e.lengthHours>0)))))for(const e of n.dates){const t=e.weekend?0:n.hoursPerDay,s=l.sum(e.entries.map((e=>e.lengthHours)))-t;a.push({date:e.date,balance:s})}n.locked&&n.id>0&&window.localStorage.setItem(o,JSON.stringify(a))}h+=l.sum(a.map((e=>e.balance))),r[n.id.toString()]=a.map((e=>({date:e.date,dateString:t.format(e.date,!1),balance:e.balance,remainingBalance:l.round(e.balance,3)}))).sort(((e,t)=>e.date-t.date))}for(let e=this.sheets.length-1;e>=0;e--){const t=r[this.sheets[e].id];t&&d.push(...t)}for(let e=0;e<d.length;e++){const t=d[e];for(let n=0;n<e&&0!==t.remainingBalance;n++){const e=d[n],a=Math.min(Math.abs(t.remainingBalance),Math.abs(e.remainingBalance));t.remainingBalance<0&&e.remainingBalance>0?(e.remainingBalance-=a,t.remainingBalance+=a):t.remainingBalance>0&&e.remainingBalance<0&&(e.remainingBalance+=a,t.remainingBalance-=a)}}this.calculatingFlex=!1}return{balance:h,maxAgeDays:28,unbalancedDates:d.filter((e=>0!==e.remainingBalance)),warningDates:d.filter((e=>0!==e.remainingBalance&&e.date<=i))}}}r.initialize(),new class{constructor(){this.sheetDropdownOptions=[],this.sheetDates=[],this.weekSums=[],this.reasons=[],this.onDarkModeChange=new i,window.timelog=this,this.addButton()}async addButton(){for(;;){const e=document.querySelector("div.app-content > app-top-bar.app-top-bar > div.actions");if(e){this.toggleButton=document.createElement("button"),this.toggleButton.className="tl-toggle-btn",this.toggleButton.appendChild(r.get("sentiment_very_satisfied")),this.toggleButton.title="HiBob Utilities",this.toggleButton.onclick=()=>this.toggleVisible(),e.appendChild(this.toggleButton),this.createUI(),await this.createModel(),"#tl-ui"===location.hash&&this.toggleVisible(),this.onDarkModeChange.fire(this.isDarkMode());break}await a.for(1)}}toggleVisible(){var e;this.timelogUIOuter&&("none"===this.timelogUIOuter.style.display?(this.timelogUIOuter.style.display="block",location.hash="#tl-ui",document.body.style.overflow="hidden",this.sheetContainer&&(this.sheetContainer.innerHTML=""),null===(e=this.model)||void 0===e||e.fetchSheets()):(this.timelogUIOuter.style.display="none",location.hash="",document.body.style.overflow="initial"))}isDarkMode(){return"true"===localStorage.getItem("tl_dark_mode")}toggleDarkMode(){this.isDarkMode()?localStorage.setItem("tl_dark_mode","false"):localStorage.setItem("tl_dark_mode","true"),this.onDarkModeChange.fire(this.isDarkMode())}createUI(){const e=document.createElement("style");e.innerHTML="\n.tl-toggle-btn\n{\n    border: none;\n    background: none;\n    font-size: 2em;\n}\n.tl-close-btn\n{\n    font-size: 2em;\n    position: absolute;\n    right: 5px;\n}\n.tl-ui\n{\n    position: fixed;\n    z-index: 1000;\n    inset: 0px;\n    background-color: white;\n    overflow-y: scroll;\n    padding: 10px;\n}        \n.tl-date\n{\n    margin-top: 10px;\n    padding: 10px;\n    border: 1px solid gray;\n    border-radius: 5px;\n}\n.tl-save-status, .tl-add-entry-btn\n{\n    margin-left: 10px;\n}\n.tl-entry\n{\n    margin-top: 5px;\n}\n.tl-entry > *\n{\n    margin-left: 5px;\n}\n.tl-entry > input[type=number]\n{\n    width: 50px;\n}\n.tl-entry > input[type=time]\n{\n    width: 75px;\n}\n.tl-save-status\n{\n    font-weight: bold;\n}\n.tl-sheet-select\n{\n    margin-left: 5px;\n}\n.tl-date-label\n{\n    font-weight: bold;\n}\n.tl-date-label.tl-date-label-weekend\n{\n    font-weight: initial;\n    font-style: italic;\n    color: gray;\n}\n.tl-entry-reason \n{\n    padding: 3px;\n}\n.tl-remove-entry-btn\n{\n    float: right;\n}\n.tl-week-seperator\n{\n    margin-top: 57px;\n}\n.tl-balance-label\n{\n    margin: 5px;\n    display: inline-block;\n}\n.tl-balance-help\n{\n    display: inline-block;\n    cursor: help;\n}\n\n.tl-ui-inner\n{\n    display: table;\n    margin-left: auto;\n    margin-right: auto;\n}\n.tl-ui-inner, .tl-week-seperator, .tl-date\n{\n    min-width: 650px;\n}\n.tl-entry-comment {\n    margin-top: 5px;\n    margin-bottom: 15px;\n    width: 100%;\n    display: none;\n}\n.tl-has-comment .tl-entry-comment\n{\n    display: block;\n}\n.tl-success\n{\n    color: #02B875;\n}\n.tl-warning\n{\n    color: #F0AF52;\n}\n.tl-danger\n{\n    color: #DA5652;\n}\n.tl-sum-hours\n{\n    position: absolute;\n    margin-top: -23px;\n}\n.tl-week-sum\n{\n    position: absolute;\n    margin-top: -57px;\n    text-decoration: underline;\n}\n.tl-ui button.tl-star-button, .tl-ui.tl-dark button.tl-star-button\n{\n    background: none;\n    border: none;\n    margin: 0;\n    padding: 0;\n}\n.tl-ui button.tl-star-button.tl-favorite, .tl-ui.tl-dark button.tl-star-button.tl-favorite\n{\n    color: #f1a00b;\n    opacity: 1;\n}\n.tl-paste-btn {\n    margin-left: 5px;\n    display: none;\n}\n.tl-has-favorite .tl-paste-btn:not(.tl-hide-favorite-button)\n{\n    display: inline-block;\n}\n.tl-show-on-hover\n{\n    opacity: 0;\n}\n.tl-date:hover .tl-show-on-hover\n{\n    opacity: 1;\n}\n.tl-no-reason-warning {\n    margin-left: 180px;\n    position: absolute;\n    margin-top: -22px;\n    font-weight: bold;\n    background-color: white;\n    user-select: none;\n    pointer-events: none;\n}\n.tl-no-reason-warning.tl-has-reason\n{\n    display: none;\n}\n.tl-clickable\n{\n    cursor: pointer;\n}\n.tl-dark-mode-btn {\n    position: fixed;\n    bottom: 5px;\n    right: 20px;\n}\n.tl-ui button\n{\n    background-color: #d9d9d9;\n    border: 1px solid gray;\n    border-radius: 5px;\n}\n.tl-ui button:hover\n{\n    background-color: #efebeb;\n}\n\n.tl-ui.tl-dark\n{\n    background-color: #1E1E1E;\n    color: white;\n}\n.tl-ui.tl-dark select, .tl-ui.tl-dark input {\n    color: white;\n    background-color: #252526;\n    border: 1px gray solid;\n    color-scheme: dark;\n}\n.tl-ui.tl-dark button\n{\n    background-color: #333333;\n    border: 1px solid #282828;\n    color: white;\n}\n.tl-ui.tl-dark button:hover\n{\n    background-color: #525252;\n}\n.tl-ui.tl-dark .tl-no-reason-warning\n{\n    background-color: #252526;\n}\n.tl-weekend-description {\n    color: gray;\n    font-style: italic;\n    float: right;\n    margin-top: 2px;\n    display: inline-block;\n    max-width: 400px;\n    overflow: hidden;\n    max-height: 35px;\n}\n.tl-weekend-description.tl-weekend-description-hidden\n{\n    display: none;\n}\n.tl-version-number {\n    position: fixed;\n    bottom: 5px;\n    left: 5px;\n}\n\n.tl-changelog {\n    position: fixed;\n    inset: 0;\n    z-index: 100;\n}\n.tl-changelog-back {\n    inset: 0;\n    position: absolute;\n    background-color: black;\n    opacity: 0.5;\n    cursor: pointer;\n}\n\n.tl-changelog.tl-changelog-hidden {\n    display: none;\n}\n\n.tl-changelog-version {\n    margin: 5px 10px;\n    border-bottom: 1px solid gray;\n}\n\n.tl-changelog-version:last-child {\n    border-bottom: 0;\n}\n\n.tl-changelog-title {\n    font-weight: bold;\n    font-size: 1.25em;\n}\n.tl-changelog-inner {\n    position: absolute;\n    background-color: white;\n    height: 70vh;\n    width: 90vw;\n    left: 5vw;\n    top: 15vh;\n    border: 1px solid gray;\n    border-radius: 10px;\n    padding: 10px;\n    overflow: auto;\n}\n.tl-dark .tl-changelog-inner\n{\n    background-color: #1a1a1a;\n}\n\n.tl-balance-warning\n{\n\n}\n.tl-hidden\n{\n    display: none;\n}\n\n",document.body.appendChild(e),this.timelogUIOuter=document.createElement("div"),this.timelogUIOuter.className="tl-ui",this.timelogUIOuter.style.display="none",document.body.append(this.timelogUIOuter),this.timelogUIInner=document.createElement("div"),this.timelogUIInner.className="tl-ui-inner",this.timelogUIOuter.append(this.timelogUIInner);const t=document.createElement("button");t.className="tl-close-btn",t.appendChild(r.get("close")),t.onclick=()=>this.toggleVisible(),this.timelogUIInner.appendChild(t),this.darkModeButton=document.createElement("button"),this.darkModeButton.className="tl-dark-mode-btn",this.darkModeButton.onclick=()=>this.toggleDarkMode(),this.timelogUIInner.appendChild(this.darkModeButton),this.onDarkModeChange.on((e=>{var t,n;e?null===(t=this.timelogUIOuter)||void 0===t||t.classList.add("tl-dark"):null===(n=this.timelogUIOuter)||void 0===n||n.classList.remove("tl-dark"),this.darkModeButton&&(this.darkModeButton.innerHTML="",this.darkModeButton.append(e?r.get("light_mode"):r.get("dark_mode")))}),this);const n=document.createElement("div");if(n.innerText="1.1.3",n.className="tl-version-number",this.timelogUIInner.appendChild(n),[{version:"1.1.3 - 03/10/2022",text:["Fixed how flex hours is calculated.","A warning is showed if you have unbalanced flex days that are older than 28 days."]},{version:"1.1.2 - 03/10/2022",text:["Fixed problem where you couldn't log time on some days, where you were supposed to."]},{version:"1.1.1 - 30/09/2022",text:["Added changelog","Show descriptions on non-working days"]}].length>0){const e=this.createChangelogElement();this.timelogUIInner.appendChild(e),n.onclick=()=>e.classList.remove("tl-changelog-hidden"),n.style.cursor="pointer",n.style.textDecoration="underline"}const a=document.createElement("span");a.innerText="Sheet:",this.timelogUIInner.appendChild(a),this.sheetDropdown=document.createElement("select"),this.sheetDropdown.className="tl-sheet-select",this.sheetDropdown.onchange=()=>this.onSelectedSheetChange(),this.timelogUIInner.appendChild(this.sheetDropdown),this.saveStatus=document.createElement("span"),this.saveStatus.className="tl-save-status",this.saveStatus.onclick=()=>this.onSaveStatusClick(),this.timelogUIInner.append(this.saveStatus);const s=document.createElement("div");s.className="tl-balance",this.timelogUIInner.append(s),this.balanceLabel=document.createElement("div"),this.balanceLabel.innerText="Balance: ",this.balanceLabel.className="tl-balance-label",s.append(this.balanceLabel),this.balanceWarning=document.createElement("div"),this.balanceWarning.className="tl-balance-warning tl-warning tl-hidden",s.append(this.balanceWarning),this.sheetContainer=document.createElement("div"),this.sheetContainer.className="tl-sheet",this.timelogUIInner.appendChild(this.sheetContainer)}createChangelogElement(){const e=document.createElement("div");e.className="tl-changelog tl-changelog-hidden";const t=document.createElement("div");t.className="tl-changelog-back",e.append(t),t.onclick=()=>e.classList.add("tl-changelog-hidden");const n=document.createElement("div");n.className="tl-changelog-inner",e.append(n);const a=[{version:"1.1.3 - 03/10/2022",text:["Fixed how flex hours is calculated.","A warning is showed if you have unbalanced flex days that are older than 28 days."]},{version:"1.1.2 - 03/10/2022",text:["Fixed problem where you couldn't log time on some days, where you were supposed to."]},{version:"1.1.1 - 30/09/2022",text:["Added changelog","Show descriptions on non-working days"]}];for(const e of a){const t=document.createElement("div");t.className="tl-changelog-version",n.append(t);const a=document.createElement("div");a.className="tl-changelog-title",a.innerText=e.version,t.append(a);const s=document.createElement("ul");s.className="tl-changelog-list",t.append(s);for(const t of e.text){const e=document.createElement("li");e.innerText=t,s.append(e)}}return e}async createModel(){this.model&&(this.model.onDateUpdated.off(this.onDateUpdated,this),this.model.onReasonsUpdated.off(this.onReasonsUpdated,this),this.model.onSaveStatusUpdated.off(this.onSaveStatusUpdated,this),this.model.onSheetUpdated.off(this.onSheetUpdated,this),this.model.onSheetsUpdated.off(this.onSheetsUpdated,this)),this.model=new d,this.model.onDateUpdated.on(this.onDateUpdated,this),this.model.onReasonsUpdated.on(this.onReasonsUpdated,this),this.model.onSaveStatusUpdated.on(this.onSaveStatusUpdated,this),this.model.onSheetUpdated.on(this.onSheetUpdated,this),this.model.onSheetsUpdated.on(this.onSheetsUpdated,this),await this.model.initialize()}getDateContainer(e){if(this.selectedSheet===e.sheet&&this.sheetContainer){let t=this.sheetDates.find((t=>t.date===e.date));if(!t){if(t={date:e.date,parent:document.createElement("div"),title:document.createElement("span"),entries:[],starButton:document.createElement("button"),pasteButton:document.createElement("button"),weekendDescription:document.createElement("div")},this.sheetDates.push(t),t.parent.className="tl-date",this.sheetContainer.appendChild(t.parent),1===new Date(e.date.date).getDay()){const e=document.createElement("div");e.className="tl-week-seperator",this.sheetContainer.appendChild(e)}if(t.parent.append(t.starButton),t.starButton.onclick=()=>{var t;return null===(t=this.model)||void 0===t?void 0:t.setFavoritedDate(e.date)},t.starButton.className="tl-star-button tl-show-on-hover",t.starButton.title="Favorite Day",t.title.className="tl-date-label",t.title.innerText=new Date(e.date.date).toDateString(),e.date.weekend&&t.title.classList.add("tl-date-label-weekend"),t.parent.append(t.title),t.weekendDescription.className="tl-weekend-description",t.parent.append(t.weekendDescription),!e.sheet.locked){const n=document.createElement("button");n.appendChild(r.get("add")),n.className="tl-add-entry-btn tl-show-on-hover",n.onclick=()=>{var t;return null===(t=this.model)||void 0===t?void 0:t.newEntry(e.date)},t.parent.append(n),t.pasteButton=document.createElement("button"),t.pasteButton.appendChild(r.get("switch_access_shortcut_add")),t.pasteButton.title="Paste from Favorite Day",t.pasteButton.className="tl-paste-btn tl-show-on-hover",t.pasteButton.onclick=()=>{var t;return null===(t=this.model)||void 0===t?void 0:t.pasteFromStarred(e.date)},t.parent.append(t.pasteButton)}this.addToWeekSum(t)}return t}return null}getEntryContainer(e,n,a){let s=n.entries.find((e=>e.entry===a));if(!s){s={entry:a,parent:document.createElement("div"),startHour:document.createElement("input"),endHour:document.createElement("input"),length:document.createElement("input"),reason:document.createElement("select"),comment:document.createElement("input"),commentButton:document.createElement("button"),noReasonWarning:document.createElement("div")},n.entries.push(s),s.parent.className="tl-entry",n.parent.appendChild(s.parent),s.startHour.type="time",s.startHour.className="tl-entry-start",e.sheet.locked&&(s.startHour.disabled=!0),s.startHour.onchange=()=>{var n,o,i;const r=a.startHour+a.lengthHours;null===(n=this.model)||void 0===n||n.changeStartHour(e.date,e.date.entries.indexOf(a),t.parseTimeTohours(null!==(o=null==s?void 0:s.startHour.value)&&void 0!==o?o:"08:00"));const d=l.round(r-a.startHour,2);null===(i=this.model)||void 0===i||i.changeLengthHours(e.date,e.date.entries.indexOf(a),d)},s.parent.appendChild(s.startHour);const o=document.createElement("span");o.className="tl-end-label",o.innerText="-",s.parent.appendChild(o),s.endHour.type="time",s.endHour.className="tl-entry-end",e.sheet.locked&&(s.endHour.disabled=!0),s.endHour.onchange=()=>{var n;if(null==s?void 0:s.endHour){const o=l.round(t.parseTimeTohours(s.endHour.value)-a.startHour,2);null===(n=this.model)||void 0===n||n.changeLengthHours(e.date,e.date.entries.indexOf(a),o)}},s.parent.appendChild(s.endHour),s.reason.onchange=()=>{var t,n;return null===(t=this.model)||void 0===t?void 0:t.changeReason(e.date,e.date.entries.indexOf(a),null!==(n=null==s?void 0:s.reason.value)&&void 0!==n?n:"")},e.sheet.locked&&(s.reason.disabled=!0),s.reason.className="tl-entry-reason",s.parent.appendChild(s.reason),this.updateReasonsDropdown(s.reason),1===n.entries.length&&(n.sumHours=document.createElement("span"),n.sumHours.className="tl-sum-hours",s.parent.append(n.sumHours)),s.length.type="number",s.length.className="tl-entry-length",s.length.step="0.01",e.sheet.locked&&(s.length.disabled=!0),s.length.onchange=()=>{var t;null===(t=this.model)||void 0===t||t.changeLengthHours(e.date,e.date.entries.indexOf(a),parseFloat((null==s?void 0:s.length.value)||"0"))},s.parent.appendChild(s.length);const i=document.createElement("span");if(i.className="tl-duration-label",i.innerText="hour(s)",s.parent.appendChild(i),!e.sheet.locked){s.commentButton.className="tl-add-comment-btn tl-show-on-hover",s.commentButton.onclick=()=>{var t;return null===(t=this.model)||void 0===t?void 0:t.toggleComment(e.date,e.date.entries.indexOf(a))},s.parent.appendChild(s.commentButton);const t=document.createElement("button");t.appendChild(r.get("delete")),t.className="tl-remove-entry-btn tl-show-on-hover",t.onclick=()=>{var t;return null===(t=this.model)||void 0===t?void 0:t.deleteEntry(e.date,e.date.entries.indexOf(a))},s.parent.appendChild(t)}s.noReasonWarning.append(r.get("warning",!0)),s.noReasonWarning.append(" No reason selected!"),s.noReasonWarning.className="tl-no-reason-warning tl-warning tl-has-reason",s.parent.appendChild(s.noReasonWarning),s.comment.type="text",s.comment.placeholder="Write a note...",s.comment.title="Write a note...",s.comment.className="tl-entry-comment",e.sheet.locked&&(s.comment.disabled=!0),s.comment.onchange=()=>{var t,n;null===(t=this.model)||void 0===t||t.changeComment(e.date,e.date.entries.indexOf(a),null!==(n=null==s?void 0:s.comment.value)&&void 0!==n?n:"")},s.parent.appendChild(s.comment)}return s}addToWeekSum(e){if(this.weekSums.length<1||0===new Date(e.date.date).getDay()){const t={dates:[e],element:document.createElement("div")};t.element.className="tl-week-sum",this.weekSums.push(t),e.parent.appendChild(t.element),e.parent.style.marginTop="38px"}else this.weekSums[this.weekSums.length-1].dates.push(e)}onDateUpdated(e){var n,a,s;if(this.selectedSheet===e.sheet&&this.sheetContainer){let o=this.getDateContainer(e);if(o){for(const a of e.date.entries){let s=this.getEntryContainer(e,o,a);s.startHour.value=t.formatHour(a.startHour),s.length.value=a.lengthHours.toString(),s.endHour.value=t.formatHour(a.startHour+a.lengthHours),s.reason.value=a.reasonId,s.comment.value=null!==(n=a.comment)&&void 0!==n?n:"",a.reasonId?s.noReasonWarning.classList.add("tl-has-reason"):s.noReasonWarning.classList.remove("tl-has-reason"),s.commentButton.title=a.hasComment?"Remove note":"Add note",s.commentButton.innerHTML="",s.commentButton.appendChild(r.get(a.hasComment?"speaker_notes_off":"speaker_notes")),a.hasComment?s.parent.classList.add("tl-has-comment"):s.parent.classList.remove("tl-has-comment")}const i=o.entries.filter((t=>!e.date.entries.find((e=>e===t.entry))));if(o.entries=o.entries.filter((e=>!i.includes(e))),i.forEach((e=>e.parent.remove())),o.sumHours){const t=l.sum(e.date.entries.map((e=>e.lengthHours)));o.sumHours.innerText=`${l.round(t,2)} hour${1===t?"":"s"}`}o.starButton.innerHTML="",o.starButton.disabled=e.date.favorited,o.starButton.classList.remove("tl-favorite"),o.starButton.appendChild(r.get("star",e.date.favorited)),e.date.favorited&&o.starButton.classList.add("tl-favorite"),o.entries.length>0||o.date.favorited?o.pasteButton.classList.add("tl-hide-favorite-button"):o.pasteButton.classList.remove("tl-hide-favorite-button"),o.title.title=null!==(a=e.date.dateDescription)&&void 0!==a?a:"",e.date.weekend&&e.date.entries.length<1?(o.weekendDescription.classList.remove("tl-weekend-description-hidden"),o.weekendDescription.innerText=null!==(s=e.date.dateDescription)&&void 0!==s?s:""):o.weekendDescription.classList.add("tl-weekend-description-hidden")}const i=this.weekSums.find((t=>t.dates.some((t=>t.date===e.date))));if(i){const n=l.sum(i.dates.map((e=>l.sum(e.entries.map((e=>e.entry.lengthHours)))))),a=i.dates.filter((e=>!e.date.weekend)).length,s=e.sheet.hoursPerDay*a,o=t.getWeekNumberFromDate(i.dates[0].date.date);i.element.innerHTML=`<b>Week ${o}</b>: ${l.round(n,2)} / ${l.round(s,2)} hours`}}this.updateBalance()}updateReasonsDropdown(e){e.innerHTML="";for(const t of this.reasons){const n=document.createElement("option");n.value=t.serverId,n.innerText=t.value,e.appendChild(n)}}onReasonsUpdated(e){this.reasons=e;for(const e of this.sheetDates)for(const t of e.entries)this.updateReasonsDropdown(t.reason)}onSaveStatusUpdated(e){this.saveStatus&&(this.saveStatus.innerHTML="",this.saveStatus.classList.remove("tl-success"),this.saveStatus.classList.remove("tl-warning"),this.saveStatus.classList.remove("tl-clickable"),e===o.Saved&&(this.saveStatus.appendChild(r.get("cloud_done",!0)),this.saveStatus.append(" Saved"),this.saveStatus.classList.add("tl-success")),e===o.Waiting&&(this.saveStatus.appendChild(r.get("pending")),this.saveStatus.append(" Pending...")),e===o.Saving&&(this.saveStatus.appendChild(r.get("cloud_upload")),this.saveStatus.append(" Saving...")),e===o.Error&&(this.saveStatus.appendChild(r.get("cloud_off")),this.saveStatus.append(" Failed!"),this.saveStatus.classList.add("tl-warning"),this.saveStatus.classList.add("tl-clickable")))}onSaveStatusClick(){var e,t;(null===(e=this.saveStatus)||void 0===e?void 0:e.classList.contains("tl-clickable"))&&(null===(t=this.model)||void 0===t||t.save())}onSheetUpdated(e){if(this.sheetDropdown&&!this.sheetDropdownOptions.find((t=>t.sheet===e))){const t=document.createElement("option");t.value=e.id.toString(),t.innerText=`${new Date(e.start).toDateString()} - ${new Date(e.end).toDateString()}${e.locked?" (locked)":""}`,this.sheetDropdownOptions.push({sheet:e,element:t}),this.sheetDropdown.appendChild(t)}this.selectedSheet===e&&(this.sheetContainer&&(this.sheetContainer.innerHTML=""),this.sheetDates=[],this.weekSums=[]);for(const t of e.dates)this.onDateUpdated({sheet:e,date:t});this.updateBalance()}onSheetsUpdated(e){this.sheetDropdown&&(this.sheetDropdown.innerHTML=""),this.sheetDropdownOptions=[];for(const t of e)this.onSheetUpdated(t);this.onSelectedSheetChange()}onSelectedSheetChange(){var e;if(!this.sheetDropdown)return;this.sheetContainer&&(this.sheetContainer.innerHTML=""),this.sheetDates=[];const t=this.sheetDropdown.value;this.selectedSheet=null===(e=this.sheetDropdownOptions.find((e=>e.element.value===t)))||void 0===e?void 0:e.sheet,this.selectedSheet&&this.model&&this.model.fetchSheet(this.selectedSheet.id)}async updateBalance(){var e,t,n;if(!this.model||!this.balanceLabel||!this.selectedSheet)return;const a=await this.model.getCurrentBalanceHours();console.log(a);const s=l.round(a.balance,2);this.balanceLabel.innerText=`Flex: ${s} hour${1!=s?"s":""}${0===s?" 🥳":""}`,null===(e=this.balanceWarning)||void 0===e||e.classList.add("tl-hidden"),a.warningDates.length>0&&this.balanceWarning&&(this.balanceWarning.classList.remove("tl-hidden"),this.balanceWarning.innerHTML="",this.balanceWarning.append(r.get("warning",!0)),this.balanceWarning.append(`You have ${a.warningDates.length} unbalanced flex date${1===a.warningDates.length?"":"s"} older than ${a.maxAgeDays} days!`),this.balanceWarning.style.display=a.warningDates.length>0?"":"none"),await this.model.getFavoritedDate()?null===(t=this.sheetContainer)||void 0===t||t.classList.add("tl-has-favorite"):null===(n=this.sheetContainer)||void 0===n||n.classList.remove("tl-has-favorite")}},new class{constructor(){this.submitting=!1,this.createUI(),this.clockInButtonFinder()}createUI(){const e=document.createElement("style");e.innerHTML="\n.re-label\n{\n    font-size: 1.5em;\n    margin-bottom: 10px;\n}\n.re-reason-select\n{\n    padding: 5px;\n}\n.re-reason-ui\n{\n    z-index: 2000;\n    position: fixed;\n    inset: 0;\n    background-color: rgba(0,0,0,0.75);\n    padding-top: 45vh;\n    text-align: center;\n    color: white;\n    font-weight: bold;\n}\n.re-btn\n{\n    padding: 0 var(--button-padding-x, 15px);\n    min-width: 80px;\n    height: var(--button-size, 30px);\n    font-weight: 600;\n    font-size: var(--button-font-size, 12px);\n    font-family: var(--body-font-family);\n    border: 0;\n    border-radius: 4px;\n    margin: 5px;\n}\n.re-btn.re-primary\n{\n    color: var(--primary-bg-text-color, white);\n    background-color: var(--primary-600);\n}\n.re-btn.re-secondary\n{\n    color: var(--secondary-bg-text-color, #535353);\n    background-color: var(--secondary-600);\n}\n.re-blur\n{\n    filter: blur(2px);\n}\n.re-submitting .re-btn\n{\n    display: none;\n}\n.re-submitting-text\n{\n    display: none;\n    font-size: 1.5em;\n}\n.re-submitting .re-submitting-text\n{\n    display: block;\n}\n",document.body.append(e),this.reasonEnhancementUI=document.createElement("div"),this.reasonEnhancementUI.className="re-reason-ui",this.reasonEnhancementUI.style.display="none",document.body.appendChild(this.reasonEnhancementUI);const t=document.createElement("div");t.innerText="Choose Default Reason",t.className="re-label",this.reasonEnhancementUI.appendChild(t),this.reasonSelect=document.createElement("select"),this.reasonSelect.className="re-reason-select",this.reasonSelect.onchange=()=>this.saveDefaultReasonValue(),this.reasonEnhancementUI.appendChild(this.reasonSelect),this.reasonEnhancementUI.appendChild(document.createElement("br"));const n=document.createElement("button");n.className="re-cancel-btn re-btn re-secondary",n.innerText="Cancel",n.onclick=()=>this.cancel(),this.reasonEnhancementUI.appendChild(n);const a=document.createElement("button");a.className="re-submit-btn re-btn re-primary",a.innerText="Submit",a.onclick=()=>this.submit(),this.reasonEnhancementUI.appendChild(a);const s=document.createElement("div");s.className="re-submitting-text",s.innerText="Submitting...",this.reasonEnhancementUI.appendChild(s)}async clockInButtonFinder(){for(var e;;)this.findUnenhancedButtons("b-button.punch-clock-button, b-button.time-widget-clock-in-btn, b-button.time-widget-clock-out-btn").forEach((e=>this.enhanceClockInButton(e,s.FixLatest))),this.findUnenhancedButtons("b-button.quick-fix-apply-button").forEach((e=>this.enhanceClockInButton(e,s.FixAll))),this.appRoot||(this.appRoot=null!==(e=document.querySelector("app-root"))&&void 0!==e?e:void 0),await a.for(10)}findUnenhancedButtons(e){var t=[],n=document.querySelectorAll(e);for(const e of n)e.classList.contains("re-enhanced")||(e.classList.add("re-enhanced"),t.push(e));return t}enhanceClockInButton(e,t){e.addEventListener("click",(()=>this.showReasonFixer(t)))}saveDefaultReasonValue(){this.reasonSelect&&window.localStorage.setItem("re-last-reason",this.reasonSelect.value)}loadDefaultReasonValue(){var e;this.reasonSelect&&(this.reasonSelect.value=null!==(e=window.localStorage.getItem("re-last-reason"))&&void 0!==e?e:"")}async showReasonFixer(e){if(this.reasonEnhancementUI&&(await a.for(250),this.setUIVisible(!0),this.mode=e,this.reasonSelect)){const e=await n.metadata();this.reasonSelect.innerHTML="";for(const t of e.timeLogEntryReason.values){const e=document.createElement("option");e.value=t.serverId,e.innerText=t.value,this.reasonSelect.appendChild(e)}this.loadDefaultReasonValue()}}cancel(){this.setUIVisible(!1)}setUIVisible(e){this.reasonEnhancementUI&&(this.reasonEnhancementUI.style.display=e?"block":"none"),this.appRoot&&(e?this.appRoot.classList.add("re-blur"):this.appRoot.classList.remove("re-blur"))}async submit(){var e,t;await a.until((()=>!this.submitting)),this.submitting=!0,null===(e=this.reasonEnhancementUI)||void 0===e||e.classList.add("re-submitting"),this.mode===s.FixAll&&await this.fixAll(),this.mode===s.FixLatest&&await this.fixLatest(),this.setUIVisible(!1),null===(t=this.reasonEnhancementUI)||void 0===t||t.classList.remove("re-submitting"),this.submitting=!1}async fixAll(){if(!this.reasonSelect)return;const e=this.reasonSelect.value,a=await n.sheets();for(const s of a.employeeSheets){if(s.locked)continue;const a=await n.attendance(s.id);for(const s of a.attendance)if(s.entries.some((e=>!e.reason))){const a=t.parse(s.date);if("number"!=typeof a)continue;const o=s.entries.map((n=>{var s,o,i,r;return{startHour:((null!==(s=t.parse(n.start))&&void 0!==s?s:Date.now())-a)/36e5,lengthHours:n.end?((null!==(o=t.parse(n.end))&&void 0!==o?o:Date.now())-(null!==(i=t.parse(n.start))&&void 0!==i?i:Date.now()))/36e5:null,reasonId:n.reason||e,comment:null!==(r=n.comment)&&void 0!==r?r:null}}));await n.submit(a,o)}}}async fixLatest(){if(!this.reasonSelect)return;const e=this.reasonSelect.value;let a=null;const s=await n.sheets();for(const e of s.employeeSheets){if(e.locked)continue;const s=await n.attendance(e.id);for(const e of s.attendance){const n=t.parse(e.date);if("number"==typeof n&&(!a||n>a.date)){const s=e.entries.map((e=>{var a,s,o,i;return{startHour:((null!==(a=t.parse(e.start))&&void 0!==a?a:Date.now())-n)/36e5,lengthHours:e.end?((null!==(s=t.parse(e.end))&&void 0!==s?s:Date.now())-(null!==(o=t.parse(e.start))&&void 0!==o?o:Date.now()))/36e5:null,reasonId:e.reason,comment:null!==(i=e.comment)&&void 0!==i?i:null}}));a={date:n,entries:s}}}}if(a){for(const t of a.entries)t.reasonId=t.reasonId||e;await n.submit(a.date,a.entries)}}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUlzUyxFQUNKLENBQ0ksSUFBSyxNQUFNMUosS0FBUzBKLEVBQU90UyxRQUV2QjRJLEVBQU16SSxTQUFXeUksRUFBTXpJLFVBQVlTLFFBRWpDYixFQUFNbUosT0FBT29KLEVBQU96VCxLQUFNeVQsRUFBT3RTLFEsQ0FFL0MsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2hpYm9iYXBpLy4vc3JjL1V0aWxzL0FwaS50cyIsIndlYnBhY2s6Ly9oaWJvYmFwaS8uL3NyYy9VdGlscy9EYXRlcy50cyIsIndlYnBhY2s6Ly9oaWJvYmFwaS8uL3NyYy9IaUJvYi9IaUJvYi50cyIsIndlYnBhY2s6Ly9oaWJvYmFwaS8uL3NyYy9VdGlscy9XYWl0LnRzIiwid2VicGFjazovL2hpYm9iYXBpLy4vc3JjL1JlYXNvbkVuaGFuY2VtZW50cy9SZWFzb25zRW5oYW5jZW1lbnRzLnRzIiwid2VicGFjazovL2hpYm9iYXBpLy4vc3JjL1RpbWVsb2cvVGltZWxvZ1R5cGVzLnRzIiwid2VicGFjazovL2hpYm9iYXBpLy4vc3JjL1V0aWxzL0V2ZW50SGFuZGxlci50cyIsIndlYnBhY2s6Ly9oaWJvYmFwaS8uL3NyYy9VdGlscy9NYXRlcmlhbEljb24udHMiLCJ3ZWJwYWNrOi8vaGlib2JhcGkvLi9zcmMvVXRpbHMvTnVtYmVycy50cyIsIndlYnBhY2s6Ly9oaWJvYmFwaS8uL3NyYy9UaW1lbG9nL1RpbWVsb2dNb2RlbC50cyIsIndlYnBhY2s6Ly9oaWJvYmFwaS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9oaWJvYmFwaS8uL3NyYy9UaW1lbG9nL1RpbWVsb2dVSS50cyIsIndlYnBhY2s6Ly9oaWJvYmFwaS8uL3NyYy9UaW1lbG9nL1RpbWVsb2dDc3MudHMiLCJ3ZWJwYWNrOi8vaGlib2JhcGkvLi9zcmMvUmVhc29uRW5oYW5jZW1lbnRzL1JlYXNvbkVuaGFuY2VtZW50c0Nzcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQXBpXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgeGhyKG1ldGhvZDogXCJHRVRcIiB8IFwiUE9TVFwiLCB1cmw6IHN0cmluZywgYm9keTogb2JqZWN0KVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx7IHN0YXR1czogbnVtYmVyLCBib2R5OiBhbnkgfT4ocmVzb2x2ZSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICB4aHIub3BlbihtZXRob2QsIHVybCk7XHJcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xyXG4gICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHhoci5yZXNwb25zZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgIT09IDIwMClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaGFzT3duUHJvcGVydHkoXCJlcnJvclwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcmVzdWx0Lmhhc093blByb3BlcnR5KFwia2V5XCIpID8gcmVzdWx0LmtleSA6IHhoci5zdGF0dXMudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGBIaUJvYiBVdGlsczogRXJyb3IgJHtrZXl9IC0gJHtyZXN1bHQuZXJyb3J9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChgSGlCb2IgVXRpbHM6IEVycm9yICR7eGhyLnN0YXR1c30gLSBjaGVjayB0aGUgZGV2ZWxvcGVyIGNvbnNvbGUgZm9yIG1vcmUgaW5mb3JtYXRpb24uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEhpQm9iIFV0aWxzOiBFcnJvciAke3hoci5zdGF0dXN9LmApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiByZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoYm9keSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIERhdGVzXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2Uoc3RyOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKCFzdHIpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IHNwbGl0ID0gc3RyLnNwbGl0KFwiVFwiKTtcclxuICAgICAgICBpZiAoc3BsaXQubGVuZ3RoIDwgMikgc3BsaXQucHVzaChcIjAwOjAwXCIpO1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShzcGxpdC5qb2luKFwiVFwiKSkuZ2V0VGltZSgpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBmb3JtYXQodGltZTogbnVtYmVyLCBpbmNsdWRlVGltZXN0YW1wOiBib29sZWFuKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghdGltZSkgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRpbWUpO1xyXG4gICAgICAgIHJldHVybiBgJHtkYXRlLmdldEZ1bGxZZWFyKCl9LSR7KGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfS0ke2RhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfSR7aW5jbHVkZVRpbWVzdGFtcCA/IGBUJHtkYXRlLmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7ZGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9YCA6IFwiXCJ9YDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZm9ybWF0SG91cihob3VyczogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGhvdXIgPSBNYXRoLmZsb29yKGhvdXJzICUgMjQpO1xyXG4gICAgICAgIGNvbnN0IG1pbnV0ZSA9IE1hdGgucm91bmQoKGhvdXJzIC0gaG91cikgKiA2MCk7XHJcbiAgICAgICAgcmV0dXJuIGAke2hvdXIudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7bWludXRlLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfWBcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0V2Vla051bWJlckZyb21EYXRlKHRpbWU6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWUpO1xyXG4gICAgICAgIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgLy8gVGh1cnNkYXkgaW4gY3VycmVudCB3ZWVrIGRlY2lkZXMgdGhlIHllYXIuXHJcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMyAtIChkYXRlLmdldERheSgpICsgNikgJSA3KTtcclxuICAgICAgICAvLyBKYW51YXJ5IDQgaXMgYWx3YXlzIGluIHdlZWsgMS5cclxuICAgICAgICB2YXIgd2VlazEgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIDAsIDQpO1xyXG4gICAgICAgIC8vIEFkanVzdCB0byBUaHVyc2RheSBpbiB3ZWVrIDEgYW5kIGNvdW50IG51bWJlciBvZiB3ZWVrcyBmcm9tIGRhdGUgdG8gd2VlazEuXHJcbiAgICAgICAgcmV0dXJuIDEgKyBNYXRoLnJvdW5kKCgoZGF0ZS5nZXRUaW1lKCkgLSB3ZWVrMS5nZXRUaW1lKCkpIC8gODY0MDAwMDBcclxuICAgICAgICAgICAgLSAzICsgKHdlZWsxLmdldERheSgpICsgNikgJSA3KSAvIDcpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZVRpbWVUb2hvdXJzKHRpbWU6IHN0cmluZylcclxuICAgIHtcclxuICAgICAgICBjb25zdCBzcGxpdCA9IHRpbWUuc3BsaXQoXCI6XCIpO1xyXG4gICAgICAgIHJldHVybiBwYXJzZUludChzcGxpdFswXSkgKyBwYXJzZUludChzcGxpdFsxXSkgLyA2MDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwaSB9IGZyb20gXCIuLi9VdGlscy9BcGlcIjtcclxuaW1wb3J0IHsgRGF0ZXMgfSBmcm9tIFwiLi4vVXRpbHMvRGF0ZXNcIjtcclxuaW1wb3J0IHsgSGlCb2JBdHRlbmRhbmNlLCBIaUJvYk1ldGFkYXRhLCBIaUJvYlNoZWV0cywgSGlCb2JTdWJtaXRFbnRyeSwgSGlCb2JVc2VyIH0gZnJvbSBcIi4vSGlCb2JUeXBlc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhpQm9iXHJcbntcclxuICAgIHByaXZhdGUgc3RhdGljIHVzZXJJZDogc3RyaW5nIHwgbnVsbDtcclxuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgc3VibWl0KGRhdGU6IG51bWJlciwgZW50cmllczogSGlCb2JTdWJtaXRFbnRyeVtdKTogUHJvbWlzZTxib29sZWFuPlxyXG4gICAge1xyXG4gICAgICAgIGlmIChlbnRyaWVzLnNvbWUoZSA9PiAhZS5yZWFzb25JZCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIldBUk5JTkc6IFNPTUUgRU5UUklFUyBIQVZFIE5PIFJFQVNPTiBTRVQgLSBOT1QgU1VCTUlUVElORyEhXCIsIGRhdGUsIGVudHJpZXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBlbnRyaWVzLm1hcChlID0+IHsgcmV0dXJuIHsgc3RhcnQ6IERhdGVzLmZvcm1hdChkYXRlICsgZS5zdGFydEhvdXIgKiAzNjAwICogMTAwMCwgdHJ1ZSksIGVuZDogZS5sZW5ndGhIb3VycyA/IERhdGVzLmZvcm1hdChkYXRlICsgKGUuc3RhcnRIb3VyICsgZS5sZW5ndGhIb3VycykgKiAzNjAwICogMTAwMCwgdHJ1ZSkgOiB1bmRlZmluZWQsIHJlYXNvbjogZS5yZWFzb25JZCwgY29tbWVudDogZS5jb21tZW50ID8/IHVuZGVmaW5lZCB9IH0pO1xyXG4gICAgICAgIGNvbnN0IGRhdGVTdHIgPSBEYXRlcy5mb3JtYXQoZGF0ZSwgZmFsc2UpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IGF3YWl0IHRoaXMuZ2V0VXNlcklkKCk7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQXBpLnhocihcIlBPU1RcIiwgYGh0dHBzOi8vYXBwLmhpYm9iLmNvbS9hcGkvYXR0ZW5kYW5jZS9lbXBsb3llZXMvJHt1c2VySWR9L2F0dGVuZGFuY2UvZW50cmllcz9mb3JEYXRlPSR7ZGF0ZVN0cn1gLCBkYXRhKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0LnN0YXR1cyA9PT0gMjAwO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyB0aW1lbG9nUmVhc29ucygpOiBQcm9taXNlPHsgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nIH1bXT5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IHRoaXMubWV0YWRhdGEoKTtcclxuICAgICAgICByZXR1cm4gbWV0YWRhdGEudGltZUxvZ0VudHJ5UmVhc29uLnZhbHVlcy5tYXAodiA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlkOiB2LnNlcnZlcklkLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogdi52YWx1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIGF0dGVuZGFuY2Uoc2hlZXQ6IG51bWJlcik6IFByb21pc2U8SGlCb2JBdHRlbmRhbmNlPlxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEFwaS54aHIoXCJHRVRcIiwgYGh0dHBzOi8vYXBwLmhpYm9iLmNvbS9hcGkvZW1wbG95ZWVzL2F0dGVuZGFuY2UvbXkvc2hlZXRzLyR7c2hlZXR9YCwge30pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQuYm9keTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgc2hlZXRzKCk6IFByb21pc2U8SGlCb2JTaGVldHM+XHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gYXdhaXQgdGhpcy5nZXRVc2VySWQoKTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBBcGkueGhyKFwiR0VUXCIsIGBodHRwczovL2FwcC5oaWJvYi5jb20vYXBpL2VtcGxveWVlcy8ke3VzZXJJZH0vdGltZWxvZy9hdHRlbmRhbmNlL3NoZWV0c2AsIHt9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0LmJvZHk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIG1ldGFkYXRhKCk6IFByb21pc2U8SGlCb2JNZXRhZGF0YT5cclxuICAgIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBBcGkueGhyKFwiR0VUXCIsIFwiaHR0cHM6Ly9hcHAuaGlib2IuY29tL2FwaS9jb21wYW55L21ldGFkYXRhL2xpc3RzLz9pbmNsdWRlQXJjaGl2ZWQ9dHJ1ZVwiLCB7fSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5ib2R5O1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgZ2V0VXNlcklkKCk6IFByb21pc2U8c3RyaW5nPlxyXG4gICAge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy51c2VySWQgIT09IFwic3RyaW5nXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVzZXJJbmZvKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnVzZXJJZCA/PyBcIlwiO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyB1c2VySW5mbygpOiBQcm9taXNlPEhpQm9iVXNlcj5cclxuICAgIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBBcGkueGhyKFwiR0VUXCIsIFwiaHR0cHM6Ly9hcHAuaGlib2IuY29tL2FwaS91c2VyXCIsIHt9KTtcclxuICAgICAgICB0aGlzLnVzZXJJZCA9IChyZXN1bHQuYm9keSBhcyBIaUJvYlVzZXIpLmlkO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQuYm9keTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBXYWl0XHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgZm9yKG1zOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+XHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoKSwgbXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyB1bnRpbChkZWxlZ2F0ZTogKCkgPT4gYm9vbGVhbilcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgaGFuZGxlID0gd2luZG93LnNldEludGVydmFsKCgpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZSgpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChoYW5kbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEhpQm9iIH0gZnJvbSBcIi4uL0hpQm9iL0hpQm9iXCI7XHJcbmltcG9ydCB7IEhpQm9iU3VibWl0RW50cnkgfSBmcm9tIFwiLi4vSGlCb2IvSGlCb2JUeXBlc1wiO1xyXG5pbXBvcnQgeyBEYXRlcyB9IGZyb20gXCIuLi9VdGlscy9EYXRlc1wiO1xyXG5pbXBvcnQgeyBXYWl0IH0gZnJvbSBcIi4uL1V0aWxzL1dhaXRcIjtcclxuaW1wb3J0IHsgUmVhc29uRW5oYW5jZW1lbnRDc3MgfSBmcm9tIFwiLi9SZWFzb25FbmhhbmNlbWVudHNDc3NcIjtcclxuXHJcbmV4cG9ydCBlbnVtIFJlYXNvbkVuaGFuY2VtZW50TW9kZVxyXG57XHJcbiAgICBGaXhBbGwsXHJcbiAgICBGaXhMYXRlc3QsXHJcbn1cclxuZXhwb3J0IGNsYXNzIFJlYXNvbkVuaGFuY2VtZW50c1xyXG57XHJcbiAgICBwcml2YXRlIHJlYXNvbkVuaGFuY2VtZW50VUk/OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIHByaXZhdGUgcmVhc29uU2VsZWN0PzogSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGFwcFJvb3Q/OiBFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBzdWJtaXR0aW5nID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBtb2RlPzogUmVhc29uRW5oYW5jZW1lbnRNb2RlO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVVSSgpO1xyXG4gICAgICAgIHRoaXMuY2xvY2tJbkJ1dHRvbkZpbmRlcigpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjcmVhdGVVSSgpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcbiAgICAgICAgc3R5bGUuaW5uZXJIVE1MID0gUmVhc29uRW5oYW5jZW1lbnRDc3M7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQoc3R5bGUpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5yZWFzb25FbmhhbmNlbWVudFVJID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLnJlYXNvbkVuaGFuY2VtZW50VUkuY2xhc3NOYW1lID0gXCJyZS1yZWFzb24tdWlcIjtcclxuICAgICAgICB0aGlzLnJlYXNvbkVuaGFuY2VtZW50VUkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZWFzb25FbmhhbmNlbWVudFVJKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGxhYmVsLmlubmVyVGV4dCA9IFwiQ2hvb3NlIERlZmF1bHQgUmVhc29uXCI7XHJcbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gXCJyZS1sYWJlbFwiO1xyXG4gICAgICAgIHRoaXMucmVhc29uRW5oYW5jZW1lbnRVSS5hcHBlbmRDaGlsZChsYWJlbCk7XHJcblxyXG4gICAgICAgIHRoaXMucmVhc29uU2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICAgICAgICB0aGlzLnJlYXNvblNlbGVjdC5jbGFzc05hbWUgPSBcInJlLXJlYXNvbi1zZWxlY3RcIjtcclxuICAgICAgICB0aGlzLnJlYXNvblNlbGVjdC5vbmNoYW5nZSA9ICgpID0+IHRoaXMuc2F2ZURlZmF1bHRSZWFzb25WYWx1ZSgpO1xyXG4gICAgICAgIHRoaXMucmVhc29uRW5oYW5jZW1lbnRVSS5hcHBlbmRDaGlsZCh0aGlzLnJlYXNvblNlbGVjdCk7XHJcblxyXG4gICAgICAgIHRoaXMucmVhc29uRW5oYW5jZW1lbnRVSS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xyXG5cclxuICAgICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIGNhbmNlbEJ1dHRvbi5jbGFzc05hbWUgPSBcInJlLWNhbmNlbC1idG4gcmUtYnRuIHJlLXNlY29uZGFyeVwiO1xyXG4gICAgICAgIGNhbmNlbEJ1dHRvbi5pbm5lclRleHQgPSBcIkNhbmNlbFwiXHJcbiAgICAgICAgY2FuY2VsQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmNhbmNlbCgpO1xyXG4gICAgICAgIHRoaXMucmVhc29uRW5oYW5jZW1lbnRVSS5hcHBlbmRDaGlsZChjYW5jZWxCdXR0b24pO1xyXG5cclxuICAgICAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5jbGFzc05hbWUgPSBcInJlLXN1Ym1pdC1idG4gcmUtYnRuIHJlLXByaW1hcnlcIjtcclxuICAgICAgICBzdWJtaXRCdXR0b24uaW5uZXJUZXh0ID0gXCJTdWJtaXRcIlxyXG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy5zdWJtaXQoKTtcclxuICAgICAgICB0aGlzLnJlYXNvbkVuaGFuY2VtZW50VUkuYXBwZW5kQ2hpbGQoc3VibWl0QnV0dG9uKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IHN1Ym1pdHRpbmdUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBzdWJtaXR0aW5nVGV4dC5jbGFzc05hbWUgPSBcInJlLXN1Ym1pdHRpbmctdGV4dFwiO1xyXG4gICAgICAgIHN1Ym1pdHRpbmdUZXh0LmlubmVyVGV4dCA9IFwiU3VibWl0dGluZy4uLlwiXHJcbiAgICAgICAgdGhpcy5yZWFzb25FbmhhbmNlbWVudFVJLmFwcGVuZENoaWxkKHN1Ym1pdHRpbmdUZXh0KTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgYXN5bmMgY2xvY2tJbkJ1dHRvbkZpbmRlcigpXHJcbiAgICB7XHJcbiAgICAgICAgd2hpbGUgKHRydWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgY2xvY2tJbkJ1dHRvbnMgPSB0aGlzLmZpbmRVbmVuaGFuY2VkQnV0dG9ucyhcImItYnV0dG9uLnB1bmNoLWNsb2NrLWJ1dHRvbiwgYi1idXR0b24udGltZS13aWRnZXQtY2xvY2staW4tYnRuLCBiLWJ1dHRvbi50aW1lLXdpZGdldC1jbG9jay1vdXQtYnRuXCIpO1xyXG4gICAgICAgICAgICBjbG9ja0luQnV0dG9ucy5mb3JFYWNoKGUgPT4gdGhpcy5lbmhhbmNlQ2xvY2tJbkJ1dHRvbihlLCBSZWFzb25FbmhhbmNlbWVudE1vZGUuRml4TGF0ZXN0KSk7XHJcbiAgICAgICAgICAgIHZhciBxdWlja0ZpeEJ1dHRvbiA9IHRoaXMuZmluZFVuZW5oYW5jZWRCdXR0b25zKFwiYi1idXR0b24ucXVpY2stZml4LWFwcGx5LWJ1dHRvblwiKTtcclxuICAgICAgICAgICAgcXVpY2tGaXhCdXR0b24uZm9yRWFjaChlID0+IHRoaXMuZW5oYW5jZUNsb2NrSW5CdXR0b24oZSwgUmVhc29uRW5oYW5jZW1lbnRNb2RlLkZpeEFsbCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLmFwcFJvb3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwUm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJhcHAtcm9vdFwiKSA/PyB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXdhaXQgV2FpdC5mb3IoMTApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgZmluZFVuZW5oYW5jZWRCdXR0b25zKHNlbGVjdG9yOiBzdHJpbmcpOiBFbGVtZW50W11cclxuICAgIHtcclxuICAgICAgICB2YXIgYXJyID0gW10gYXMgRWxlbWVudFtdO1xyXG4gICAgICAgIHZhciBxdWVyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBxdWVyeSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICghZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJyZS1lbmhhbmNlZFwiKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicmUtZW5oYW5jZWRcIik7XHJcbiAgICAgICAgICAgICAgICBhcnIucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZW5oYW5jZUNsb2NrSW5CdXR0b24oYnV0dG9uOiBFbGVtZW50LCBtb2RlOiBSZWFzb25FbmhhbmNlbWVudE1vZGUpXHJcbiAgICB7XHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLnNob3dSZWFzb25GaXhlcihtb2RlKSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHNhdmVEZWZhdWx0UmVhc29uVmFsdWUoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghdGhpcy5yZWFzb25TZWxlY3QpIHJldHVybjtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJyZS1sYXN0LXJlYXNvblwiLCB0aGlzLnJlYXNvblNlbGVjdC52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGxvYWREZWZhdWx0UmVhc29uVmFsdWUoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghdGhpcy5yZWFzb25TZWxlY3QpIHJldHVybjtcclxuICAgICAgICB0aGlzLnJlYXNvblNlbGVjdC52YWx1ZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInJlLWxhc3QtcmVhc29uXCIpID8/IFwiXCI7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGFzeW5jIHNob3dSZWFzb25GaXhlcihtb2RlOiBSZWFzb25FbmhhbmNlbWVudE1vZGUpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJlYXNvbkVuaGFuY2VtZW50VUkpIHJldHVybjtcclxuICAgICAgICBhd2FpdCBXYWl0LmZvcigyNTApO1xyXG4gICAgICAgIHRoaXMuc2V0VUlWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XHJcbiAgICAgICAgaWYgKHRoaXMucmVhc29uU2VsZWN0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcmVhc29ucyA9IGF3YWl0IEhpQm9iLm1ldGFkYXRhKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVhc29uU2VsZWN0LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhc29uIG9mIHJlYXNvbnMudGltZUxvZ0VudHJ5UmVhc29uLnZhbHVlcylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IHJlYXNvbi5zZXJ2ZXJJZDtcclxuICAgICAgICAgICAgICAgIG9wdGlvbi5pbm5lclRleHQgPSByZWFzb24udmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXNvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubG9hZERlZmF1bHRSZWFzb25WYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgY2FuY2VsKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnNldFVJVmlzaWJsZShmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHNldFVJVmlzaWJsZSh2YWx1ZTogYm9vbGVhbilcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5yZWFzb25FbmhhbmNlbWVudFVJKVxyXG4gICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkgdGhpcy5yZWFzb25FbmhhbmNlbWVudFVJLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgIGVsc2UgdGhpcy5yZWFzb25FbmhhbmNlbWVudFVJLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYXBwUm9vdClcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHRoaXMuYXBwUm9vdC5jbGFzc0xpc3QuYWRkKFwicmUtYmx1clwiKTtcclxuICAgICAgICAgICAgZWxzZSB0aGlzLmFwcFJvb3QuY2xhc3NMaXN0LnJlbW92ZShcInJlLWJsdXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBhc3luYyBzdWJtaXQoKVxyXG4gICAge1xyXG4gICAgICAgIGF3YWl0IFdhaXQudW50aWwoKCkgPT4gIXRoaXMuc3VibWl0dGluZyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3VibWl0dGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZWFzb25FbmhhbmNlbWVudFVJPy5jbGFzc0xpc3QuYWRkKFwicmUtc3VibWl0dGluZ1wiKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gUmVhc29uRW5oYW5jZW1lbnRNb2RlLkZpeEFsbCkgYXdhaXQgdGhpcy5maXhBbGwoKTtcclxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSBSZWFzb25FbmhhbmNlbWVudE1vZGUuRml4TGF0ZXN0KSBhd2FpdCB0aGlzLmZpeExhdGVzdCgpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVJVmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5yZWFzb25FbmhhbmNlbWVudFVJPy5jbGFzc0xpc3QucmVtb3ZlKFwicmUtc3VibWl0dGluZ1wiKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGFzeW5jIGZpeEFsbCgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJlYXNvblNlbGVjdCkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IHJlYXNvbiA9IHRoaXMucmVhc29uU2VsZWN0LnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IHNoZWV0cyA9IGF3YWl0IEhpQm9iLnNoZWV0cygpO1xyXG4gICAgICAgIGZvciAoY29uc3Qgc2hlZXQgb2Ygc2hlZXRzLmVtcGxveWVlU2hlZXRzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHNoZWV0LmxvY2tlZCkgY29udGludWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGF0dGVuZGFuY2UgPSBhd2FpdCBIaUJvYi5hdHRlbmRhbmNlKHNoZWV0LmlkKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBkYXRlIG9mIGF0dGVuZGFuY2UuYXR0ZW5kYW5jZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGUuZW50cmllcy5zb21lKGUgPT4gIWUucmVhc29uKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lID0gRGF0ZXMucGFyc2UoZGF0ZS5kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRpbWUgIT09IFwibnVtYmVyXCIpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJpZXM6IEhpQm9iU3VibWl0RW50cnlbXSA9IGRhdGUuZW50cmllcy5tYXAoZSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0SG91cjogKChEYXRlcy5wYXJzZShlLnN0YXJ0KSA/PyBEYXRlLm5vdygpKSAtIHRpbWUpIC8gKDM2MDAgKiAxMDAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aEhvdXJzOiBlLmVuZCA/ICgoRGF0ZXMucGFyc2UoZS5lbmQpID8/IERhdGUubm93KCkpIC0gKERhdGVzLnBhcnNlKGUuc3RhcnQpID8/IERhdGUubm93KCkpKSAvICgzNjAwICogMTAwMCkgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uSWQ6IGUucmVhc29uIHx8IHJlYXNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQ6IGUuY29tbWVudCA/PyBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgSGlCb2Iuc3VibWl0KHRpbWUsIGVudHJpZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBhc3luYyBmaXhMYXRlc3QoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghdGhpcy5yZWFzb25TZWxlY3QpIHJldHVybjtcclxuICAgICAgICBjb25zdCByZWFzb24gPSB0aGlzLnJlYXNvblNlbGVjdC52YWx1ZTtcclxuICAgICAgICBsZXQgbGF0ZXN0OiB7IGRhdGU6IG51bWJlciwgZW50cmllczogSGlCb2JTdWJtaXRFbnRyeVtdIH0gfCBudWxsID0gbnVsbDtcclxuICAgICAgICBjb25zdCBzaGVldHMgPSBhd2FpdCBIaUJvYi5zaGVldHMoKTtcclxuICAgICAgICBmb3IgKGNvbnN0IHNoZWV0IG9mIHNoZWV0cy5lbXBsb3llZVNoZWV0cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChzaGVldC5sb2NrZWQpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBjb25zdCBhdHRlbmRhbmNlID0gYXdhaXQgSGlCb2IuYXR0ZW5kYW5jZShzaGVldC5pZCk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGF0ZSBvZiBhdHRlbmRhbmNlLmF0dGVuZGFuY2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBEYXRlcy5wYXJzZShkYXRlLmRhdGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lICE9PSBcIm51bWJlclwiKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGlmICghbGF0ZXN0IHx8IHRpbWUgPiBsYXRlc3QuZGF0ZSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRyaWVzOiBIaUJvYlN1Ym1pdEVudHJ5W10gPSBkYXRlLmVudHJpZXMubWFwKGUgPT5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEhvdXI6ICgoRGF0ZXMucGFyc2UoZS5zdGFydCkgPz8gRGF0ZS5ub3coKSkgLSB0aW1lKSAvICgzNjAwICogMTAwMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGhIb3VyczogZS5lbmQgPyAoKERhdGVzLnBhcnNlKGUuZW5kKSA/PyBEYXRlLm5vdygpKSAtIChEYXRlcy5wYXJzZShlLnN0YXJ0KSA/PyBEYXRlLm5vdygpKSkgLyAoMzYwMCAqIDEwMDApIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbklkOiBlLnJlYXNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQ6IGUuY29tbWVudCA/PyBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF0ZXN0ID0geyBkYXRlOiB0aW1lLCBlbnRyaWVzOiBlbnRyaWVzIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxhdGVzdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgbGF0ZXN0LmVudHJpZXMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVudHJ5LnJlYXNvbklkID0gZW50cnkucmVhc29uSWQgfHwgcmVhc29uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IEhpQm9iLnN1Ym1pdChsYXRlc3QuZGF0ZSwgbGF0ZXN0LmVudHJpZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBpbnRlcmZhY2UgVGltZWxvZ0VudHJ5XHJcbntcclxuICAgIHN0YXJ0SG91cjogbnVtYmVyLFxyXG4gICAgbGVuZ3RoSG91cnM6IG51bWJlcixcclxuICAgIHJlYXNvbklkOiBzdHJpbmcsXHJcbiAgICBjb21tZW50OiBzdHJpbmcgfCBudWxsLFxyXG4gICAgaGFzQ29tbWVudDogYm9vbGVhblxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgVGltZWxvZ0RhdGVcclxue1xyXG4gICAgZGlydHk6IGJvb2xlYW4sXHJcbiAgICBkYXRlOiBudW1iZXJcclxuICAgIGVudHJpZXM6IFRpbWVsb2dFbnRyeVtdLFxyXG4gICAgd2Vla2VuZDogYm9vbGVhbixcclxuICAgIGZhdm9yaXRlZDogYm9vbGVhbixcclxuICAgIGRhdGVEZXNjcmlwdGlvbj86IHN0cmluZ1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgVGltZWxvZ1NoZWV0XHJcbntcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBzdGF0dXM6IHN0cmluZyxcclxuICAgIHN0YXJ0OiBudW1iZXIsXHJcbiAgICBlbmQ6IG51bWJlclxyXG4gICAgZGF0ZXM6IFRpbWVsb2dEYXRlW10sXHJcbiAgICBsb2NrZWQ6IGJvb2xlYW4sXHJcbiAgICBob3Vyc1BlckRheTogbnVtYmVyXHJcbn1cclxuZXhwb3J0IGVudW0gVGltZWxvZ1NhdmVTdGF0dXNcclxue1xyXG4gICAgV2FpdGluZyxcclxuICAgIFNhdmluZyxcclxuICAgIFNhdmVkLFxyXG4gICAgRXJyb3JcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVMb2dGYXZvcml0ZWREYXRlXHJcbntcclxuICAgIGRhdGU6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVsb2dVSURhdGUgXHJcbntcclxuICAgIGRhdGU6IFRpbWVsb2dEYXRlLFxyXG4gICAgcGFyZW50OiBIVE1MRGl2RWxlbWVudCxcclxuICAgIHRpdGxlOiBIVE1MU3BhbkVsZW1lbnQsXHJcbiAgICBlbnRyaWVzOiBUaW1lbG9nVUlFbnRyeUNvbnRhaW5lcltdLFxyXG4gICAgc3VtSG91cnM/OiBIVE1MU3BhbkVsZW1lbnQsXHJcbiAgICBzdGFyQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIHBhc3RlQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIHdlZWtlbmREZXNjcmlwdGlvbjogSFRNTERpdkVsZW1lbnRcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVsb2dVSUVudHJ5Q29udGFpbmVyXHJcbntcclxuICAgIGVudHJ5OiBUaW1lbG9nRW50cnksXHJcbiAgICBwYXJlbnQ6IEhUTUxEaXZFbGVtZW50LFxyXG4gICAgc3RhcnRIb3VyOiBIVE1MSW5wdXRFbGVtZW50LFxyXG4gICAgbGVuZ3RoOiBIVE1MSW5wdXRFbGVtZW50LFxyXG4gICAgcmVhc29uOiBIVE1MU2VsZWN0RWxlbWVudCxcclxuICAgIGVuZEhvdXI6IEhUTUxJbnB1dEVsZW1lbnQsXHJcbiAgICBjb21tZW50OiBIVE1MSW5wdXRFbGVtZW50LFxyXG4gICAgY29tbWVudEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcbiAgICBub1JlYXNvbldhcm5pbmc6IEhUTUxEaXZFbGVtZW50XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBUaW1lbG9nVUlXZWVrU3VtXHJcbntcclxuICAgIGRhdGVzOiBUaW1lbG9nVUlEYXRlW10sXHJcbiAgICBlbGVtZW50OiBIVE1MRGl2RWxlbWVudFxyXG59IiwiZXhwb3J0IGNsYXNzIEV2ZW50SGFuZGxlcjxUPlxyXG57XHJcbiAgICBwcml2YXRlIGhhbmRsZXJzOiB7IGhhbmRsZXI6ICh2YWw6IFQpID0+IHZvaWQsIGNvbnRleHQ6IGFueSB9W10gPSBbXTtcclxuICAgIHB1YmxpYyBvbihoYW5kbGVyOiAodmFsOiBUKSA9PiB2b2lkLCBjb250ZXh0OiBhbnkpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVycy5wdXNoKHsgaGFuZGxlciwgY29udGV4dCB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBvZmYoaGFuZGxlcjogKHZhbDogVCkgPT4gdm9pZCwgY29udGV4dDogYW55KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmZpbHRlcihoID0+IGguaGFuZGxlciAhPT0gaGFuZGxlciB8fCBoLmNvbnRleHQgIT09IGNvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGZpcmUodmFsOiBUKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMuZm9yRWFjaChoID0+IGguaGFuZGxlci5jYWxsKGguY29udGV4dCwgdmFsKSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgTWF0ZXJpYWxJY29uXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgaW5pdGlhbGl6ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG4gICAgICAgIGxpbmsuaHJlZiA9IFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1NYXRlcmlhbCtTeW1ib2xzK091dGxpbmVkOm9wc3osd2dodCxGSUxMLEdSQURAMjAuLjQ4LDEwMC4uNzAwLDAuLjEsLTUwLi4yMDBcIjtcclxuICAgICAgICBsaW5rLnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldChpY29uOiBzdHJpbmcsIGZpbGw6IGJvb2xlYW4gPSBmYWxzZSlcclxuICAgIHtcclxuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBgbWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZGA7XHJcbiAgICAgICAgc3Bhbi5pbm5lclRleHQgPSBpY29uO1xyXG4gICAgICAgIHNwYW4uc3R5bGUudmVydGljYWxBbGlnbiA9IFwibWlkZGxlXCI7XHJcbiAgICAgICAgc3Bhbi5zdHlsZS5mb250U2l6ZSA9IFwiMS41ZW1cIjtcclxuICAgICAgICBzcGFuLnN0eWxlLmZvbnRWYXJpYXRpb25TZXR0aW5ncyA9IGAnRklMTCcgJHtmaWxsID8gMSA6IDB9YDtcclxuICAgICAgICByZXR1cm4gc3BhbjtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBOdW1iZXJzXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgcm91bmQobnVtOiBudW1iZXIsIGRlY2ltYWxzOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobnVtICogKDEwICoqIGRlY2ltYWxzKSkgLyAoMTAgKiogZGVjaW1hbHMpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBmbG9vcihudW06IG51bWJlciwgZGVjaW1hbHM6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW0gKiAoMTAgKiogZGVjaW1hbHMpKSAvICgxMCAqKiBkZWNpbWFscyk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGNlaWwobnVtOiBudW1iZXIsIGRlY2ltYWxzOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW0gKiAoMTAgKiogZGVjaW1hbHMpKSAvICgxMCAqKiBkZWNpbWFscyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzdW0oYXJyOiBudW1iZXJbXSlcclxuICAgIHtcclxuICAgICAgICBsZXQgdmFsID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgdmFsICs9IGFycltpXTtcclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSGlCb2IgfSBmcm9tIFwiLi4vSGlCb2IvSGlCb2JcIjtcclxuaW1wb3J0IHsgSGlCb2JSZWFzb24gfSBmcm9tIFwiLi4vSGlCb2IvSGlCb2JUeXBlc1wiO1xyXG5pbXBvcnQgeyBEYXRlcyB9IGZyb20gXCIuLi9VdGlscy9EYXRlc1wiO1xyXG5pbXBvcnQgeyBFdmVudEhhbmRsZXIgfSBmcm9tIFwiLi4vVXRpbHMvRXZlbnRIYW5kbGVyXCI7XHJcbmltcG9ydCB7IE51bWJlcnMgfSBmcm9tIFwiLi4vVXRpbHMvTnVtYmVyc1wiO1xyXG5pbXBvcnQgeyBXYWl0IH0gZnJvbSBcIi4uL1V0aWxzL1dhaXRcIjtcclxuaW1wb3J0IHsgVGltZWxvZ1NoZWV0LCBUaW1lbG9nRGF0ZSwgVGltZWxvZ1NhdmVTdGF0dXMsIFRpbWVMb2dGYXZvcml0ZWREYXRlIH0gZnJvbSBcIi4vVGltZWxvZ1R5cGVzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGltZWxvZ01vZGVsXHJcbntcclxuICAgIHB1YmxpYyBzaGVldHM6IFRpbWVsb2dTaGVldFtdID0gW107XHJcbiAgICBwdWJsaWMgb25EYXRlVXBkYXRlZCA9IG5ldyBFdmVudEhhbmRsZXI8eyBzaGVldDogVGltZWxvZ1NoZWV0LCBkYXRlOiBUaW1lbG9nRGF0ZSB9PigpO1xyXG4gICAgcHVibGljIG9uUmVhc29uc1VwZGF0ZWQgPSBuZXcgRXZlbnRIYW5kbGVyPEhpQm9iUmVhc29uW10+KCk7XHJcbiAgICBwdWJsaWMgb25TaGVldFVwZGF0ZWQgPSBuZXcgRXZlbnRIYW5kbGVyPFRpbWVsb2dTaGVldD4oKTtcclxuICAgIHB1YmxpYyBvblNoZWV0c1VwZGF0ZWQgPSBuZXcgRXZlbnRIYW5kbGVyPFRpbWVsb2dTaGVldFtdPigpO1xyXG4gICAgcHVibGljIG9uU2F2ZVN0YXR1c1VwZGF0ZWQgPSBuZXcgRXZlbnRIYW5kbGVyPFRpbWVsb2dTYXZlU3RhdHVzPigpO1xyXG4gICAgcHJpdmF0ZSBzYXZlSGFuZGxlOiBudW1iZXIgPSAtMTtcclxuICAgIHByaXZhdGUgc2F2aW5nOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGNhbGN1bGF0aW5nRmxleDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBmZXRjaGluZ1NoZWV0cyA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSByZWFzb25zOiBIaUJvYlJlYXNvbltdID0gW107XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgfVxyXG4gICAgcHVibGljIGFzeW5jIGluaXRpYWxpemUoKVxyXG4gICAge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuZmV0Y2hTaGVldHMoKTtcclxuICAgICAgICBhd2FpdCB0aGlzLmZldGNoUmVhc29ucygpO1xyXG4gICAgICAgIHRoaXMub25TYXZlU3RhdHVzVXBkYXRlZC5maXJlKFRpbWVsb2dTYXZlU3RhdHVzLlNhdmVkKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBhc3luYyBmZXRjaFNoZWV0cygpXHJcbiAgICB7XHJcbiAgICAgICAgYXdhaXQgV2FpdC51bnRpbCgoKSA9PiAhdGhpcy5mZXRjaGluZ1NoZWV0cyk7XHJcbiAgICAgICAgdGhpcy5mZXRjaGluZ1NoZWV0cyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zaGVldHMgPSBbXTtcclxuICAgICAgICBjb25zdCBzaGVldHMgPSBhd2FpdCBIaUJvYi5zaGVldHMoKTtcclxuICAgICAgICBmb3IgKGNvbnN0IHNoZWV0IG9mIHNoZWV0cy5lbXBsb3llZVNoZWV0cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZXMucGFyc2Uoc2hlZXQuY3ljbGVTdGFydERhdGUpID8/IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IERhdGVzLnBhcnNlKHNoZWV0LmN5Y2xlRW5kRGF0ZSkgPz8gMDtcclxuICAgICAgICAgICAgY29uc3QgbmV3U2hlZXQgPSB7XHJcbiAgICAgICAgICAgICAgICBpZDogc2hlZXQuaWQsXHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHNoZWV0LnN0YXR1cyxcclxuICAgICAgICAgICAgICAgIHN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgZW5kLFxyXG4gICAgICAgICAgICAgICAgZGF0ZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgbG9ja2VkOiBzaGVldC5sb2NrZWQsXHJcbiAgICAgICAgICAgICAgICBob3Vyc1BlckRheTogMFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNoZWV0cy5wdXNoKG5ld1NoZWV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zaGVldHMuc29ydCgoYSwgYikgPT4gYi5zdGFydCAtIGEuc3RhcnQpO1xyXG4gICAgICAgIHRoaXMub25TaGVldHNVcGRhdGVkLmZpcmUodGhpcy5zaGVldHMpO1xyXG4gICAgICAgIHRoaXMuZmV0Y2hpbmdTaGVldHMgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBhc3luYyBmZXRjaFJlYXNvbnMoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucmVhc29ucyA9IChhd2FpdCBIaUJvYi5tZXRhZGF0YSgpKS50aW1lTG9nRW50cnlSZWFzb24udmFsdWVzO1xyXG4gICAgICAgIHRoaXMub25SZWFzb25zVXBkYXRlZC5maXJlKHRoaXMucmVhc29ucyk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgYXN5bmMgZmV0Y2hTaGVldChpZDogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNoZWV0ID0gdGhpcy5zaGVldHMuZmluZChzID0+IHMuaWQgPT09IGlkKTtcclxuICAgICAgICBpZiAoIXNoZWV0KSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgYXR0ZW5kYW5jZSA9IGF3YWl0IEhpQm9iLmF0dGVuZGFuY2UoaWQpO1xyXG4gICAgICAgIHNoZWV0LmhvdXJzUGVyRGF5ID0gYXR0ZW5kYW5jZS5zdW1tYXJ5LnBvdGVudGlhbFdvcmtpbmdIb3VycyAvIGF0dGVuZGFuY2Uuc3VtbWFyeS5wb3RlbnRpYWxXb3JraW5nRGF5cztcclxuICAgICAgICBzaGVldC5kYXRlcyA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3QgZGF0ZSBvZiBhdHRlbmRhbmNlLmF0dGVuZGFuY2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCB0aW1lID0gRGF0ZXMucGFyc2UoZGF0ZS5kYXRlKSA/PyBEYXRlLm5vdygpXHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlOiBUaW1lbG9nRGF0ZSA9IHtcclxuICAgICAgICAgICAgICAgIGRpcnR5OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRhdGU6IHRpbWUsXHJcbiAgICAgICAgICAgICAgICB3ZWVrZW5kOiBkYXRlLnN0YXR1cyA9PT0gXCJXZWVrZW5kRXZlbnRcIixcclxuICAgICAgICAgICAgICAgIGZhdm9yaXRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkYXRlRGVzY3JpcHRpb246IGRhdGUubm90ZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgIGVudHJpZXM6IGRhdGUuZW50cmllcy5tYXAoZSA9PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0SG91cjogTnVtYmVycy5mbG9vcigoKERhdGVzLnBhcnNlKGUuc3RhcnQpID8/IERhdGUubm93KCkpIC0gKERhdGVzLnBhcnNlKGRhdGUuZGF0ZSkgPz8gRGF0ZS5ub3coKSkpIC8gKDM2MDAgKiAxMDAwKSwgMiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aEhvdXJzOiBOdW1iZXJzLmNlaWwoKChEYXRlcy5wYXJzZShlLmVuZCkgPz8gRGF0ZS5ub3coKSkgLSAoRGF0ZXMucGFyc2UoZS5zdGFydCkgPz8gRGF0ZS5ub3coKSkpIC8gKDM2MDAgKiAxMDAwKSwgMiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbklkOiBlLnJlYXNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudDogZS5jb21tZW50ID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NvbW1lbnQ6ICEhZS5jb21tZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pLnNvcnQoKGEsIGIpID0+IGEuc3RhcnRIb3VyIC0gYi5zdGFydEhvdXIpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHNoZWV0LmRhdGVzLnB1c2godmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzaGVldC5kYXRlcy5zb3J0KChhLCBiKSA9PiBiLmRhdGUgLSBhLmRhdGUpO1xyXG4gICAgICAgIGNvbnN0IGZhdm9yaXRlID0gYXdhaXQgdGhpcy5nZXRGYXZvcml0ZWREYXRlKCk7XHJcbiAgICAgICAgaWYgKGZhdm9yaXRlICYmIGZhdm9yaXRlLnNoZWV0ID09PSBzaGVldClcclxuICAgICAgICAgICAgZmF2b3JpdGUuZGF0ZS5mYXZvcml0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub25TaGVldFVwZGF0ZWQuZmlyZShzaGVldCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZVN0YXJ0SG91cihkYXRlOiBUaW1lbG9nRGF0ZSwgaW5kZXg6IG51bWJlciwgaG91cjogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNoZWV0ID0gdGhpcy5zaGVldHMuZmluZChzID0+IHMuZGF0ZXMuc29tZShkID0+IGQgPT09IGRhdGUpKTtcclxuICAgICAgICBpZiAoIXNoZWV0KSByZXR1cm47XHJcbiAgICAgICAgZGF0ZS5lbnRyaWVzW2luZGV4XS5zdGFydEhvdXIgPSBob3VyO1xyXG4gICAgICAgIGRhdGUuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucXVldWVTYXZlKCk7XHJcbiAgICAgICAgdGhpcy5vbkRhdGVVcGRhdGVkLmZpcmUoeyBzaGVldCwgZGF0ZSB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBjaGFuZ2VMZW5ndGhIb3VycyhkYXRlOiBUaW1lbG9nRGF0ZSwgaW5kZXg6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgc2hlZXQgPSB0aGlzLnNoZWV0cy5maW5kKHMgPT4gcy5kYXRlcy5zb21lKGQgPT4gZCA9PT0gZGF0ZSkpO1xyXG4gICAgICAgIGlmICghc2hlZXQpIHJldHVybjtcclxuICAgICAgICBkYXRlLmVudHJpZXNbaW5kZXhdLmxlbmd0aEhvdXJzID0gbGVuZ3RoO1xyXG4gICAgICAgIGRhdGUuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucXVldWVTYXZlKCk7XHJcbiAgICAgICAgdGhpcy5vbkRhdGVVcGRhdGVkLmZpcmUoeyBzaGVldCwgZGF0ZSB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBjaGFuZ2VSZWFzb24oZGF0ZTogVGltZWxvZ0RhdGUsIGluZGV4OiBudW1iZXIsIHJlYXNvbjogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNoZWV0ID0gdGhpcy5zaGVldHMuZmluZChzID0+IHMuZGF0ZXMuc29tZShkID0+IGQgPT09IGRhdGUpKTtcclxuICAgICAgICBpZiAoIXNoZWV0KSByZXR1cm47XHJcbiAgICAgICAgZGF0ZS5lbnRyaWVzW2luZGV4XS5yZWFzb25JZCA9IHJlYXNvbjtcclxuICAgICAgICBkYXRlLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnF1ZXVlU2F2ZSgpO1xyXG4gICAgICAgIHRoaXMub25EYXRlVXBkYXRlZC5maXJlKHsgc2hlZXQsIGRhdGUgfSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgY2hhbmdlQ29tbWVudChkYXRlOiBUaW1lbG9nRGF0ZSwgaW5kZXg6IG51bWJlciwgY29tbWVudDogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNoZWV0ID0gdGhpcy5zaGVldHMuZmluZChzID0+IHMuZGF0ZXMuc29tZShkID0+IGQgPT09IGRhdGUpKTtcclxuICAgICAgICBpZiAoIXNoZWV0KSByZXR1cm47XHJcbiAgICAgICAgZGF0ZS5lbnRyaWVzW2luZGV4XS5jb21tZW50ID0gY29tbWVudDtcclxuICAgICAgICBkYXRlLmVudHJpZXNbaW5kZXhdLmhhc0NvbW1lbnQgPSB0cnVlO1xyXG4gICAgICAgIGRhdGUuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucXVldWVTYXZlKCk7XHJcbiAgICAgICAgdGhpcy5vbkRhdGVVcGRhdGVkLmZpcmUoeyBzaGVldCwgZGF0ZSB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyB0b2dnbGVDb21tZW50KGRhdGU6IFRpbWVsb2dEYXRlLCBpbmRleDogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNoZWV0ID0gdGhpcy5zaGVldHMuZmluZChzID0+IHMuZGF0ZXMuc29tZShkID0+IGQgPT09IGRhdGUpKTtcclxuICAgICAgICBpZiAoIXNoZWV0KSByZXR1cm47XHJcbiAgICAgICAgZGF0ZS5lbnRyaWVzW2luZGV4XS5oYXNDb21tZW50ID0gIWRhdGUuZW50cmllc1tpbmRleF0uaGFzQ29tbWVudDtcclxuICAgICAgICBkYXRlLmVudHJpZXNbaW5kZXhdLmNvbW1lbnQgPSBkYXRlLmVudHJpZXNbaW5kZXhdLmhhc0NvbW1lbnQgPyBcIlwiIDogbnVsbDtcclxuICAgICAgICBkYXRlLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnF1ZXVlU2F2ZSgpO1xyXG4gICAgICAgIHRoaXMub25EYXRlVXBkYXRlZC5maXJlKHsgc2hlZXQsIGRhdGUgfSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgYXN5bmMgc2V0RmF2b3JpdGVkRGF0ZShkYXRlOiBUaW1lbG9nRGF0ZSlcclxuICAgIHtcclxuICAgICAgICBjb25zdCBzaGVldCA9IHRoaXMuc2hlZXRzLmZpbmQocyA9PiBzLmRhdGVzLnNvbWUoZCA9PiBkID09PSBkYXRlKSk7XHJcbiAgICAgICAgaWYgKCFzaGVldCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBvbGRGYXZvcml0ZSA9IGF3YWl0IHRoaXMuZ2V0RmF2b3JpdGVkRGF0ZSgpO1xyXG4gICAgICAgIGlmIChvbGRGYXZvcml0ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9sZEZhdm9yaXRlLmRhdGUuZmF2b3JpdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMub25EYXRlVXBkYXRlZC5maXJlKG9sZEZhdm9yaXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRhdGUuZmF2b3JpdGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm9uRGF0ZVVwZGF0ZWQuZmlyZSh7IHNoZWV0OiBzaGVldCwgZGF0ZTogZGF0ZSB9KTtcclxuXHJcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGxfZmF2b3JpdGVcIiwgSlNPTi5zdHJpbmdpZnkoeyBkYXRlOiBEYXRlcy5mb3JtYXQoZGF0ZS5kYXRlLCBmYWxzZSkgfSBhcyBUaW1lTG9nRmF2b3JpdGVkRGF0ZSkpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGFzeW5jIGdldEZhdm9yaXRlZERhdGUoKTogUHJvbWlzZTx7IHNoZWV0OiBUaW1lbG9nU2hlZXQsIGRhdGU6IFRpbWVsb2dEYXRlIH0gfCBudWxsPlxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHN0ciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRsX2Zhdm9yaXRlXCIpO1xyXG4gICAgICAgIGlmICghc3RyKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBmYXZvcml0ZTogVGltZUxvZ0Zhdm9yaXRlZERhdGUgPSBKU09OLnBhcnNlKHN0cik7XHJcbiAgICAgICAgY29uc3QgdGltZSA9IERhdGVzLnBhcnNlKGZhdm9yaXRlLmRhdGUpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGltZSA9PT0gXCJudW1iZXJcIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoZWV0ID0gdGhpcy5zaGVldHMuZmluZChzID0+IHMuc3RhcnQgPD0gdGltZSAmJiBzLmVuZCA+PSB0aW1lKTtcclxuICAgICAgICAgICAgaWYgKHNoZWV0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hlZXQuZGF0ZXMubGVuZ3RoIDwgMSkgYXdhaXQgdGhpcy5mZXRjaFNoZWV0KHNoZWV0LmlkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBzaGVldC5kYXRlcy5maW5kKGQgPT4gZC5kYXRlID09PSB0aW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRlKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHNoZWV0OiBzaGVldCwgZGF0ZTogZGF0ZSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWxldGVFbnRyeShkYXRlOiBUaW1lbG9nRGF0ZSwgaW5kZXg6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBzaGVldCA9IHRoaXMuc2hlZXRzLmZpbmQocyA9PiBzLmRhdGVzLnNvbWUoZCA9PiBkID09PSBkYXRlKSk7XHJcbiAgICAgICAgaWYgKCFzaGVldCkgcmV0dXJuO1xyXG4gICAgICAgIGRhdGUuZW50cmllcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIGRhdGUuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucXVldWVTYXZlKCk7XHJcbiAgICAgICAgdGhpcy5vbkRhdGVVcGRhdGVkLmZpcmUoeyBzaGVldCwgZGF0ZSB9KTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgYXN5bmMgZmluZExhc3RFbnRyeShvcmlnaW5hbERhdGU6IFRpbWVsb2dEYXRlKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsU2hlZXQgPSB0aGlzLnNoZWV0cy5maW5kKHMgPT4gcy5kYXRlcy5zb21lKGQgPT4gZCA9PT0gb3JpZ2luYWxEYXRlKSk7XHJcbiAgICAgICAgaWYgKCFvcmlnaW5hbFNoZWV0KSByZXR1cm47XHJcbiAgICAgICAgbGV0IGRhdGVJbmRleCA9IG9yaWdpbmFsU2hlZXQuZGF0ZXMuaW5kZXhPZihvcmlnaW5hbERhdGUpO1xyXG4gICAgICAgIGxldCBlbnRyeUluZGV4ID0gLTE7XHJcbiAgICAgICAgZm9yIChsZXQgc2hlZXRJbmRleCA9IHRoaXMuc2hlZXRzLmluZGV4T2Yob3JpZ2luYWxTaGVldCk7IHNoZWV0SW5kZXggPCB0aGlzLnNoZWV0cy5sZW5ndGg7IHNoZWV0SW5kZXgrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoZWV0ID0gdGhpcy5zaGVldHNbc2hlZXRJbmRleF07XHJcbiAgICAgICAgICAgIGlmIChzaGVldC5kYXRlcy5sZW5ndGggPCAxKSBhd2FpdCB0aGlzLmZldGNoU2hlZXQoc2hlZXQuaWQpO1xyXG4gICAgICAgICAgICBmb3IgKDsgZGF0ZUluZGV4IDwgc2hlZXQuZGF0ZXMubGVuZ3RoOyBkYXRlSW5kZXgrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IHNoZWV0LmRhdGVzW2RhdGVJbmRleF07XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZS5lbnRyaWVzLmxlbmd0aCA+IDApIHJldHVybiBlbnRyeUluZGV4IDwgMCA/IGRhdGUuZW50cmllc1tkYXRlLmVudHJpZXMubGVuZ3RoIC0gMV0gOiBkYXRlLmVudHJpZXNbZW50cnlJbmRleF07XHJcbiAgICAgICAgICAgICAgICBlbnRyeUluZGV4ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkYXRlSW5kZXggPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBhc3luYyBuZXdFbnRyeShkYXRlOiBUaW1lbG9nRGF0ZSlcclxuICAgIHtcclxuICAgICAgICBjb25zdCBzaGVldCA9IHRoaXMuc2hlZXRzLmZpbmQocyA9PiBzLmRhdGVzLnNvbWUoZCA9PiBkID09PSBkYXRlKSk7XHJcbiAgICAgICAgaWYgKCFzaGVldCkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGxhc3QgPSBhd2FpdCB0aGlzLmZpbmRMYXN0RW50cnkoZGF0ZSk7XHJcbiAgICAgICAgbGV0IHN0YXJ0SG91ciA9IDguNTtcclxuICAgICAgICBsZXQgbGVuZ3RoSG91cnMgPSBOdW1iZXJzLnJvdW5kKHNoZWV0LmhvdXJzUGVyRGF5LCAyKTtcclxuICAgICAgICBsZXQgcmVhc29uSWQgPSBcIlwiO1xyXG4gICAgICAgIGlmIChsYXN0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKGRhdGUuZW50cmllcy5pbmNsdWRlcyhsYXN0KSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRIb3VyID0gbGFzdC5zdGFydEhvdXIgKyBsYXN0Lmxlbmd0aEhvdXJzO1xyXG4gICAgICAgICAgICAgICAgbGVuZ3RoSG91cnMgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlYXNvbklkID0gbGFzdC5yZWFzb25JZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGF0ZS5lbnRyaWVzLnB1c2goe1xyXG4gICAgICAgICAgICBzdGFydEhvdXIsXHJcbiAgICAgICAgICAgIGxlbmd0aEhvdXJzLFxyXG4gICAgICAgICAgICByZWFzb25JZCxcclxuICAgICAgICAgICAgY29tbWVudDogbnVsbCxcclxuICAgICAgICAgICAgaGFzQ29tbWVudDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBkYXRlLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnF1ZXVlU2F2ZSgpO1xyXG4gICAgICAgIHRoaXMub25EYXRlVXBkYXRlZC5maXJlKHsgc2hlZXQsIGRhdGUgfSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgYXN5bmMgcGFzdGVGcm9tU3RhcnJlZChkYXRlOiBUaW1lbG9nRGF0ZSlcclxuICAgIHtcclxuICAgICAgICBpZiAoZGF0ZS5lbnRyaWVzLmxlbmd0aCA+IDApIHJldHVybjtcclxuICAgICAgICBjb25zdCBzaGVldCA9IHRoaXMuc2hlZXRzLmZpbmQocyA9PiBzLmRhdGVzLnNvbWUoZCA9PiBkID09PSBkYXRlKSk7XHJcbiAgICAgICAgaWYgKCFzaGVldCkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGZhdm9yaXRlID0gYXdhaXQgdGhpcy5nZXRGYXZvcml0ZWREYXRlKCk7XHJcbiAgICAgICAgaWYgKCFmYXZvcml0ZSB8fCBmYXZvcml0ZS5kYXRlID09PSBkYXRlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZmF2b3JpdGUuZGF0ZS5lbnRyaWVzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZGF0ZS5lbnRyaWVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgc3RhcnRIb3VyOiBlbnRyeS5zdGFydEhvdXIsXHJcbiAgICAgICAgICAgICAgICBsZW5ndGhIb3VyczogZW50cnkubGVuZ3RoSG91cnMsXHJcbiAgICAgICAgICAgICAgICByZWFzb25JZDogZW50cnkucmVhc29uSWQsXHJcbiAgICAgICAgICAgICAgICBjb21tZW50OiBlbnRyeS5jb21tZW50LFxyXG4gICAgICAgICAgICAgICAgaGFzQ29tbWVudDogZW50cnkuaGFzQ29tbWVudFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGF0ZS5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5xdWV1ZVNhdmUoKTtcclxuICAgICAgICB0aGlzLm9uRGF0ZVVwZGF0ZWQuZmlyZSh7IHNoZWV0LCBkYXRlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBxdWV1ZVNhdmUoKVxyXG4gICAge1xyXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5zYXZlSGFuZGxlKTtcclxuICAgICAgICB0aGlzLnNhdmVIYW5kbGUgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLnNhdmUoKSwgNTAwKTtcclxuICAgICAgICB0aGlzLm9uU2F2ZVN0YXR1c1VwZGF0ZWQuZmlyZShUaW1lbG9nU2F2ZVN0YXR1cy5XYWl0aW5nKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBhc3luYyBzYXZlKClcclxuICAgIHtcclxuICAgICAgICBhd2FpdCBXYWl0LnVudGlsKCgpID0+ICF0aGlzLnNhdmluZyk7XHJcbiAgICAgICAgdGhpcy5zYXZpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub25TYXZlU3RhdHVzVXBkYXRlZC5maXJlKFRpbWVsb2dTYXZlU3RhdHVzLlNhdmluZyk7XHJcbiAgICAgICAgY29uc3QgbWluaW11bVdhaXQgPSBXYWl0LmZvcigxMDApO1xyXG4gICAgICAgIGxldCBlcnJvciA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAoY29uc3Qgc2hlZXQgb2YgdGhpcy5zaGVldHMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGUgb2Ygc2hlZXQuZGF0ZXMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRlLmRpcnR5KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEhpQm9iLnN1Ym1pdChkYXRlLmRhdGUsIGRhdGUuZW50cmllcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUuZGlydHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhd2FpdCBtaW5pbXVtV2FpdDtcclxuICAgICAgICB0aGlzLm9uU2F2ZVN0YXR1c1VwZGF0ZWQuZmlyZShlcnJvciA/IFRpbWVsb2dTYXZlU3RhdHVzLkVycm9yIDogVGltZWxvZ1NhdmVTdGF0dXMuU2F2ZWQpO1xyXG4gICAgICAgIHRoaXMuc2F2aW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0Q3VycmVudEJhbGFuY2VIb3VycygpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcHJldmlvdXNEYXlzSW5jbHVkZWQgPSA3ICogNDtcclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudERhdGVUaW1lID0gRGF0ZXMucGFyc2UoRGF0ZXMuZm9ybWF0KERhdGUubm93KCksIGZhbHNlKSkgPz8gMDtcclxuICAgICAgICBjb25zdCBwYXN0RGF0ZVRpbWUgPSBEYXRlcy5wYXJzZShEYXRlcy5mb3JtYXQoY3VycmVudERhdGVUaW1lIC0gKDEwMDAgKiA2MCAqIDYwICogMjQgKiAocHJldmlvdXNEYXlzSW5jbHVkZWQgLSAxKSksIGZhbHNlKSkgPz8gMDtcclxuXHJcbiAgICAgICAgY29uc3Qgc2hlZXRzOiBSZWNvcmQ8c3RyaW5nLCB7IGRhdGU6IG51bWJlciwgYmFsYW5jZTogbnVtYmVyLCByZW1haW5pbmdCYWxhbmNlOiBudW1iZXIgfVtdPiA9IHt9O1xyXG4gICAgICAgIGNvbnN0IGFsbERhdGVzOiB7IGRhdGU6IG51bWJlciwgYmFsYW5jZTogbnVtYmVyLCByZW1haW5pbmdCYWxhbmNlOiBudW1iZXIgfVtdID0gW107XHJcbiAgICAgICAgbGV0IGJhbGFuY2U6IG51bWJlciA9IDA7XHJcbiAgICAgICAgaWYgKCEhdGhpcy5zaGVldHMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBhd2FpdCBXYWl0LnVudGlsKCgpID0+ICF0aGlzLmNhbGN1bGF0aW5nRmxleCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRpbmdGbGV4ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vQ2FsY3VsYXRlIG9yaWdpbmFsIGJhbGFuY2VzXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnNoZWV0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hlZXQgPSB0aGlzLnNoZWV0c1tpXTtcclxuICAgICAgICAgICAgICAgIGlmICghc2hlZXQpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzaGVldEJhbGFuY2VzOiB7IGRhdGU6IG51bWJlciwgYmFsYW5jZTogbnVtYmVyIH1bXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGVLZXkgPSBgdGxfY2FjaGVkX2hvdXJfYmFsYW5jZXNfJHtzaGVldC5pZH1gO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoZWV0LmxvY2tlZCAmJiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oY2FjaGVLZXkpICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoZWV0QmFsYW5jZXMgPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShjYWNoZUtleSkgPz8gXCJbXVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hlZXQuZGF0ZXMubGVuZ3RoIDwgMSkgYXdhaXQgdGhpcy5mZXRjaFNoZWV0KHNoZWV0LmlkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hlZXQuZGF0ZXMuc29tZShkID0+IGQuZW50cmllcy5sZW5ndGggPiAwICYmIGQuZW50cmllcy5zb21lKGUgPT4gZS5sZW5ndGhIb3VycyA+IDApKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGF5IG9mIHNoZWV0LmRhdGVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3RlbnRpYWxIb3VycyA9IGRheS53ZWVrZW5kID8gMCA6IHNoZWV0LmhvdXJzUGVyRGF5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29ya2VkSG91cnMgPSBOdW1iZXJzLnN1bShkYXkuZW50cmllcy5tYXAoZSA9PiBlLmxlbmd0aEhvdXJzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWxhbmNlID0gd29ya2VkSG91cnMgLSBwb3RlbnRpYWxIb3VycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoZWV0QmFsYW5jZXMucHVzaCh7IGRhdGU6IGRheS5kYXRlLCBiYWxhbmNlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoZWV0LmxvY2tlZCAmJiBzaGVldC5pZCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oY2FjaGVLZXksIEpTT04uc3RyaW5naWZ5KHNoZWV0QmFsYW5jZXMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiYWxhbmNlICs9IE51bWJlcnMuc3VtKHNoZWV0QmFsYW5jZXMubWFwKGIgPT4gYi5iYWxhbmNlKSk7XHJcbiAgICAgICAgICAgICAgICBzaGVldHNbc2hlZXQuaWQudG9TdHJpbmcoKV0gPSBzaGVldEJhbGFuY2VzLm1hcChkID0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogZC5kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlU3RyaW5nOiBEYXRlcy5mb3JtYXQoZC5kYXRlLCBmYWxzZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhbGFuY2U6IGQuYmFsYW5jZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nQmFsYW5jZTogTnVtYmVycy5yb3VuZChkLmJhbGFuY2UsIDMpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkuc29ydCgoYSwgYikgPT4gYS5kYXRlIC0gYi5kYXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL0NhbGN1bGF0ZSByZW1haW5pbmcgYmFsYW5jZXMgLyBjYW5jZWxsZWQgb3V0IGJhbGFuY2VzXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnNoZWV0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hlZXQgPSBzaGVldHNbdGhpcy5zaGVldHNbaV0uaWRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoZWV0KSBhbGxEYXRlcy5wdXNoKC4uLnNoZWV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbERhdGVzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gYWxsRGF0ZXNbaV07XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGk7IGorKylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZS5yZW1haW5pbmdCYWxhbmNlID09PSAwKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2RGF0ZSA9IGFsbERhdGVzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IE1hdGgubWluKE1hdGguYWJzKGRhdGUucmVtYWluaW5nQmFsYW5jZSksIE1hdGguYWJzKHByZXZEYXRlLnJlbWFpbmluZ0JhbGFuY2UpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZS5yZW1haW5pbmdCYWxhbmNlIDwgMCAmJiBwcmV2RGF0ZS5yZW1haW5pbmdCYWxhbmNlID4gMClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZEYXRlLnJlbWFpbmluZ0JhbGFuY2UgLT0gYW1vdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlLnJlbWFpbmluZ0JhbGFuY2UgKz0gYW1vdW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRlLnJlbWFpbmluZ0JhbGFuY2UgPiAwICYmIHByZXZEYXRlLnJlbWFpbmluZ0JhbGFuY2UgPCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkRhdGUucmVtYWluaW5nQmFsYW5jZSArPSBhbW91bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUucmVtYWluaW5nQmFsYW5jZSAtPSBhbW91bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0aW5nRmxleCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBiYWxhbmNlLCBtYXhBZ2VEYXlzOiBwcmV2aW91c0RheXNJbmNsdWRlZCwgdW5iYWxhbmNlZERhdGVzOiBhbGxEYXRlcy5maWx0ZXIoZCA9PiBkLnJlbWFpbmluZ0JhbGFuY2UgIT09IDApLCB3YXJuaW5nRGF0ZXM6IGFsbERhdGVzLmZpbHRlcihkID0+IGQucmVtYWluaW5nQmFsYW5jZSAhPT0gMCAmJiBkLmRhdGUgPD0gcGFzdERhdGVUaW1lKSB9O1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IFJlYXNvbkVuaGFuY2VtZW50cyB9IGZyb20gXCIuL1JlYXNvbkVuaGFuY2VtZW50cy9SZWFzb25zRW5oYW5jZW1lbnRzXCI7XHJcbmltcG9ydCB7IFRpbWVsb2dVSSB9IGZyb20gXCIuL1RpbWVsb2cvVGltZWxvZ1VJXCI7XHJcbmltcG9ydCB7IE1hdGVyaWFsSWNvbiB9IGZyb20gXCIuL1V0aWxzL01hdGVyaWFsSWNvblwiO1xyXG5cclxuXHJcbk1hdGVyaWFsSWNvbi5pbml0aWFsaXplKCk7XHJcbm5ldyBUaW1lbG9nVUkoKTtcclxubmV3IFJlYXNvbkVuaGFuY2VtZW50cygpOyIsImltcG9ydCB7IEhpQm9iUmVhc29uIH0gZnJvbSBcIi4uL0hpQm9iL0hpQm9iVHlwZXNcIjtcclxuaW1wb3J0IHsgRGF0ZXMgfSBmcm9tIFwiLi4vVXRpbHMvRGF0ZXNcIjtcclxuaW1wb3J0IHsgRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4uL1V0aWxzL0V2ZW50SGFuZGxlclwiO1xyXG5pbXBvcnQgeyBNYXRlcmlhbEljb24gfSBmcm9tIFwiLi4vVXRpbHMvTWF0ZXJpYWxJY29uXCI7XHJcbmltcG9ydCB7IE51bWJlcnMgfSBmcm9tIFwiLi4vVXRpbHMvTnVtYmVyc1wiO1xyXG5pbXBvcnQgeyBXYWl0IH0gZnJvbSBcIi4uL1V0aWxzL1dhaXRcIjtcclxuaW1wb3J0IHsgVGltZWxvZ0NzcyB9IGZyb20gXCIuL1RpbWVsb2dDc3NcIjtcclxuaW1wb3J0IHsgVGltZWxvZ01vZGVsIH0gZnJvbSBcIi4vVGltZWxvZ01vZGVsXCI7XHJcbmltcG9ydCB7IFRpbWVsb2dEYXRlLCBUaW1lbG9nRW50cnksIFRpbWVsb2dTYXZlU3RhdHVzLCBUaW1lbG9nU2hlZXQsIFRpbWVsb2dVSURhdGUgYXMgVGltZWxvZ1VJRGF0ZUNvbnRhaW5lciwgVGltZWxvZ1VJV2Vla1N1bSB9IGZyb20gXCIuL1RpbWVsb2dUeXBlc1wiO1xyXG5cclxuZGVjbGFyZSB2YXIgSElCT0JfVVRJTFNfVkVSOiBzdHJpbmc7XHJcbmRlY2xhcmUgdmFyIEhJQk9CX1VUSUxTX0NIQU5HRUxPRzogeyB2ZXJzaW9uOiBzdHJpbmcsIHRleHQ6IHN0cmluZ1tdIH1bXTtcclxuXHJcbmV4cG9ydCBjbGFzcyBUaW1lbG9nVUlcclxue1xyXG4gICAgcHJpdmF0ZSB0aW1lbG9nVUlPdXRlcj86IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSB0aW1lbG9nVUlJbm5lcj86IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSB0b2dnbGVCdXR0b24/OiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIHByaXZhdGUgZGFya01vZGVCdXR0b24/OiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIHByaXZhdGUgbW9kZWw/OiBUaW1lbG9nTW9kZWw7XHJcblxyXG4gICAgcHJpdmF0ZSBzaGVldERyb3Bkb3duPzogSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHNoZWV0RHJvcGRvd25PcHRpb25zOiB7IHNoZWV0OiBUaW1lbG9nU2hlZXQsIGVsZW1lbnQ6IEhUTUxPcHRpb25FbGVtZW50IH1bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZFNoZWV0PzogVGltZWxvZ1NoZWV0O1xyXG5cclxuICAgIHByaXZhdGUgc2hlZXRDb250YWluZXI/OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIHByaXZhdGUgc2hlZXREYXRlczogVGltZWxvZ1VJRGF0ZUNvbnRhaW5lcltdID0gW107XHJcbiAgICBwcml2YXRlIHdlZWtTdW1zOiBUaW1lbG9nVUlXZWVrU3VtW10gPSBbXTtcclxuICAgIHByaXZhdGUgc2F2ZVN0YXR1cz86IEhUTUxTcGFuRWxlbWVudDtcclxuICAgIHByaXZhdGUgYmFsYW5jZUxhYmVsPzogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGJhbGFuY2VXYXJuaW5nPzogSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFzb25zOiBIaUJvYlJlYXNvbltdID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBvbkRhcmtNb2RlQ2hhbmdlID0gbmV3IEV2ZW50SGFuZGxlcjxib29sZWFuPigpO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnRpbWVsb2cgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuYWRkQnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGFzeW5jIGFkZEJ1dHRvbigpXHJcbiAgICB7XHJcbiAgICAgICAgd2hpbGUgKHRydWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LmFwcC1jb250ZW50ID4gYXBwLXRvcC1iYXIuYXBwLXRvcC1iYXIgPiBkaXYuYWN0aW9uc1wiKTtcclxuICAgICAgICAgICAgaWYgKCFwYXJlbnQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IFdhaXQuZm9yKDEpO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVCdXR0b24uY2xhc3NOYW1lID0gXCJ0bC10b2dnbGUtYnRuXCI7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uLmFwcGVuZENoaWxkKE1hdGVyaWFsSWNvbi5nZXQoXCJzZW50aW1lbnRfdmVyeV9zYXRpc2ZpZWRcIikpO1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbi50aXRsZSA9IFwiSGlCb2IgVXRpbGl0aWVzXCI7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLnRvZ2dsZVZpc2libGUoKTtcclxuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRoaXMudG9nZ2xlQnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVUkoKTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlTW9kZWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5oYXNoID09PSBcIiN0bC11aVwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVZpc2libGUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5vbkRhcmtNb2RlQ2hhbmdlLmZpcmUodGhpcy5pc0RhcmtNb2RlKCkpO1xyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSB0b2dnbGVWaXNpYmxlKClcclxuICAgIHtcclxuICAgICAgICBpZiAoIXRoaXMudGltZWxvZ1VJT3V0ZXIpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy50aW1lbG9nVUlPdXRlci5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZWxvZ1VJT3V0ZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgbG9jYXRpb24uaGFzaCA9IFwiI3RsLXVpXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGVldENvbnRhaW5lcikgdGhpcy5zaGVldENvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsPy5mZXRjaFNoZWV0cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVsb2dVSU91dGVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgbG9jYXRpb24uaGFzaCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImluaXRpYWxcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGlzRGFya01vZGUoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRsX2RhcmtfbW9kZVwiKSA9PT0gXCJ0cnVlXCI7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHRvZ2dsZURhcmtNb2RlKClcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RhcmtNb2RlKCkpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGxfZGFya19tb2RlXCIsIFwiZmFsc2VcIik7XHJcbiAgICAgICAgZWxzZSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRsX2RhcmtfbW9kZVwiLCBcInRydWVcIik7XHJcbiAgICAgICAgdGhpcy5vbkRhcmtNb2RlQ2hhbmdlLmZpcmUodGhpcy5pc0RhcmtNb2RlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlVUkoKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG4gICAgICAgIHN0eWxlLmlubmVySFRNTCA9IFRpbWVsb2dDc3M7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdHlsZSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJT3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJT3V0ZXIuY2xhc3NOYW1lID0gXCJ0bC11aVwiO1xyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJT3V0ZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMudGltZWxvZ1VJT3V0ZXIpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWVsb2dVSUlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLnRpbWVsb2dVSUlubmVyLmNsYXNzTmFtZSA9IFwidGwtdWktaW5uZXJcIjtcclxuICAgICAgICB0aGlzLnRpbWVsb2dVSU91dGVyLmFwcGVuZCh0aGlzLnRpbWVsb2dVSUlubmVyKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIGNsb3NlQnV0dG9uLmNsYXNzTmFtZSA9IFwidGwtY2xvc2UtYnRuXCI7XHJcbiAgICAgICAgY2xvc2VCdXR0b24uYXBwZW5kQ2hpbGQoTWF0ZXJpYWxJY29uLmdldChcImNsb3NlXCIpKTtcclxuICAgICAgICBjbG9zZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy50b2dnbGVWaXNpYmxlKCk7XHJcbiAgICAgICAgdGhpcy50aW1lbG9nVUlJbm5lci5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7XHJcblxyXG4gICAgICAgIHRoaXMuZGFya01vZGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuZGFya01vZGVCdXR0b24uY2xhc3NOYW1lID0gXCJ0bC1kYXJrLW1vZGUtYnRuXCI7XHJcbiAgICAgICAgdGhpcy5kYXJrTW9kZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy50b2dnbGVEYXJrTW9kZSgpO1xyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJSW5uZXIuYXBwZW5kQ2hpbGQodGhpcy5kYXJrTW9kZUJ1dHRvbik7XHJcbiAgICAgICAgdGhpcy5vbkRhcmtNb2RlQ2hhbmdlLm9uKChkYXJrKSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKGRhcmspIHRoaXMudGltZWxvZ1VJT3V0ZXI/LmNsYXNzTGlzdC5hZGQoXCJ0bC1kYXJrXCIpO1xyXG4gICAgICAgICAgICBlbHNlIHRoaXMudGltZWxvZ1VJT3V0ZXI/LmNsYXNzTGlzdC5yZW1vdmUoXCJ0bC1kYXJrXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXJrTW9kZUJ1dHRvbilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXJrTW9kZUJ1dHRvbi5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXJrTW9kZUJ1dHRvbi5hcHBlbmQoZGFyayA/IE1hdGVyaWFsSWNvbi5nZXQoXCJsaWdodF9tb2RlXCIpIDogTWF0ZXJpYWxJY29uLmdldChcImRhcmtfbW9kZVwiKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICBjb25zdCB2ZXJzaW9uTnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB2ZXJzaW9uTnVtYmVyLmlubmVyVGV4dCA9IEhJQk9CX1VUSUxTX1ZFUjtcclxuICAgICAgICB2ZXJzaW9uTnVtYmVyLmNsYXNzTmFtZSA9IFwidGwtdmVyc2lvbi1udW1iZXJcIjtcclxuICAgICAgICB0aGlzLnRpbWVsb2dVSUlubmVyLmFwcGVuZENoaWxkKHZlcnNpb25OdW1iZXIpO1xyXG5cclxuICAgICAgICBpZiAoSElCT0JfVVRJTFNfQ0hBTkdFTE9HLmxlbmd0aCA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBjaGFuZ2Vsb2cgPSB0aGlzLmNyZWF0ZUNoYW5nZWxvZ0VsZW1lbnQoKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lbG9nVUlJbm5lci5hcHBlbmRDaGlsZChjaGFuZ2Vsb2cpO1xyXG4gICAgICAgICAgICB2ZXJzaW9uTnVtYmVyLm9uY2xpY2sgPSAoKSA9PiBjaGFuZ2Vsb2cuY2xhc3NMaXN0LnJlbW92ZShcInRsLWNoYW5nZWxvZy1oaWRkZW5cIik7XHJcbiAgICAgICAgICAgIHZlcnNpb25OdW1iZXIuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgICAgICAgICAgIHZlcnNpb25OdW1iZXIuc3R5bGUudGV4dERlY29yYXRpb24gPSBcInVuZGVybGluZVwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc2hlZXREcm9wZG93bkxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgc2hlZXREcm9wZG93bkxhYmVsLmlubmVyVGV4dCA9IFwiU2hlZXQ6XCI7XHJcbiAgICAgICAgdGhpcy50aW1lbG9nVUlJbm5lci5hcHBlbmRDaGlsZChzaGVldERyb3Bkb3duTGFiZWwpO1xyXG5cclxuICAgICAgICB0aGlzLnNoZWV0RHJvcGRvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xyXG4gICAgICAgIHRoaXMuc2hlZXREcm9wZG93bi5jbGFzc05hbWUgPSBcInRsLXNoZWV0LXNlbGVjdFwiO1xyXG4gICAgICAgIHRoaXMuc2hlZXREcm9wZG93bi5vbmNoYW5nZSA9ICgpID0+IHRoaXMub25TZWxlY3RlZFNoZWV0Q2hhbmdlKCk7XHJcbiAgICAgICAgdGhpcy50aW1lbG9nVUlJbm5lci5hcHBlbmRDaGlsZCh0aGlzLnNoZWV0RHJvcGRvd24pO1xyXG5cclxuICAgICAgICB0aGlzLnNhdmVTdGF0dXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICB0aGlzLnNhdmVTdGF0dXMuY2xhc3NOYW1lID0gXCJ0bC1zYXZlLXN0YXR1c1wiO1xyXG4gICAgICAgIHRoaXMuc2F2ZVN0YXR1cy5vbmNsaWNrID0gKCkgPT4gdGhpcy5vblNhdmVTdGF0dXNDbGljaygpO1xyXG4gICAgICAgIHRoaXMudGltZWxvZ1VJSW5uZXIuYXBwZW5kKHRoaXMuc2F2ZVN0YXR1cyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhbGFuY2VQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGJhbGFuY2VQYXJlbnQuY2xhc3NOYW1lID0gXCJ0bC1iYWxhbmNlXCI7XHJcbiAgICAgICAgdGhpcy50aW1lbG9nVUlJbm5lci5hcHBlbmQoYmFsYW5jZVBhcmVudCk7XHJcblxyXG4gICAgICAgIHRoaXMuYmFsYW5jZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmJhbGFuY2VMYWJlbC5pbm5lclRleHQgPSBcIkJhbGFuY2U6IFwiO1xyXG4gICAgICAgIHRoaXMuYmFsYW5jZUxhYmVsLmNsYXNzTmFtZSA9IFwidGwtYmFsYW5jZS1sYWJlbFwiO1xyXG4gICAgICAgIGJhbGFuY2VQYXJlbnQuYXBwZW5kKHRoaXMuYmFsYW5jZUxhYmVsKTtcclxuXHJcbiAgICAgICAgdGhpcy5iYWxhbmNlV2FybmluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5iYWxhbmNlV2FybmluZy5jbGFzc05hbWUgPSBcInRsLWJhbGFuY2Utd2FybmluZyB0bC13YXJuaW5nIHRsLWhpZGRlblwiO1xyXG4gICAgICAgIGJhbGFuY2VQYXJlbnQuYXBwZW5kKHRoaXMuYmFsYW5jZVdhcm5pbmcpO1xyXG5cclxuICAgICAgICB0aGlzLnNoZWV0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLnNoZWV0Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwidGwtc2hlZXRcIjtcclxuICAgICAgICB0aGlzLnRpbWVsb2dVSUlubmVyLmFwcGVuZENoaWxkKHRoaXMuc2hlZXRDb250YWluZXIpO1xyXG5cclxuICAgIH1cclxuICAgIHByaXZhdGUgY3JlYXRlQ2hhbmdlbG9nRWxlbWVudCgpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBcInRsLWNoYW5nZWxvZyB0bC1jaGFuZ2Vsb2ctaGlkZGVuXCI7XHJcbiAgICAgICAgY29uc3QgYmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgYmFjay5jbGFzc05hbWUgPSBcInRsLWNoYW5nZWxvZy1iYWNrXCI7XHJcbiAgICAgICAgZWxlbWVudC5hcHBlbmQoYmFjayk7XHJcbiAgICAgICAgYmFjay5vbmNsaWNrID0gKCkgPT4gZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGwtY2hhbmdlbG9nLWhpZGRlblwiKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGlubmVyLmNsYXNzTmFtZSA9IFwidGwtY2hhbmdlbG9nLWlubmVyXCI7XHJcbiAgICAgICAgZWxlbWVudC5hcHBlbmQoaW5uZXIpO1xyXG5cclxuICAgICAgICBjb25zdCBjaGFuZ2Vsb2cgPSBISUJPQl9VVElMU19DSEFOR0VMT0c7XHJcbiAgICAgICAgZm9yIChjb25zdCB2ZXJzaW9uIG9mIGNoYW5nZWxvZylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgdmVyc2lvbkVsZW1lbnQuY2xhc3NOYW1lID0gXCJ0bC1jaGFuZ2Vsb2ctdmVyc2lvblwiO1xyXG4gICAgICAgICAgICBpbm5lci5hcHBlbmQodmVyc2lvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICB2ZXJzaW9uVGl0bGUuY2xhc3NOYW1lID0gXCJ0bC1jaGFuZ2Vsb2ctdGl0bGVcIjtcclxuICAgICAgICAgICAgdmVyc2lvblRpdGxlLmlubmVyVGV4dCA9IHZlcnNpb24udmVyc2lvbjtcclxuICAgICAgICAgICAgdmVyc2lvbkVsZW1lbnQuYXBwZW5kKHZlcnNpb25UaXRsZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XHJcbiAgICAgICAgICAgIGxpc3QuY2xhc3NOYW1lID0gXCJ0bC1jaGFuZ2Vsb2ctbGlzdFwiO1xyXG4gICAgICAgICAgICB2ZXJzaW9uRWxlbWVudC5hcHBlbmQobGlzdCk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdGV4dCBvZiB2ZXJzaW9uLnRleHQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG4gICAgICAgICAgICAgICAgdGV4dEVsZW1lbnQuaW5uZXJUZXh0ID0gdGV4dDtcclxuICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kKHRleHRFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH1cclxuICAgIHByaXZhdGUgYXN5bmMgY3JlYXRlTW9kZWwoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGVsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5vbkRhdGVVcGRhdGVkLm9mZih0aGlzLm9uRGF0ZVVwZGF0ZWQsIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLm9uUmVhc29uc1VwZGF0ZWQub2ZmKHRoaXMub25SZWFzb25zVXBkYXRlZCwgdGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwub25TYXZlU3RhdHVzVXBkYXRlZC5vZmYodGhpcy5vblNhdmVTdGF0dXNVcGRhdGVkLCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5vblNoZWV0VXBkYXRlZC5vZmYodGhpcy5vblNoZWV0VXBkYXRlZCwgdGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwub25TaGVldHNVcGRhdGVkLm9mZih0aGlzLm9uU2hlZXRzVXBkYXRlZCwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubW9kZWwgPSBuZXcgVGltZWxvZ01vZGVsKCk7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5vbkRhdGVVcGRhdGVkLm9uKHRoaXMub25EYXRlVXBkYXRlZCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5vblJlYXNvbnNVcGRhdGVkLm9uKHRoaXMub25SZWFzb25zVXBkYXRlZCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5vblNhdmVTdGF0dXNVcGRhdGVkLm9uKHRoaXMub25TYXZlU3RhdHVzVXBkYXRlZCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5vblNoZWV0VXBkYXRlZC5vbih0aGlzLm9uU2hlZXRVcGRhdGVkLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm1vZGVsLm9uU2hlZXRzVXBkYXRlZC5vbih0aGlzLm9uU2hlZXRzVXBkYXRlZCwgdGhpcyk7XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMubW9kZWwuaW5pdGlhbGl6ZSgpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBnZXREYXRlQ29udGFpbmVyKGRhdGE6IHsgc2hlZXQ6IFRpbWVsb2dTaGVldCwgZGF0ZTogVGltZWxvZ0RhdGUgfSlcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFNoZWV0ID09PSBkYXRhLnNoZWV0ICYmIHRoaXMuc2hlZXRDb250YWluZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZGF0ZUNvbnRhaW5lciA9IHRoaXMuc2hlZXREYXRlcy5maW5kKGQgPT4gZC5kYXRlID09PSBkYXRhLmRhdGUpO1xyXG4gICAgICAgICAgICBpZiAoIWRhdGVDb250YWluZXIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogZGF0YS5kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgZW50cmllczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhckJ1dHRvbjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXN0ZUJ1dHRvbjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSxcclxuICAgICAgICAgICAgICAgICAgICB3ZWVrZW5kRGVzY3JpcHRpb246IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNoZWV0RGF0ZXMucHVzaChkYXRlQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIucGFyZW50LmNsYXNzTmFtZSA9IFwidGwtZGF0ZVwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaGVldENvbnRhaW5lci5hcHBlbmRDaGlsZChkYXRlQ29udGFpbmVyLnBhcmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGRhdGEuZGF0ZS5kYXRlKS5nZXREYXkoKSA9PT0gMSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3ZWVrU2VwZXJhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB3ZWVrU2VwZXJhdG9yLmNsYXNzTmFtZSA9IFwidGwtd2Vlay1zZXBlcmF0b3JcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoZWV0Q29udGFpbmVyLmFwcGVuZENoaWxkKHdlZWtTZXBlcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIucGFyZW50LmFwcGVuZChkYXRlQ29udGFpbmVyLnN0YXJCdXR0b24pO1xyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5zdGFyQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLm1vZGVsPy5zZXRGYXZvcml0ZWREYXRlKGRhdGEuZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnN0YXJCdXR0b24uY2xhc3NOYW1lID0gXCJ0bC1zdGFyLWJ1dHRvbiB0bC1zaG93LW9uLWhvdmVyXCI7XHJcbiAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnN0YXJCdXR0b24udGl0bGUgPSBcIkZhdm9yaXRlIERheVwiO1xyXG5cclxuICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIudGl0bGUuY2xhc3NOYW1lID0gXCJ0bC1kYXRlLWxhYmVsXCI7XHJcbiAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnRpdGxlLmlubmVyVGV4dCA9IG5ldyBEYXRlKGRhdGEuZGF0ZS5kYXRlKS50b0RhdGVTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGUud2Vla2VuZCkgZGF0ZUNvbnRhaW5lci50aXRsZS5jbGFzc0xpc3QuYWRkKFwidGwtZGF0ZS1sYWJlbC13ZWVrZW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5wYXJlbnQuYXBwZW5kKGRhdGVDb250YWluZXIudGl0bGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIud2Vla2VuZERlc2NyaXB0aW9uLmNsYXNzTmFtZSA9IFwidGwtd2Vla2VuZC1kZXNjcmlwdGlvblwiO1xyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5wYXJlbnQuYXBwZW5kKGRhdGVDb250YWluZXIud2Vla2VuZERlc2NyaXB0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuc2hlZXQubG9ja2VkKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkLmFwcGVuZENoaWxkKE1hdGVyaWFsSWNvbi5nZXQoXCJhZGRcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkLmNsYXNzTmFtZSA9IFwidGwtYWRkLWVudHJ5LWJ0biB0bC1zaG93LW9uLWhvdmVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkLm9uY2xpY2sgPSAoKSA9PiB0aGlzLm1vZGVsPy5uZXdFbnRyeShkYXRhLmRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIucGFyZW50LmFwcGVuZChhZGQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnBhc3RlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnBhc3RlQnV0dG9uLmFwcGVuZENoaWxkKE1hdGVyaWFsSWNvbi5nZXQoXCJzd2l0Y2hfYWNjZXNzX3Nob3J0Y3V0X2FkZFwiKSlcclxuICAgICAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnBhc3RlQnV0dG9uLnRpdGxlID0gXCJQYXN0ZSBmcm9tIEZhdm9yaXRlIERheVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIucGFzdGVCdXR0b24uY2xhc3NOYW1lID0gXCJ0bC1wYXN0ZS1idG4gdGwtc2hvdy1vbi1ob3ZlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIucGFzdGVCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMubW9kZWw/LnBhc3RlRnJvbVN0YXJyZWQoZGF0YS5kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnBhcmVudC5hcHBlbmQoZGF0ZUNvbnRhaW5lci5wYXN0ZUJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRvV2Vla1N1bShkYXRlQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZUNvbnRhaW5lcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldEVudHJ5Q29udGFpbmVyKGRhdGE6IHsgc2hlZXQ6IFRpbWVsb2dTaGVldCwgZGF0ZTogVGltZWxvZ0RhdGUgfSwgZGF0ZUNvbnRhaW5lcjogVGltZWxvZ1VJRGF0ZUNvbnRhaW5lciwgZW50cnk6IFRpbWVsb2dFbnRyeSlcclxuICAgIHtcclxuICAgICAgICBsZXQgZW50cnlDb250YWluZXIgPSBkYXRlQ29udGFpbmVyLmVudHJpZXMuZmluZChwID0+IHAuZW50cnkgPT09IGVudHJ5KTtcclxuICAgICAgICBpZiAoIWVudHJ5Q29udGFpbmVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBlbnRyeSxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0SG91cjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLFxyXG4gICAgICAgICAgICAgICAgZW5kSG91cjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLFxyXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksXHJcbiAgICAgICAgICAgICAgICByZWFzb246IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiksXHJcbiAgICAgICAgICAgICAgICBjb21tZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksXHJcbiAgICAgICAgICAgICAgICBjb21tZW50QnV0dG9uOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLFxyXG4gICAgICAgICAgICAgICAgbm9SZWFzb25XYXJuaW5nOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGRhdGVDb250YWluZXIuZW50cmllcy5wdXNoKGVudHJ5Q29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnBhcmVudC5jbGFzc05hbWUgPSBcInRsLWVudHJ5XCI7XHJcbiAgICAgICAgICAgIGRhdGVDb250YWluZXIucGFyZW50LmFwcGVuZENoaWxkKGVudHJ5Q29udGFpbmVyLnBhcmVudCk7XHJcblxyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5zdGFydEhvdXIudHlwZSA9IFwidGltZVwiO1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5zdGFydEhvdXIuY2xhc3NOYW1lID0gXCJ0bC1lbnRyeS1zdGFydFwiO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5zaGVldC5sb2NrZWQpIGVudHJ5Q29udGFpbmVyLnN0YXJ0SG91ci5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnN0YXJ0SG91ci5vbmNoYW5nZSA9ICgpID0+IFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBlbnRyeS5zdGFydEhvdXIgKyBlbnRyeS5sZW5ndGhIb3VycztcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWw/LmNoYW5nZVN0YXJ0SG91cihkYXRhLmRhdGUsIGRhdGEuZGF0ZS5lbnRyaWVzLmluZGV4T2YoZW50cnkpLCBEYXRlcy5wYXJzZVRpbWVUb2hvdXJzKGVudHJ5Q29udGFpbmVyPy5zdGFydEhvdXIudmFsdWUgPz8gXCIwODowMFwiKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBOdW1iZXJzLnJvdW5kKGVuZCAtIGVudHJ5LnN0YXJ0SG91ciwgMik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsPy5jaGFuZ2VMZW5ndGhIb3VycyhkYXRhLmRhdGUsIGRhdGEuZGF0ZS5lbnRyaWVzLmluZGV4T2YoZW50cnkpLCBsZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnBhcmVudC5hcHBlbmRDaGlsZChlbnRyeUNvbnRhaW5lci5zdGFydEhvdXIpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZW5kTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICAgICAgZW5kTGFiZWwuY2xhc3NOYW1lID0gXCJ0bC1lbmQtbGFiZWxcIlxyXG4gICAgICAgICAgICBlbmRMYWJlbC5pbm5lclRleHQgPSBcIi1cIjtcclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIucGFyZW50LmFwcGVuZENoaWxkKGVuZExhYmVsKTtcclxuXHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmVuZEhvdXIudHlwZSA9IFwidGltZVwiO1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5lbmRIb3VyLmNsYXNzTmFtZSA9IFwidGwtZW50cnktZW5kXCI7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnNoZWV0LmxvY2tlZCkgZW50cnlDb250YWluZXIuZW5kSG91ci5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmVuZEhvdXIub25jaGFuZ2UgPSAoKSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW50cnlDb250YWluZXI/LmVuZEhvdXIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTnVtYmVycy5yb3VuZChEYXRlcy5wYXJzZVRpbWVUb2hvdXJzKGVudHJ5Q29udGFpbmVyLmVuZEhvdXIudmFsdWUpIC0gZW50cnkuc3RhcnRIb3VyLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsPy5jaGFuZ2VMZW5ndGhIb3VycyhkYXRhLmRhdGUsIGRhdGEuZGF0ZS5lbnRyaWVzLmluZGV4T2YoZW50cnkpLCBsZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnBhcmVudC5hcHBlbmRDaGlsZChlbnRyeUNvbnRhaW5lci5lbmRIb3VyKTtcclxuXHJcblxyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5yZWFzb24ub25jaGFuZ2UgPSAoKSA9PiB0aGlzLm1vZGVsPy5jaGFuZ2VSZWFzb24oZGF0YS5kYXRlLCBkYXRhLmRhdGUuZW50cmllcy5pbmRleE9mKGVudHJ5KSwgZW50cnlDb250YWluZXI/LnJlYXNvbi52YWx1ZSA/PyBcIlwiKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEuc2hlZXQubG9ja2VkKSBlbnRyeUNvbnRhaW5lci5yZWFzb24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5yZWFzb24uY2xhc3NOYW1lID0gXCJ0bC1lbnRyeS1yZWFzb25cIjtcclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIucGFyZW50LmFwcGVuZENoaWxkKGVudHJ5Q29udGFpbmVyLnJlYXNvbik7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVhc29uc0Ryb3Bkb3duKGVudHJ5Q29udGFpbmVyLnJlYXNvbik7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0ZUNvbnRhaW5lci5lbnRyaWVzLmxlbmd0aCA9PT0gMSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5zdW1Ib3VycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5zdW1Ib3Vycy5jbGFzc05hbWUgPSBcInRsLXN1bS1ob3Vyc1wiO1xyXG4gICAgICAgICAgICAgICAgZW50cnlDb250YWluZXIucGFyZW50LmFwcGVuZChkYXRlQ29udGFpbmVyLnN1bUhvdXJzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIubGVuZ3RoLnR5cGUgPSBcIm51bWJlclwiO1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5sZW5ndGguY2xhc3NOYW1lID0gXCJ0bC1lbnRyeS1sZW5ndGhcIjtcclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIubGVuZ3RoLnN0ZXAgPSBcIjAuMDFcIjtcclxuICAgICAgICAgICAgaWYgKGRhdGEuc2hlZXQubG9ja2VkKSBlbnRyeUNvbnRhaW5lci5sZW5ndGguZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5sZW5ndGgub25jaGFuZ2UgPSAoKSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsPy5jaGFuZ2VMZW5ndGhIb3VycyhkYXRhLmRhdGUsIGRhdGEuZGF0ZS5lbnRyaWVzLmluZGV4T2YoZW50cnkpLCBwYXJzZUZsb2F0KGVudHJ5Q29udGFpbmVyPy5sZW5ndGgudmFsdWUgfHwgXCIwXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5wYXJlbnQuYXBwZW5kQ2hpbGQoZW50cnlDb250YWluZXIubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICAgICAgZHVyYXRpb25MYWJlbC5jbGFzc05hbWUgPSBcInRsLWR1cmF0aW9uLWxhYmVsXCI7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uTGFiZWwuaW5uZXJUZXh0ID0gXCJob3VyKHMpXCI7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnBhcmVudC5hcHBlbmRDaGlsZChkdXJhdGlvbkxhYmVsKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZGF0YS5zaGVldC5sb2NrZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmNvbW1lbnRCdXR0b24uY2xhc3NOYW1lID0gXCJ0bC1hZGQtY29tbWVudC1idG4gdGwtc2hvdy1vbi1ob3ZlclwiO1xyXG4gICAgICAgICAgICAgICAgZW50cnlDb250YWluZXIuY29tbWVudEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy5tb2RlbD8udG9nZ2xlQ29tbWVudChkYXRhLmRhdGUsIGRhdGEuZGF0ZS5lbnRyaWVzLmluZGV4T2YoZW50cnkpKTtcclxuICAgICAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnBhcmVudC5hcHBlbmRDaGlsZChlbnRyeUNvbnRhaW5lci5jb21tZW50QnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlLmFwcGVuZENoaWxkKE1hdGVyaWFsSWNvbi5nZXQoXCJkZWxldGVcIikpO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlLmNsYXNzTmFtZSA9IFwidGwtcmVtb3ZlLWVudHJ5LWJ0biB0bC1zaG93LW9uLWhvdmVyXCI7XHJcbiAgICAgICAgICAgICAgICByZW1vdmUub25jbGljayA9ICgpID0+IHRoaXMubW9kZWw/LmRlbGV0ZUVudHJ5KGRhdGEuZGF0ZSwgZGF0YS5kYXRlLmVudHJpZXMuaW5kZXhPZihlbnRyeSkpO1xyXG4gICAgICAgICAgICAgICAgZW50cnlDb250YWluZXIucGFyZW50LmFwcGVuZENoaWxkKHJlbW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLm5vUmVhc29uV2FybmluZy5hcHBlbmQoTWF0ZXJpYWxJY29uLmdldChcIndhcm5pbmdcIiwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5ub1JlYXNvbldhcm5pbmcuYXBwZW5kKFwiIE5vIHJlYXNvbiBzZWxlY3RlZCFcIik7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLm5vUmVhc29uV2FybmluZy5jbGFzc05hbWUgPSBcInRsLW5vLXJlYXNvbi13YXJuaW5nIHRsLXdhcm5pbmcgdGwtaGFzLXJlYXNvblwiO1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5wYXJlbnQuYXBwZW5kQ2hpbGQoZW50cnlDb250YWluZXIubm9SZWFzb25XYXJuaW5nKTtcclxuXHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmNvbW1lbnQudHlwZSA9IFwidGV4dFwiO1xyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5jb21tZW50LnBsYWNlaG9sZGVyID0gXCJXcml0ZSBhIG5vdGUuLi5cIjtcclxuICAgICAgICAgICAgZW50cnlDb250YWluZXIuY29tbWVudC50aXRsZSA9IFwiV3JpdGUgYSBub3RlLi4uXCI7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmNvbW1lbnQuY2xhc3NOYW1lID0gXCJ0bC1lbnRyeS1jb21tZW50XCI7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnNoZWV0LmxvY2tlZCkgZW50cnlDb250YWluZXIuY29tbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmNvbW1lbnQub25jaGFuZ2UgPSAoKSA9PiBcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbD8uY2hhbmdlQ29tbWVudChkYXRhLmRhdGUsIGRhdGEuZGF0ZS5lbnRyaWVzLmluZGV4T2YoZW50cnkpLCBlbnRyeUNvbnRhaW5lcj8uY29tbWVudC52YWx1ZSA/PyBcIlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5wYXJlbnQuYXBwZW5kQ2hpbGQoZW50cnlDb250YWluZXIuY29tbWVudCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZW50cnlDb250YWluZXI7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGFkZFRvV2Vla1N1bShkYXRlOiBUaW1lbG9nVUlEYXRlQ29udGFpbmVyKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLndlZWtTdW1zLmxlbmd0aCA8IDEgfHwgbmV3IERhdGUoZGF0ZS5kYXRlLmRhdGUpLmdldERheSgpID09PSAwKSAvL0lmIHRoaXMgaXMgdGhlIGZpcnN0IGRheSwgb3IgYSBzdW5kYXksIGNyZWF0ZSBhIG5ldyB3ZWVrIGZvciBpdC5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdlZWtTdW0gPSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlczogW2RhdGVdLFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB3ZWVrU3VtLmVsZW1lbnQuY2xhc3NOYW1lID0gXCJ0bC13ZWVrLXN1bVwiO1xyXG4gICAgICAgICAgICB0aGlzLndlZWtTdW1zLnB1c2god2Vla1N1bSk7XHJcbiAgICAgICAgICAgIGRhdGUucGFyZW50LmFwcGVuZENoaWxkKHdlZWtTdW0uZWxlbWVudCk7XHJcbiAgICAgICAgICAgIGRhdGUucGFyZW50LnN0eWxlLm1hcmdpblRvcCA9IFwiMzhweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLndlZWtTdW1zW3RoaXMud2Vla1N1bXMubGVuZ3RoIC0gMV0uZGF0ZXMucHVzaChkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG9uRGF0ZVVwZGF0ZWQoZGF0YTogeyBzaGVldDogVGltZWxvZ1NoZWV0LCBkYXRlOiBUaW1lbG9nRGF0ZSB9KVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkU2hlZXQgPT09IGRhdGEuc2hlZXQgJiYgdGhpcy5zaGVldENvbnRhaW5lcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBkYXRlQ29udGFpbmVyID0gdGhpcy5nZXREYXRlQ29udGFpbmVyKGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoZGF0ZUNvbnRhaW5lcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBkYXRhLmRhdGUuZW50cmllcylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW50cnlDb250YWluZXIgPSB0aGlzLmdldEVudHJ5Q29udGFpbmVyKGRhdGEsIGRhdGVDb250YWluZXIsIGVudHJ5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZW50cnlDb250YWluZXIuc3RhcnRIb3VyLnZhbHVlID0gRGF0ZXMuZm9ybWF0SG91cihlbnRyeS5zdGFydEhvdXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmxlbmd0aC52YWx1ZSA9IGVudHJ5Lmxlbmd0aEhvdXJzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50cnlDb250YWluZXIuZW5kSG91ci52YWx1ZSA9IERhdGVzLmZvcm1hdEhvdXIoZW50cnkuc3RhcnRIb3VyICsgZW50cnkubGVuZ3RoSG91cnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLnJlYXNvbi52YWx1ZSA9IGVudHJ5LnJlYXNvbklkO1xyXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmNvbW1lbnQudmFsdWUgPSBlbnRyeS5jb21tZW50ID8/IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghIWVudHJ5LnJlYXNvbklkKSBlbnRyeUNvbnRhaW5lci5ub1JlYXNvbldhcm5pbmcuY2xhc3NMaXN0LmFkZChcInRsLWhhcy1yZWFzb25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBlbnRyeUNvbnRhaW5lci5ub1JlYXNvbldhcm5pbmcuY2xhc3NMaXN0LnJlbW92ZShcInRsLWhhcy1yZWFzb25cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmNvbW1lbnRCdXR0b24udGl0bGUgPSBlbnRyeS5oYXNDb21tZW50ID8gXCJSZW1vdmUgbm90ZVwiIDogXCJBZGQgbm90ZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5Q29udGFpbmVyLmNvbW1lbnRCdXR0b24uaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBlbnRyeUNvbnRhaW5lci5jb21tZW50QnV0dG9uLmFwcGVuZENoaWxkKE1hdGVyaWFsSWNvbi5nZXQoZW50cnkuaGFzQ29tbWVudCA/IFwic3BlYWtlcl9ub3Rlc19vZmZcIiA6IFwic3BlYWtlcl9ub3Rlc1wiKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5oYXNDb21tZW50KSBlbnRyeUNvbnRhaW5lci5wYXJlbnQuY2xhc3NMaXN0LmFkZChcInRsLWhhcy1jb21tZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgZW50cnlDb250YWluZXIucGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJ0bC1oYXMtY29tbWVudFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZWRFbnRyaWVzID0gZGF0ZUNvbnRhaW5lci5lbnRyaWVzLmZpbHRlcihlbnRyeSA9PiAhZGF0YS5kYXRlLmVudHJpZXMuZmluZChlID0+IGUgPT09IGVudHJ5LmVudHJ5KSk7XHJcbiAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLmVudHJpZXMgPSBkYXRlQ29udGFpbmVyLmVudHJpZXMuZmlsdGVyKGVudHJ5ID0+ICFyZW1vdmVkRW50cmllcy5pbmNsdWRlcyhlbnRyeSkpO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlZEVudHJpZXMuZm9yRWFjaChlID0+IGUucGFyZW50LnJlbW92ZSgpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZUNvbnRhaW5lci5zdW1Ib3VycylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdW0gPSBOdW1iZXJzLnN1bShkYXRhLmRhdGUuZW50cmllcy5tYXAoZSA9PiBlLmxlbmd0aEhvdXJzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5zdW1Ib3Vycy5pbm5lclRleHQgPSBgJHtOdW1iZXJzLnJvdW5kKHN1bSwgMil9IGhvdXIke3N1bSA9PT0gMSA/IFwiXCIgOiBcInNcIn1gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIuc3RhckJ1dHRvbi5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5zdGFyQnV0dG9uLmRpc2FibGVkID0gZGF0YS5kYXRlLmZhdm9yaXRlZDtcclxuICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIuc3RhckJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwidGwtZmF2b3JpdGVcIik7XHJcbiAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLnN0YXJCdXR0b24uYXBwZW5kQ2hpbGQoTWF0ZXJpYWxJY29uLmdldChcInN0YXJcIiwgZGF0YS5kYXRlLmZhdm9yaXRlZCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0ZS5mYXZvcml0ZWQpIGRhdGVDb250YWluZXIuc3RhckJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwidGwtZmF2b3JpdGVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGVDb250YWluZXIuZW50cmllcy5sZW5ndGggPiAwIHx8IGRhdGVDb250YWluZXIuZGF0ZS5mYXZvcml0ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5wYXN0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwidGwtaGlkZS1mYXZvcml0ZS1idXR0b25cIik7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5wYXN0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwidGwtaGlkZS1mYXZvcml0ZS1idXR0b25cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci50aXRsZS50aXRsZSA9IGRhdGEuZGF0ZS5kYXRlRGVzY3JpcHRpb24gPz8gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRlLndlZWtlbmQgJiYgZGF0YS5kYXRlLmVudHJpZXMubGVuZ3RoIDwgMSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlQ29udGFpbmVyLndlZWtlbmREZXNjcmlwdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwidGwtd2Vla2VuZC1kZXNjcmlwdGlvbi1oaWRkZW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci53ZWVrZW5kRGVzY3JpcHRpb24uaW5uZXJUZXh0ID0gZGF0YS5kYXRlLmRhdGVEZXNjcmlwdGlvbiA/PyBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVDb250YWluZXIud2Vla2VuZERlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoXCJ0bC13ZWVrZW5kLWRlc2NyaXB0aW9uLWhpZGRlblwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3Qgd2Vla1N1bSA9IHRoaXMud2Vla1N1bXMuZmluZCh3ID0+IHcuZGF0ZXMuc29tZShkID0+IGQuZGF0ZSA9PT0gZGF0YS5kYXRlKSk7XHJcbiAgICAgICAgICAgIGlmICh3ZWVrU3VtKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdW0gPSBOdW1iZXJzLnN1bSh3ZWVrU3VtLmRhdGVzLm1hcChkID0+IE51bWJlcnMuc3VtKGQuZW50cmllcy5tYXAoZSA9PiBlLmVudHJ5Lmxlbmd0aEhvdXJzKSkpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRheXMgPSB3ZWVrU3VtLmRhdGVzLmZpbHRlcihkID0+ICFkLmRhdGUud2Vla2VuZCkubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWxIb3VycyA9IGRhdGEuc2hlZXQuaG91cnNQZXJEYXkgKiBkYXlzO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2Vla051bWJlciA9IERhdGVzLmdldFdlZWtOdW1iZXJGcm9tRGF0ZSh3ZWVrU3VtLmRhdGVzWzBdLmRhdGUuZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB3ZWVrU3VtLmVsZW1lbnQuaW5uZXJIVE1MID0gYDxiPldlZWsgJHt3ZWVrTnVtYmVyfTwvYj46ICR7TnVtYmVycy5yb3VuZChzdW0sIDIpfSAvICR7TnVtYmVycy5yb3VuZCh0b3RhbEhvdXJzLCAyKX0gaG91cnNgO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXBkYXRlQmFsYW5jZSgpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSB1cGRhdGVSZWFzb25zRHJvcGRvd24oc2VsZWN0OiBIVE1MU2VsZWN0RWxlbWVudClcclxuICAgIHtcclxuICAgICAgICBzZWxlY3QuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICBmb3IgKGNvbnN0IHJlYXNvbiBvZiB0aGlzLnJlYXNvbnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSByZWFzb24uc2VydmVySWQ7XHJcbiAgICAgICAgICAgIG9wdGlvbi5pbm5lclRleHQgPSByZWFzb24udmFsdWU7XHJcbiAgICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgb25SZWFzb25zVXBkYXRlZChyZWFzb25zOiBIaUJvYlJlYXNvbltdKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucmVhc29ucyA9IHJlYXNvbnM7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZGF0ZSBvZiB0aGlzLnNoZWV0RGF0ZXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGRhdGUuZW50cmllcylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZWFzb25zRHJvcGRvd24oZW50cnkucmVhc29uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgb25TYXZlU3RhdHVzVXBkYXRlZChzdGF0dXM6IFRpbWVsb2dTYXZlU3RhdHVzKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghdGhpcy5zYXZlU3RhdHVzKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoXCJ0bC1zdWNjZXNzXCIpO1xyXG4gICAgICAgIHRoaXMuc2F2ZVN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKFwidGwtd2FybmluZ1wiKTtcclxuICAgICAgICB0aGlzLnNhdmVTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZShcInRsLWNsaWNrYWJsZVwiKTtcclxuICAgICAgICBpZiAoc3RhdHVzID09PSBUaW1lbG9nU2F2ZVN0YXR1cy5TYXZlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXR1cy5hcHBlbmRDaGlsZChNYXRlcmlhbEljb24uZ2V0KFwiY2xvdWRfZG9uZVwiLCB0cnVlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXR1cy5hcHBlbmQoXCIgU2F2ZWRcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXR1cy5jbGFzc0xpc3QuYWRkKFwidGwtc3VjY2Vzc1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gVGltZWxvZ1NhdmVTdGF0dXMuV2FpdGluZylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXR1cy5hcHBlbmRDaGlsZChNYXRlcmlhbEljb24uZ2V0KFwicGVuZGluZ1wiKSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXR1cy5hcHBlbmQoXCIgUGVuZGluZy4uLlwiKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhdHVzID09PSBUaW1lbG9nU2F2ZVN0YXR1cy5TYXZpbmcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVTdGF0dXMuYXBwZW5kQ2hpbGQoTWF0ZXJpYWxJY29uLmdldChcImNsb3VkX3VwbG9hZFwiKSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXR1cy5hcHBlbmQoXCIgU2F2aW5nLi4uXCIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdGF0dXMgPT09IFRpbWVsb2dTYXZlU3RhdHVzLkVycm9yKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmFwcGVuZENoaWxkKE1hdGVyaWFsSWNvbi5nZXQoXCJjbG91ZF9vZmZcIikpO1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVTdGF0dXMuYXBwZW5kKFwiIEZhaWxlZCFcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXR1cy5jbGFzc0xpc3QuYWRkKFwidGwtd2FybmluZ1wiKTtcclxuICAgICAgICAgICAgdGhpcy5zYXZlU3RhdHVzLmNsYXNzTGlzdC5hZGQoXCJ0bC1jbGlja2FibGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvblNhdmVTdGF0dXNDbGljaygpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNhdmVTdGF0dXM/LmNsYXNzTGlzdC5jb250YWlucyhcInRsLWNsaWNrYWJsZVwiKSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMubW9kZWw/LnNhdmUoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgb25TaGVldFVwZGF0ZWQoc2hlZXQ6IFRpbWVsb2dTaGVldClcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5zaGVldERyb3Bkb3duICYmICF0aGlzLnNoZWV0RHJvcGRvd25PcHRpb25zLmZpbmQocyA9PiBzLnNoZWV0ID09PSBzaGVldCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSBzaGVldC5pZC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBvcHRpb24uaW5uZXJUZXh0ID0gYCR7bmV3IERhdGUoc2hlZXQuc3RhcnQpLnRvRGF0ZVN0cmluZygpfSAtICR7bmV3IERhdGUoc2hlZXQuZW5kKS50b0RhdGVTdHJpbmcoKX0ke3NoZWV0LmxvY2tlZCA/IFwiIChsb2NrZWQpXCIgOiBcIlwifWA7XHJcbiAgICAgICAgICAgIHRoaXMuc2hlZXREcm9wZG93bk9wdGlvbnMucHVzaCh7IHNoZWV0OiBzaGVldCwgZWxlbWVudDogb3B0aW9uIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNoZWV0RHJvcGRvd24uYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRTaGVldCA9PT0gc2hlZXQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGVldENvbnRhaW5lcikgdGhpcy5zaGVldENvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLnNoZWV0RGF0ZXMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy53ZWVrU3VtcyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGRhdGUgb2Ygc2hlZXQuZGF0ZXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm9uRGF0ZVVwZGF0ZWQoeyBzaGVldCwgZGF0ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGVCYWxhbmNlKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG9uU2hlZXRzVXBkYXRlZChzaGVldHM6IFRpbWVsb2dTaGVldFtdKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLnNoZWV0RHJvcGRvd24pIHRoaXMuc2hlZXREcm9wZG93bi5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuc2hlZXREcm9wZG93bk9wdGlvbnMgPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IHNoZWV0IG9mIHNoZWV0cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMub25TaGVldFVwZGF0ZWQoc2hlZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uU2VsZWN0ZWRTaGVldENoYW5nZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25TZWxlY3RlZFNoZWV0Q2hhbmdlKClcclxuICAgIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2hlZXREcm9wZG93bikgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLnNoZWV0Q29udGFpbmVyKSB0aGlzLnNoZWV0Q29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5zaGVldERhdGVzID0gW107XHJcbiAgICAgICAgY29uc3QgdmFsID0gdGhpcy5zaGVldERyb3Bkb3duLnZhbHVlO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTaGVldCA9IHRoaXMuc2hlZXREcm9wZG93bk9wdGlvbnMuZmluZChvID0+IG8uZWxlbWVudC52YWx1ZSA9PT0gdmFsKT8uc2hlZXQ7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRTaGVldCAmJiB0aGlzLm1vZGVsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5mZXRjaFNoZWV0KHRoaXMuc2VsZWN0ZWRTaGVldC5pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgdXBkYXRlQmFsYW5jZSgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1vZGVsIHx8ICF0aGlzLmJhbGFuY2VMYWJlbCB8fCAhdGhpcy5zZWxlY3RlZFNoZWV0KSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgYmFsYW5jZSA9IGF3YWl0IHRoaXMubW9kZWwuZ2V0Q3VycmVudEJhbGFuY2VIb3VycygpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGJhbGFuY2UpO1xyXG4gICAgICAgIGNvbnN0IHRvdGFsQmFsYW5jZSA9IE51bWJlcnMucm91bmQoYmFsYW5jZS5iYWxhbmNlLCAyKTtcclxuICAgICAgICB0aGlzLmJhbGFuY2VMYWJlbC5pbm5lclRleHQgPSBgRmxleDogJHt0b3RhbEJhbGFuY2V9IGhvdXIke3RvdGFsQmFsYW5jZSAhPSAxID8gXCJzXCIgOiBcIlwifSR7dG90YWxCYWxhbmNlID09PSAwID8gXCIg8J+ls1wiIDogXCJcIn1gO1xyXG5cclxuICAgICAgICB0aGlzLmJhbGFuY2VXYXJuaW5nPy5jbGFzc0xpc3QuYWRkKFwidGwtaGlkZGVuXCIpO1xyXG4gICAgICAgIGlmIChiYWxhbmNlLndhcm5pbmdEYXRlcy5sZW5ndGggPiAwICYmIHRoaXMuYmFsYW5jZVdhcm5pbmcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmJhbGFuY2VXYXJuaW5nLmNsYXNzTGlzdC5yZW1vdmUoXCJ0bC1oaWRkZW5cIik7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsYW5jZVdhcm5pbmcuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5iYWxhbmNlV2FybmluZy5hcHBlbmQoTWF0ZXJpYWxJY29uLmdldChcIndhcm5pbmdcIiwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICB0aGlzLmJhbGFuY2VXYXJuaW5nLmFwcGVuZChgWW91IGhhdmUgJHtiYWxhbmNlLndhcm5pbmdEYXRlcy5sZW5ndGh9IHVuYmFsYW5jZWQgZmxleCBkYXRlJHtiYWxhbmNlLndhcm5pbmdEYXRlcy5sZW5ndGggPT09IDEgPyBcIlwiIDogXCJzXCJ9IG9sZGVyIHRoYW4gJHtiYWxhbmNlLm1heEFnZURheXN9IGRheXMhYCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsYW5jZVdhcm5pbmcuc3R5bGUuZGlzcGxheSA9IGJhbGFuY2Uud2FybmluZ0RhdGVzLmxlbmd0aCA+IDAgPyBcIlwiIDogXCJub25lXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmYXZvcml0ZSA9IGF3YWl0IHRoaXMubW9kZWwuZ2V0RmF2b3JpdGVkRGF0ZSgpO1xyXG4gICAgICAgIGlmIChmYXZvcml0ZSkgdGhpcy5zaGVldENvbnRhaW5lcj8uY2xhc3NMaXN0LmFkZChcInRsLWhhcy1mYXZvcml0ZVwiKTtcclxuICAgICAgICBlbHNlIHRoaXMuc2hlZXRDb250YWluZXI/LmNsYXNzTGlzdC5yZW1vdmUoXCJ0bC1oYXMtZmF2b3JpdGVcIik7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGNvbnN0IFRpbWVsb2dDc3MgPSBgXHJcbi50bC10b2dnbGUtYnRuXHJcbntcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICBmb250LXNpemU6IDJlbTtcclxufVxyXG4udGwtY2xvc2UtYnRuXHJcbntcclxuICAgIGZvbnQtc2l6ZTogMmVtO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgcmlnaHQ6IDVweDtcclxufVxyXG4udGwtdWlcclxue1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgei1pbmRleDogMTAwMDtcclxuICAgIGluc2V0OiAwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbn0gICAgICAgIFxyXG4udGwtZGF0ZVxyXG57XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGdyYXk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuLnRsLXNhdmUtc3RhdHVzLCAudGwtYWRkLWVudHJ5LWJ0blxyXG57XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxufVxyXG4udGwtZW50cnlcclxue1xyXG4gICAgbWFyZ2luLXRvcDogNXB4O1xyXG59XHJcbi50bC1lbnRyeSA+ICpcclxue1xyXG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcclxufVxyXG4udGwtZW50cnkgPiBpbnB1dFt0eXBlPW51bWJlcl1cclxue1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbn1cclxuLnRsLWVudHJ5ID4gaW5wdXRbdHlwZT10aW1lXVxyXG57XHJcbiAgICB3aWR0aDogNzVweDtcclxufVxyXG4udGwtc2F2ZS1zdGF0dXNcclxue1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuLnRsLXNoZWV0LXNlbGVjdFxyXG57XHJcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xyXG59XHJcbi50bC1kYXRlLWxhYmVsXHJcbntcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcbi50bC1kYXRlLWxhYmVsLnRsLWRhdGUtbGFiZWwtd2Vla2VuZFxyXG57XHJcbiAgICBmb250LXdlaWdodDogaW5pdGlhbDtcclxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICAgIGNvbG9yOiBncmF5O1xyXG59XHJcbi50bC1lbnRyeS1yZWFzb24gXHJcbntcclxuICAgIHBhZGRpbmc6IDNweDtcclxufVxyXG4udGwtcmVtb3ZlLWVudHJ5LWJ0blxyXG57XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbn1cclxuLnRsLXdlZWstc2VwZXJhdG9yXHJcbntcclxuICAgIG1hcmdpbi10b3A6IDU3cHg7XHJcbn1cclxuLnRsLWJhbGFuY2UtbGFiZWxcclxue1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuLnRsLWJhbGFuY2UtaGVscFxyXG57XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBjdXJzb3I6IGhlbHA7XHJcbn1cclxuXHJcbi50bC11aS1pbm5lclxyXG57XHJcbiAgICBkaXNwbGF5OiB0YWJsZTtcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG59XHJcbi50bC11aS1pbm5lciwgLnRsLXdlZWstc2VwZXJhdG9yLCAudGwtZGF0ZVxyXG57XHJcbiAgICBtaW4td2lkdGg6IDY1MHB4O1xyXG59XHJcbi50bC1lbnRyeS1jb21tZW50IHtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuLnRsLWhhcy1jb21tZW50IC50bC1lbnRyeS1jb21tZW50XHJcbntcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcbi50bC1zdWNjZXNzXHJcbntcclxuICAgIGNvbG9yOiAjMDJCODc1O1xyXG59XHJcbi50bC13YXJuaW5nXHJcbntcclxuICAgIGNvbG9yOiAjRjBBRjUyO1xyXG59XHJcbi50bC1kYW5nZXJcclxue1xyXG4gICAgY29sb3I6ICNEQTU2NTI7XHJcbn1cclxuLnRsLXN1bS1ob3Vyc1xyXG57XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBtYXJnaW4tdG9wOiAtMjNweDtcclxufVxyXG4udGwtd2Vlay1zdW1cclxue1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbWFyZ2luLXRvcDogLTU3cHg7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxufVxyXG4udGwtdWkgYnV0dG9uLnRsLXN0YXItYnV0dG9uLCAudGwtdWkudGwtZGFyayBidXR0b24udGwtc3Rhci1idXR0b25cclxue1xyXG4gICAgYmFja2dyb3VuZDogbm9uZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuLnRsLXVpIGJ1dHRvbi50bC1zdGFyLWJ1dHRvbi50bC1mYXZvcml0ZSwgLnRsLXVpLnRsLWRhcmsgYnV0dG9uLnRsLXN0YXItYnV0dG9uLnRsLWZhdm9yaXRlXHJcbntcclxuICAgIGNvbG9yOiAjZjFhMDBiO1xyXG4gICAgb3BhY2l0eTogMTtcclxufVxyXG4udGwtcGFzdGUtYnRuIHtcclxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcbi50bC1oYXMtZmF2b3JpdGUgLnRsLXBhc3RlLWJ0bjpub3QoLnRsLWhpZGUtZmF2b3JpdGUtYnV0dG9uKVxyXG57XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuLnRsLXNob3ctb24taG92ZXJcclxue1xyXG4gICAgb3BhY2l0eTogMDtcclxufVxyXG4udGwtZGF0ZTpob3ZlciAudGwtc2hvdy1vbi1ob3ZlclxyXG57XHJcbiAgICBvcGFjaXR5OiAxO1xyXG59XHJcbi50bC1uby1yZWFzb24td2FybmluZyB7XHJcbiAgICBtYXJnaW4tbGVmdDogMTgwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBtYXJnaW4tdG9wOiAtMjJweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG59XHJcbi50bC1uby1yZWFzb24td2FybmluZy50bC1oYXMtcmVhc29uXHJcbntcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuLnRsLWNsaWNrYWJsZVxyXG57XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuLnRsLWRhcmstbW9kZS1idG4ge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgYm90dG9tOiA1cHg7XHJcbiAgICByaWdodDogMjBweDtcclxufVxyXG4udGwtdWkgYnV0dG9uXHJcbntcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkOWQ5ZDk7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59XHJcbi50bC11aSBidXR0b246aG92ZXJcclxue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VmZWJlYjtcclxufVxyXG5cclxuLnRsLXVpLnRsLWRhcmtcclxue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFFMUUxRTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG4udGwtdWkudGwtZGFyayBzZWxlY3QsIC50bC11aS50bC1kYXJrIGlucHV0IHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMyNTI1MjY7XHJcbiAgICBib3JkZXI6IDFweCBncmF5IHNvbGlkO1xyXG4gICAgY29sb3Itc2NoZW1lOiBkYXJrO1xyXG59XHJcbi50bC11aS50bC1kYXJrIGJ1dHRvblxyXG57XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzI4MjgyODtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG4udGwtdWkudGwtZGFyayBidXR0b246aG92ZXJcclxue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzUyNTI1MjtcclxufVxyXG4udGwtdWkudGwtZGFyayAudGwtbm8tcmVhc29uLXdhcm5pbmdcclxue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI1MjUyNjtcclxufVxyXG4udGwtd2Vla2VuZC1kZXNjcmlwdGlvbiB7XHJcbiAgICBjb2xvcjogZ3JheTtcclxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICAgIGZsb2F0OiByaWdodDtcclxuICAgIG1hcmdpbi10b3A6IDJweDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIG1heC13aWR0aDogNDAwcHg7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgbWF4LWhlaWdodDogMzVweDtcclxufVxyXG4udGwtd2Vla2VuZC1kZXNjcmlwdGlvbi50bC13ZWVrZW5kLWRlc2NyaXB0aW9uLWhpZGRlblxyXG57XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcbi50bC12ZXJzaW9uLW51bWJlciB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBib3R0b206IDVweDtcclxuICAgIGxlZnQ6IDVweDtcclxufVxyXG5cclxuLnRsLWNoYW5nZWxvZyB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBpbnNldDogMDtcclxuICAgIHotaW5kZXg6IDEwMDtcclxufVxyXG4udGwtY2hhbmdlbG9nLWJhY2sge1xyXG4gICAgaW5zZXQ6IDA7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxuICAgIG9wYWNpdHk6IDAuNTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLnRsLWNoYW5nZWxvZy50bC1jaGFuZ2Vsb2ctaGlkZGVuIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbi50bC1jaGFuZ2Vsb2ctdmVyc2lvbiB7XHJcbiAgICBtYXJnaW46IDVweCAxMHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGdyYXk7XHJcbn1cclxuXHJcbi50bC1jaGFuZ2Vsb2ctdmVyc2lvbjpsYXN0LWNoaWxkIHtcclxuICAgIGJvcmRlci1ib3R0b206IDA7XHJcbn1cclxuXHJcbi50bC1jaGFuZ2Vsb2ctdGl0bGUge1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBmb250LXNpemU6IDEuMjVlbTtcclxufVxyXG4udGwtY2hhbmdlbG9nLWlubmVyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgaGVpZ2h0OiA3MHZoO1xyXG4gICAgd2lkdGg6IDkwdnc7XHJcbiAgICBsZWZ0OiA1dnc7XHJcbiAgICB0b3A6IDE1dmg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBvdmVyZmxvdzogYXV0bztcclxufVxyXG4udGwtZGFyayAudGwtY2hhbmdlbG9nLWlubmVyXHJcbntcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMxYTFhMWE7XHJcbn1cclxuXHJcbi50bC1iYWxhbmNlLXdhcm5pbmdcclxue1xyXG5cclxufVxyXG4udGwtaGlkZGVuXHJcbntcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbmA7IiwiZXhwb3J0IGNvbnN0IFJlYXNvbkVuaGFuY2VtZW50Q3NzID0gYFxyXG4ucmUtbGFiZWxcclxue1xyXG4gICAgZm9udC1zaXplOiAxLjVlbTtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbn1cclxuLnJlLXJlYXNvbi1zZWxlY3Rcclxue1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG59XHJcbi5yZS1yZWFzb24tdWlcclxue1xyXG4gICAgei1pbmRleDogMjAwMDtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGluc2V0OiAwO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjc1KTtcclxuICAgIHBhZGRpbmctdG9wOiA0NXZoO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuLnJlLWJ0blxyXG57XHJcbiAgICBwYWRkaW5nOiAwIHZhcigtLWJ1dHRvbi1wYWRkaW5nLXgsIDE1cHgpO1xyXG4gICAgbWluLXdpZHRoOiA4MHB4O1xyXG4gICAgaGVpZ2h0OiB2YXIoLS1idXR0b24tc2l6ZSwgMzBweCk7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgZm9udC1zaXplOiB2YXIoLS1idXR0b24tZm9udC1zaXplLCAxMnB4KTtcclxuICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1ib2R5LWZvbnQtZmFtaWx5KTtcclxuICAgIGJvcmRlcjogMDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIG1hcmdpbjogNXB4O1xyXG59XHJcbi5yZS1idG4ucmUtcHJpbWFyeVxyXG57XHJcbiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1iZy10ZXh0LWNvbG9yLCB3aGl0ZSk7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LTYwMCk7XHJcbn1cclxuLnJlLWJ0bi5yZS1zZWNvbmRhcnlcclxue1xyXG4gICAgY29sb3I6IHZhcigtLXNlY29uZGFyeS1iZy10ZXh0LWNvbG9yLCAjNTM1MzUzKTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNlY29uZGFyeS02MDApO1xyXG59XHJcbi5yZS1ibHVyXHJcbntcclxuICAgIGZpbHRlcjogYmx1cigycHgpO1xyXG59XHJcbi5yZS1zdWJtaXR0aW5nIC5yZS1idG5cclxue1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG4ucmUtc3VibWl0dGluZy10ZXh0XHJcbntcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICBmb250LXNpemU6IDEuNWVtO1xyXG59XHJcbi5yZS1zdWJtaXR0aW5nIC5yZS1zdWJtaXR0aW5nLXRleHRcclxue1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuYDsiXSwibmFtZXMiOlsiQXBpIiwic3RhdGljIiwibWV0aG9kIiwidXJsIiwiYm9keSIsIlByb21pc2UiLCJyZXNvbHZlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXN1bHQiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJzdGF0dXMiLCJoYXNPd25Qcm9wZXJ0eSIsImtleSIsInRvU3RyaW5nIiwiYWxlcnQiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwic3RyaW5naWZ5IiwiRGF0ZXMiLCJzdHIiLCJzcGxpdCIsImxlbmd0aCIsInB1c2giLCJEYXRlIiwiam9pbiIsImdldFRpbWUiLCJ0aW1lIiwiaW5jbHVkZVRpbWVzdGFtcCIsImRhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiaG91cnMiLCJob3VyIiwiTWF0aCIsImZsb29yIiwibWludXRlIiwicm91bmQiLCJzZXRIb3VycyIsInNldERhdGUiLCJnZXREYXkiLCJ3ZWVrMSIsInBhcnNlSW50IiwiSGlCb2IiLCJlbnRyaWVzIiwic29tZSIsImUiLCJyZWFzb25JZCIsImRhdGEiLCJtYXAiLCJzdGFydCIsImZvcm1hdCIsInN0YXJ0SG91ciIsImVuZCIsImxlbmd0aEhvdXJzIiwidW5kZWZpbmVkIiwicmVhc29uIiwiY29tbWVudCIsImRhdGVTdHIiLCJ1c2VySWQiLCJ0aGlzIiwiZ2V0VXNlcklkIiwibWV0YWRhdGEiLCJ0aW1lTG9nRW50cnlSZWFzb24iLCJ2YWx1ZXMiLCJ2IiwiaWQiLCJzZXJ2ZXJJZCIsIm5hbWUiLCJ2YWx1ZSIsInNoZWV0IiwidXNlckluZm8iLCJXYWl0IiwibXMiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwiZGVsZWdhdGUiLCJoYW5kbGUiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJSZWFzb25FbmhhbmNlbWVudE1vZGUiLCJUaW1lbG9nU2F2ZVN0YXR1cyIsIkV2ZW50SGFuZGxlciIsImhhbmRsZXJzIiwib24iLCJoYW5kbGVyIiwiY29udGV4dCIsIm9mZiIsImZpbHRlciIsImgiLCJmaXJlIiwidmFsIiwiZm9yRWFjaCIsImNhbGwiLCJNYXRlcmlhbEljb24iLCJsaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsInJlbCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImljb24iLCJmaWxsIiwic3BhbiIsImNsYXNzTmFtZSIsImlubmVyVGV4dCIsInN0eWxlIiwidmVydGljYWxBbGlnbiIsImZvbnRTaXplIiwiZm9udFZhcmlhdGlvblNldHRpbmdzIiwiTnVtYmVycyIsIm51bSIsImRlY2ltYWxzIiwiY2VpbCIsImFyciIsImkiLCJUaW1lbG9nTW9kZWwiLCJzaGVldHMiLCJvbkRhdGVVcGRhdGVkIiwib25SZWFzb25zVXBkYXRlZCIsIm9uU2hlZXRVcGRhdGVkIiwib25TaGVldHNVcGRhdGVkIiwib25TYXZlU3RhdHVzVXBkYXRlZCIsInNhdmVIYW5kbGUiLCJzYXZpbmciLCJjYWxjdWxhdGluZ0ZsZXgiLCJmZXRjaGluZ1NoZWV0cyIsInJlYXNvbnMiLCJhc3luYyIsImZldGNoU2hlZXRzIiwiZmV0Y2hSZWFzb25zIiwiU2F2ZWQiLCJ1bnRpbCIsImVtcGxveWVlU2hlZXRzIiwiY3ljbGVTdGFydERhdGUiLCJjeWNsZUVuZERhdGUiLCJuZXdTaGVldCIsImRhdGVzIiwibG9ja2VkIiwiaG91cnNQZXJEYXkiLCJzb3J0IiwiYSIsImIiLCJmaW5kIiwicyIsImF0dGVuZGFuY2UiLCJzdW1tYXJ5IiwicG90ZW50aWFsV29ya2luZ0hvdXJzIiwicG90ZW50aWFsV29ya2luZ0RheXMiLCJkaXJ0eSIsIm5vdyIsIndlZWtlbmQiLCJmYXZvcml0ZWQiLCJkYXRlRGVzY3JpcHRpb24iLCJub3RlIiwiZGVzY3JpcHRpb24iLCJoYXNDb21tZW50IiwiZmF2b3JpdGUiLCJnZXRGYXZvcml0ZWREYXRlIiwiY2hhbmdlU3RhcnRIb3VyIiwiaW5kZXgiLCJkIiwicXVldWVTYXZlIiwiY2hhbmdlTGVuZ3RoSG91cnMiLCJjaGFuZ2VSZWFzb24iLCJjaGFuZ2VDb21tZW50IiwidG9nZ2xlQ29tbWVudCIsIm9sZEZhdm9yaXRlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImdldEl0ZW0iLCJmZXRjaFNoZWV0IiwiZGVsZXRlRW50cnkiLCJzcGxpY2UiLCJvcmlnaW5hbERhdGUiLCJvcmlnaW5hbFNoZWV0IiwiZGF0ZUluZGV4IiwiaW5kZXhPZiIsImVudHJ5SW5kZXgiLCJzaGVldEluZGV4IiwibGFzdCIsImZpbmRMYXN0RW50cnkiLCJpbmNsdWRlcyIsImVudHJ5IiwiY2xlYXJUaW1lb3V0Iiwic2F2ZSIsIldhaXRpbmciLCJTYXZpbmciLCJtaW5pbXVtV2FpdCIsInN1Ym1pdCIsIkVycm9yIiwiY3VycmVudERhdGVUaW1lIiwicGFzdERhdGVUaW1lIiwiYWxsRGF0ZXMiLCJiYWxhbmNlIiwic2hlZXRCYWxhbmNlcyIsImNhY2hlS2V5IiwiZGF5IiwicG90ZW50aWFsSG91cnMiLCJzdW0iLCJkYXRlU3RyaW5nIiwicmVtYWluaW5nQmFsYW5jZSIsImoiLCJwcmV2RGF0ZSIsImFtb3VudCIsIm1pbiIsImFicyIsIm1heEFnZURheXMiLCJ1bmJhbGFuY2VkRGF0ZXMiLCJ3YXJuaW5nRGF0ZXMiLCJpbml0aWFsaXplIiwic2hlZXREcm9wZG93bk9wdGlvbnMiLCJzaGVldERhdGVzIiwid2Vla1N1bXMiLCJvbkRhcmtNb2RlQ2hhbmdlIiwidGltZWxvZyIsImFkZEJ1dHRvbiIsInBhcmVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0b2dnbGVCdXR0b24iLCJnZXQiLCJ0aXRsZSIsIm9uY2xpY2siLCJ0b2dnbGVWaXNpYmxlIiwiY3JlYXRlVUkiLCJjcmVhdGVNb2RlbCIsImxvY2F0aW9uIiwiaGFzaCIsImlzRGFya01vZGUiLCJ0aW1lbG9nVUlPdXRlciIsImRpc3BsYXkiLCJvdmVyZmxvdyIsInNoZWV0Q29udGFpbmVyIiwiaW5uZXJIVE1MIiwibW9kZWwiLCJ0b2dnbGVEYXJrTW9kZSIsImFwcGVuZCIsInRpbWVsb2dVSUlubmVyIiwiY2xvc2VCdXR0b24iLCJkYXJrTW9kZUJ1dHRvbiIsImRhcmsiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJ2ZXJzaW9uTnVtYmVyIiwiY2hhbmdlbG9nIiwiY3JlYXRlQ2hhbmdlbG9nRWxlbWVudCIsImN1cnNvciIsInRleHREZWNvcmF0aW9uIiwic2hlZXREcm9wZG93bkxhYmVsIiwic2hlZXREcm9wZG93biIsIm9uY2hhbmdlIiwib25TZWxlY3RlZFNoZWV0Q2hhbmdlIiwic2F2ZVN0YXR1cyIsIm9uU2F2ZVN0YXR1c0NsaWNrIiwiYmFsYW5jZVBhcmVudCIsImJhbGFuY2VMYWJlbCIsImJhbGFuY2VXYXJuaW5nIiwiZWxlbWVudCIsImJhY2siLCJpbm5lciIsInZlcnNpb24iLCJ2ZXJzaW9uRWxlbWVudCIsInZlcnNpb25UaXRsZSIsImxpc3QiLCJ0ZXh0IiwidGV4dEVsZW1lbnQiLCJnZXREYXRlQ29udGFpbmVyIiwic2VsZWN0ZWRTaGVldCIsImRhdGVDb250YWluZXIiLCJzdGFyQnV0dG9uIiwicGFzdGVCdXR0b24iLCJ3ZWVrZW5kRGVzY3JpcHRpb24iLCJ3ZWVrU2VwZXJhdG9yIiwic2V0RmF2b3JpdGVkRGF0ZSIsInRvRGF0ZVN0cmluZyIsIm5ld0VudHJ5IiwicGFzdGVGcm9tU3RhcnJlZCIsImFkZFRvV2Vla1N1bSIsImdldEVudHJ5Q29udGFpbmVyIiwiZW50cnlDb250YWluZXIiLCJwIiwiZW5kSG91ciIsImNvbW1lbnRCdXR0b24iLCJub1JlYXNvbldhcm5pbmciLCJ0eXBlIiwiZGlzYWJsZWQiLCJwYXJzZVRpbWVUb2hvdXJzIiwiZW5kTGFiZWwiLCJ1cGRhdGVSZWFzb25zRHJvcGRvd24iLCJzdW1Ib3VycyIsInN0ZXAiLCJwYXJzZUZsb2F0IiwiZHVyYXRpb25MYWJlbCIsInBsYWNlaG9sZGVyIiwid2Vla1N1bSIsIm1hcmdpblRvcCIsImZvcm1hdEhvdXIiLCJyZW1vdmVkRW50cmllcyIsInciLCJkYXlzIiwidG90YWxIb3VycyIsIndlZWtOdW1iZXIiLCJnZXRXZWVrTnVtYmVyRnJvbURhdGUiLCJ1cGRhdGVCYWxhbmNlIiwic2VsZWN0Iiwib3B0aW9uIiwiY29udGFpbnMiLCJvIiwiZ2V0Q3VycmVudEJhbGFuY2VIb3VycyIsInRvdGFsQmFsYW5jZSIsInN1Ym1pdHRpbmciLCJjbG9ja0luQnV0dG9uRmluZGVyIiwicmVhc29uRW5oYW5jZW1lbnRVSSIsImxhYmVsIiwicmVhc29uU2VsZWN0Iiwic2F2ZURlZmF1bHRSZWFzb25WYWx1ZSIsImNhbmNlbEJ1dHRvbiIsImNhbmNlbCIsInN1Ym1pdEJ1dHRvbiIsInN1Ym1pdHRpbmdUZXh0IiwiZmluZFVuZW5oYW5jZWRCdXR0b25zIiwiZW5oYW5jZUNsb2NrSW5CdXR0b24iLCJGaXhMYXRlc3QiLCJGaXhBbGwiLCJhcHBSb290Iiwic2VsZWN0b3IiLCJxdWVyeSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXR0b24iLCJtb2RlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNob3dSZWFzb25GaXhlciIsImxvYWREZWZhdWx0UmVhc29uVmFsdWUiLCJzZXRVSVZpc2libGUiLCJmaXhBbGwiLCJmaXhMYXRlc3QiLCJsYXRlc3QiXSwic291cmNlUm9vdCI6IiJ9